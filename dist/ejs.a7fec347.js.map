{"version":3,"sources":["../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/node_modules/isarray/index.js","../node_modules/buffer/index.js","../node_modules/lodash/lodash.js","../node_modules/process/browser.js","../node_modules/path-browserify/index.js","../node_modules/ejs/lib/utils.js","../node_modules/ejs/package.json","../node_modules/ejs/lib/ejs.js","../node_modules/moment/moment.js","../dist/jsoneditor.js","ejs.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","regExpChars","escapeRegExpChars","string","String","replace","_ENCODE_HTML_RULES","_MATCH_HTML","encode_char","c","escapeFuncStr","escapeXML","markup","undefined","toString","Function","shallowCopy","to","from","p","shallowCopyFromList","list","cache","_data","set","key","val","get","remove","reset","fs","require","path","utils","scopeOptionWarned","_VERSION_STRING","_DEFAULT_OPEN_DELIMITER","_DEFAULT_CLOSE_DELIMITER","_DEFAULT_DELIMITER","_DEFAULT_LOCALS_NAME","_NAME","_REGEX_STRING","_OPTS_PASSABLE_WITH_DATA","_OPTS_PASSABLE_WITH_DATA_EXPRESS","_BOM","fileLoader","readFileSync","localsName","promiseImpl","Promise","resolveInclude","filename","isDir","dirname","extname","resolve","includePath","ext","getIncludePath","options","filePath","views","match","exec","root","existsSync","isArray","some","v","escapeFunction","handleCache","template","func","hasTemplate","compile","tryHandleCache","data","cb","result","reject","err","includeFile","opts","rethrow","str","flnm","lineno","esc","lines","split","start","Math","max","end","min","context","slice","map","line","curr","join","message","stripSemi","templ","scope","console","warn","Template","render","d","o","renderFile","shift","viewOpts","pop","settings","clearCache","text","templateText","mode","truncate","currentLine","source","dependencies","client","escape","compileDebug","debug","openDelimiter","closeDelimiter","delimiter","strict","rmWhitespace","outputFunctionName","async","destructuredLocals","legacyInclude","_with","regex","createRegex","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","delim","open","close","RegExp","src","fn","prepended","appended","escapeFn","ctor","generateSource","destructuring","JSON","stringify","log","SyntaxError","returnedFn","anonymous","include","includeData","Object","defineProperty","basename","value","writable","enumerable","configurable","self","matches","parseTemplateText","forEach","index","closing","indexOf","scanLine","pat","arr","firstPos","substring","_addOutput","newLineCount","lastIndexOf","__express","VERSION","window","ejs","Class","initializing","fnTest","test","postMessage","extend","prop","_super","tmp","ret","init","constructor","callee","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","Event","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","id","arg","$isplainobject","obj","hasOwnProperty","$extend","destination","property","$each","$trigger","el","initEvent","dispatchEvent","$triggerc","$uuid","r","random","$isCordova","Meteor","isCordova","JSONEditor","defaults","ready","theme_class","themes","theme","schema","refs","uuid","__data","icon_class","iconlibs","iconlib","root_container","getContainer","appendChild","translate","_loadExternalRefs","_getDefinitions","validator","Validator","editor_class","getEditorClass","createEditor","jsoneditor","required","container","preBuild","build","postBuild","startval","setValue","validation_results","validate","getValue","showValidationErrors","onReady","trigger","destroy","destroyed","innerHTML","callbacks","newcallbacks","setOption","option","show_errors","onChange","classname","expandSchema","resolvers","resolver","editors","firing_change","compileTemplate","engine","templates","hasAttribute","getAttribute","setAttribute","registerEditor","editor","unregisterEditor","getEditor","watch","watchlist","unwatch","newlist","notifyWatchers","isEnabled","enable","disable","definitions","_getExternalRefs","merge_refs","newrefs","$ref","substr","j","done","waiting","callback_fired","url","ajax","XMLHttpRequest","onreadystatechange","readyState","status","response","parse","responseText","send","expandRefs","ref","extendSchemas","extended","type","disallow","anyOf","not","allOf","extends","oneOf","obj1","obj2","reduce","filter","n","languages","custom_validators","getPropByString","propString","isRelativePropertyPath","propertyPathContext","iLen","stack","parts","firstItem","unshift","props","candidate","_validateSchema","fullSchemaValue","errors","valid","thisEditor","stringified","requiredIf","hasError","valueMatch","showThisField","propertyPath","propPathIsRelative","propertyPathIsRelative","propValue","propertyPathMatches","matchType","regexp","matchExpression","testValuesArray","actualValuesArray","testValue","actualValue","hideOtherwise","$","show","disableOtherwise","disabledEditorForPath","hide","enabledEditorForPath","disabled","format","sigVal","hasValue","error","multiple","required_by_default","enum","every","currentValue","oneof_errors","_checkType","valueToTest","multipleOf","divisibleBy","floor","overrideMaximum","exclusiveMaximum","maximum","exclusiveMinimum","minimum","maxLength","minLength","pattern","autocomplete","acSource","autocompleteData","autocompleteDataSourceID","autocompleteValidator","dataSourceID","term","isACValueValid","items","additionalItems","maxItems","minItems","uniqueItems","seen","maxProperties","minProperties","validated_properties","properties","patternProperties","additionalProperties","no_additional_properties","AbstractEditor","onChildEditorChange","notify","change","parent","bubble","watch_listener","register","unregister","getNumColumns","template_engine","original_schema","formname","form_name_root","link_watchers","setContainer","setupWatchListeners","addLinks","getDefault","updateHeaderText","onWatchedFieldChange","watched","vars","watched_values","refreshWatchedFieldValues","path_parts","first","adjusted_path","targetPathParts","relativePathParts","closest","headerTemplate","header_template","no_link_holder","link_holder","getLinksHolder","links","addLink","getLink","getButton","icon","btnClass","getIcon","btn","className","setButtonText","button","link","holder","mime","mediaType","href","getBlockLinkHolder","createElement","image","createImageLink","rel","getBlockLink","media","createMediaLink","textContent","changed","getWatchedFieldValues","header","getHeaderText","title_only","header_text","getTitle","i0","i1","refreshValue","getChildEditors","parentNode","removeChild","isRequired","isRemoveDisabled","disable_remove_links","default","emptyFirstField","getDisplayText","disp","used","description","descripton","inc","getOption","null","input","removeAttribute","initial","from_template","serialized","linkRouteIfUndefined","linkTextNode","createTextNode","linkTextIfUndefined","sanitized","sanitize","input_display","input_hidden","_flatpickr","setDate","sceditor_instance","epiceditor","importFile","ace_editor","is_dirty","ceil","num","input_type","compact","label","getFormInputLabel","getFormInputDescription","showHTML","divElem","hiddenInput","getFormInputField","labelElem","labelTextNode","geolocAvailable","needGeolocUpdate","JutoCordovaBridge","deviceReady","locationFixObtained","currentTime","differenceMilliseconds","lastLocationUpdateTime","toleratedDifferenceMilliseconds","locationUpdateFrequencySeconds","nodeValue","latitude","longitude","app","URL","updateCurrentPosition","navigator","geolocation","getCurrentPosition","pos","coords","default_format","getTextareaInput","information_only","step","getRangeInput","MobileRangeSlider","rangeDiv","mobileRangeSlider","rangeInput","secondaryControl","getFormControl","addEventListener","knobWidth","getElementsByClassName","offsetWidth","trackWidth","range","width","position","round","target","setKnobPosition","source_code","acDivElem","acUUID","readOnly","readonly","always_disabled","autocompleteHandler","request","select","ui","item","delay","focus","attachHandlers","preventDefault","stopPropagation","placeholder","control","info","flatpickr","flatpickrDefaults","flatpickrOptions","afterInputReady","wysiwyg","jQuery","sceditor","plugins","emoticonsEnabled","height","sceditor_options","blur","html","EpicEditor","epiceditor_container","insertBefore","style","display","clientSideStorage","load","exportFile","ace","ace_container","edit","setTheme","getSession","setMode","Mode","unload","previous_error_setting","messages","addInputError","removeInputError","number","eventName","integer","object","maxwidth","editjson_button","addproperty_button","hideEditJSON","layoutEditors","row_container","property_order","keys","sort","a","b","ordera","propertyOrder","orderb","rows","property_removed","found","hidden","offsetHeight","minh","maxh","biggest","new_width","layout","row","getGridRow","setGridColumnSize","getPropertySchema","cached_editors","object_layout","minwidth","table_row","table","defaultProperties","addObjectProperty","editor_holder","getTableCell","getHeader","editjson_holder","getModal","editjson_textarea","editjson_save","saveJSON","editjson_cancel","addproperty_holder","addproperty_list","maxHeight","padding","overflowY","overflowX","paddingLeft","addproperty_add","addproperty_input","marginBottom","alert","spacer","clear","getDescription","error_holder","getIndentedPanel","paddingBottom","getGridContainer","getGridColumn","title_controls","getHeaderButtonHolder","editjson_controls","addproperty_controls","collapsed","toggle_button","disable_collapse","toggleEditJSON","disable_edit_json","toggleAddProperty","refreshAddProperties","showEditJSON","hideAddProperty","left","offsetLeft","top","offsetTop","editing_json","json","insertPropertyControlUsingPropertyOrder","childNodes","child","addPropertyCheckbox","checkbox","labelText","getCheckbox","getCheckboxLabel","paddingTop","marginTop","checked","removeObjectProperty","addproperty_checkboxes","showAddProperty","adding_property","prebuild_only","canHaveAdditionalProperties","getChildEditorHolder","remove_empty_properties","disable_properties","can_add","can_remove","num_props","show_modal","my_errors","other_errors","getErrorMessage","addTableRowError","removeTableRowError","imageFile","select_options","removeProperty","disableLabel","addProperty","enableLabel","fileInput","placeholderImg","cordova","platformId","fileinput","querySelector","imgelem","onImageNotChosenFail","notification","obtainPicture","buttonIndex","camera","getPicture","onImageChosenSuccess","quality","sourceType","Camera","PictureSourceType","CAMERA","destinationType","DestinationType","FILE_URI","correctOrientation","allowEdit","encodingType","EncodingType","JPEG","PHOTOLIBRARY","MediaType","PICTURE","imageURI","imageObj","Image","onload","valueObj","maxWidth","confirm","File","FileReader","FileList","Blob","files","file","fr","naturalWidth","naturalHeight","size","lastModifiedDate","readAsDataURL","getItemInfo","tabs_holder","add_row_button","remove_all_rows_button","delete_last_row_button","moveup_button","movedown_button","delete_button","row_cache","hide_delete_buttons","disable_array_delete","hide_move_buttons","disable_array_reorder","hide_add_button","disable_array_add","controls","getTabHolder","row_holder","getTabContentHolder","active_tab","panel","getButtonHolder","addControls","refreshTabs","getItemTitle","item_title","getItemSchema","item_info","child_editors","title_counter_offset","getElementEditor","getTabContent","array_controls","empty","hard","tab","destroyRow","getMax","Infinity","refresh_headers","tab_text","markTabActive","markTabInactive","addRow","new_active_tab","force","oldi","movedown_buttons","controls_needed","getTab","addTab","controls_holder","newval","row_holder_display","controls_display","beforeAddValidationCallback","arrayAddCallback","tabs","textAlign","noDeleteLastRowButton","noDeleteAllButton","imageFileArray","item_schema","item_default","item_has_child_editors","getTable","thead","getTableHead","header_row","getTableRow","getTableBody","th","getTableHeaderCell","controls_header_cell","getItemDefault","ignore","schema_copy","controls_cell","table_controls","margin","numrows_changed","refreshRowButtons","need_row_buttons","switcher","switchEditor","buildChildEditor","current_value","refreshHeaderText","types","switcher_options","validators","oneof","allowed_types","display_text","getSwitcher","marginLeft","getSwitcherOptions","check","new_errors","new_error","enum_titles","selected","html_values","getHTML","display_area","hide_display","afterRefresh","typecast","enum_values","thisValue","enum_options","select2","setSelectValue","longest_text","typecastValues","typecastPrimitive","enum_display","enumSource","enumValue","multipleSelect","getSelectInput","setSelectOptions","onInputChange","isMulti","selectedOptions","setupSelect2","select2_options","select_titles","new_items","item_titles","item_values","prev_value","radio","elem","radioNodeList","querySelectorAll","parentElement","classList","add","checkedElem","getRadioGroupFormControl","radios","radioList","multiselect","select_values","items_schema","option_keys","inputs","getMultiCheckboxHolder","children","new_value","updateValue","base64","uploader","refreshPreview","preview","last_preview","img","upload","accept","previewURLAndUploadFile","previewURL","fileObj","getProgressBar","progressBar","success","uploadSuccessCallback","failure","updateProgress","progress","updateProgressBar","updateProgressBarUnknown","picOptions","resolveLocalFileSystemURL","fileEntry","fullPath","toInternalURL","objectURL","createObjectURL","preventPreview","signature","addClass","canvas","getCanvas","SignaturePad","signaturePad","sigpad","onEnd","dataURI","toDataURL","timestamp","toLocaleString","isEmpty","buttonHolder","resizeCanvas","resize","w","h","getImageURIWithoutBlankMargins","ctx","_ctx","imgWidth","imgHeight","imageData","getImageData","getAlpha","y","scanY","fromTop","offset","scanX","fromLeft","cropTop","cropBottom","cropLeft","cropRight","referenceDim","heightDifference","heightDifferencePC","widthDifference","widthDifferencePC","newHeight","newWidth","relevantData","tempCanvas","tempctx","getContext","putImageData","datauri","drawImage","disable_output_form","containerSelector","containerSelectorSignature","last","find","sigImage","sigTimestamp","append","valParsed","fromDataURL","ratio","AbstractTheme","handler","rangeCSS","getFloatRightLinkHolder","cssFloat","backgroundColor","border","boxShadow","zIndex","disableHeader","color","enableHeader","fontWeight","getRadioLabel","getRadioInput","titles","defaultVal","radioLabel","fontStyle","getElementsByTagName","setSwitcherOptions","boxSizing","firstChild","borderLeft","getCheckboxDescription","getRadioDescription","applyStyles","styles","selector","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","f","bind","span","borderWidth","lineHeight","borderRadius","borderBottomRightRadius","borderTopRightRadius","cursor","tab_holder","opacity","background","bootstrap2","controlgroup","errmsg","bar","bootstrap3","group","emptySpan","labelHolder","infoSpan","labelToReturn","isChecked","oldActive","div","percentage","foundation","minWidth","paddingRight","verticalAlign","insertAdjacentHTML","meter","foundation3","fontSize","sizes","foundation4","foundation5","borderBottom","borderColor","jqueryui","materialize","tagName","pickadate","material_select","defaultOp","nestedInput","AbstractIconLib","mapping","collapse","expand","delete","cancel","save","moveup","movedown","icon_prefix","getIconClass","iconclass","fontawesome3","fontawesome4","foundation2","expandVars","expanded","EJS","compiled","__now","_","moment","handlebars","Handlebars","hogan","Hogan","jexl","addTransform","inputObj","lodashFuncName","momentFnName","momentInst","isValid","newContext","assign","evalSync","Mark","up","mustache","Mustache","view","swig","underscore","variables","lang","language","default_language","en","error_notset","error_notempty","error_enum","error_anyOf","error_oneOf","error_not","error_type_union","error_type","error_disallow_union","error_disallow","error_multipleOf","error_maximum_excl","error_maximum_incl","error_minimum_excl","error_minimum_incl","error_maxLength","error_minLength","error_pattern","error_additionalItems","error_maxItems","error_minItems","error_uniqueItems","error_maxProperties","error_minProperties","error_required","error_requiredIf","error_additional_properties","error_dependency","signature_timestamp","clear_signature_button","binaryEncoding","Zepto","getDOBFromAge","ageInYears","subtract","startOf","employeesDoc","employees","dob","age","retireAge","getElementById","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","overlay","createErrorOverlay","body","stackTrace","innerText","getParents","modules","parents","k","dep","deps","cached"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACxthBA;AACA,IAAIA,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA;AACA;;AAEA,IAAIC,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBA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AAgB,CAAE;;AAElB1C,OAAO,CAAC2C,EAAR,GAAaD,IAAb;AACA1C,OAAO,CAAC4C,WAAR,GAAsBF,IAAtB;AACA1C,OAAO,CAAC6C,IAAR,GAAeH,IAAf;AACA1C,OAAO,CAAC8C,GAAR,GAAcJ,IAAd;AACA1C,OAAO,CAAC+C,cAAR,GAAyBL,IAAzB;AACA1C,OAAO,CAACgD,kBAAR,GAA6BN,IAA7B;AACA1C,OAAO,CAACiD,IAAR,GAAeP,IAAf;AACA1C,OAAO,CAACkD,eAAR,GAA0BR,IAA1B;AACA1C,OAAO,CAACmD,mBAAR,GAA8BT,IAA9B;;AAEA1C,OAAO,CAACoD,SAAR,GAAoB,UAAUC,IAAV,EAAgB;AAAE,SAAO,EAAP;AAAW,CAAjD;;AAEArD,OAAO,CAACsD,OAAR,GAAkB,UAAUD,IAAV,EAAgB;AAC9B,QAAM,IAAI/C,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIAN,OAAO,CAACuD,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACAvD,OAAO,CAACwD,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAInD,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGAN,OAAO,CAAC0D,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9SA;;;;;;;;;;;;;;;;;;AAkBA;;;;;AAMA;;AAEA,IAAIC,WAAW,GAAG,qBAAlB;AAEA;;;;;;;;;;;AAUAzD,OAAO,CAAC0D,iBAAR,GAA4B,UAAUC,MAAV,EAAkB;AAC5C;AACA,MAAI,CAACA,MA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IAAtD;AACD;AACF;AAvUkB,CAArB;AA0UA;;;;;;;;;;;;;AAYAjL,OAAO,CAACmE,SAAR,GAAoBsB,KAAK,CAACtB,SAA1B;AAEA;;;;;;;;;AASAnE,OAAO,CAACoP,SAAR,GAAoBpP,OAAO,CAACuK,UAA5B;AAEA;;;;;;;;AAQAvK,OAAO,CAACqP,OAAR,GAAkB1J,eAAlB;AAEA;;;;;;;;AAQA3F,OAAO,CAACmD,IAAR,GAAe6C,KAAf;AAEA;;AACA,IAAI,OAAOsJ,MAAP,IAAiB,WAArB,EAAkC;AAChCA,EAAAA,MAAM,CAACC,GAAP,GAAavP,OAAb;AACD;;;;ACv4BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1/IA;;;;;;;AAOA;;;;AAGA;AAEA,CAAC,YAAW;AAEZ;;AACA;;;;AAIA;AACA,MAAIwP,KAAJ;;AACA,GAAC,YAAU;AACT,QAAIC,YAAY,GAAG,KAAnB;AAAA,QAA0BC,MAAM,GAAG,MAAMC,IAAN,CAAW,YAAU;AAACL,MAAAA,MAAM,CAACM,WAAP,CAAmB,KAAnB;AAA2B,KAAjD,IAAqD,YAArD,GAAoE,IAAvG,CADS,CAGT;;AACAJ,IAAAA,KAAK,GAAG,iBAAU,CAAE,CAApB,CAJS,CAMT;;;AACAA,IAAAA,KAAK,CAACK,MAAN,GAAe,UAASC,IAAT,EAAe;AAC5B,UAAIC,MAAM,GAAG,KAAK9N,SAAlB,CAD4B,CAG5B;AACA;;AACAwN,MAAAA,YAAY,GAAG,IAAf;AACA,UAAIxN,SAAS,GAAG,IAAI,IAAJ,EAAhB;AACAwN,MAAAA,YAAY,GAAG,KAAf,CAP4B,CAS5B;;AACA,WAAK,IAAItM,IAAT,IAAiB2M,IAAjB,EAAuB;AACrB;AACA7N,QAAAA,SAAS,CAACkB,IAAD,CAAT,GAAkB,OAAO2M,IAAI,CAAC3M,IAAD,CAAX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","file":"ejs.a7fec347.js","sourceRoot":"../examples","sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  for (var p in from) {\n    to[p] = from[p];\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  for (var i = 0; i < list.length; i++) {\n    var p = list[i];\n    if (typeof from[p] != 'undefined') {\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements Cache\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n","module.exports = {\n  \"_args\": [\n    [\n      \"ejs@3.0.1\",\n      \"/Users/mikecunneen/Development/juto/src/shared-meteor-packages/meteor-json-editor/json-editor\"\n    ]\n  ],\n  \"_development\": true,\n  \"_from\": \"ejs@3.0.1\",\n  \"_id\": \"ejs@3.0.1\",\n  \"_inBundle\": false,\n  \"_integrity\": \"sha512-cuIMtJwxvzumSAkqaaoGY/L6Fc/t6YvoP9/VIaK0V/CyqKLEQ8sqODmYfy/cjXEdZ9+OOL8TecbJu+1RsofGDw==\",\n  \"_location\": \"/ejs\",\n  \"_phantomChildren\": {},\n  \"_requested\": {\n    \"type\": \"version\",\n    \"registry\": true,\n    \"raw\": \"ejs@3.0.1\",\n    \"name\": \"ejs\",\n    \"escapedName\": \"ejs\",\n    \"rawSpec\": \"3.0.1\",\n    \"saveSpec\": null,\n    \"fetchSpec\": \"3.0.1\"\n  },\n  \"_requiredBy\": [\n    \"#DEV:/\"\n  ],\n  \"_resolved\": \"https://registry.npmjs.org/ejs/-/ejs-3.0.1.tgz\",\n  \"_spec\": \"3.0.1\",\n  \"_where\": \"/Users/mikecunneen/Development/juto/src/shared-meteor-packages/meteor-json-editor/json-editor\",\n  \"author\": {\n    \"name\": \"Matthew Eernisse\",\n    \"email\": \"mde@fleegix.org\",\n    \"url\": \"http://fleegix.org\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/mde/ejs/issues\"\n  },\n  \"dependencies\": {},\n  \"description\": \"Embedded JavaScript templates\",\n  \"devDependencies\": {\n    \"browserify\": \"^13.1.1\",\n    \"eslint\": \"^4.14.0\",\n    \"git-directory-deploy\": \"^1.5.1\",\n    \"jake\": \"^10.3.1\",\n    \"jsdoc\": \"^3.4.0\",\n    \"lru-cache\": \"^4.0.1\",\n    \"mocha\": \"^5.0.5\",\n    \"uglify-js\": \"^3.3.16\"\n  },\n  \"engines\": {\n    \"node\": \">=0.10.0\"\n  },\n  \"homepage\": \"https://github.com/mde/ejs\",\n  \"keywords\": [\n    \"template\",\n    \"engine\",\n    \"ejs\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"main\": \"./lib/ejs.js\",\n  \"name\": \"ejs\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/mde/ejs.git\"\n  },\n  \"scripts\": {\n    \"postinstall\": \"node ./postinstall.js\",\n    \"test\": \"mocha\"\n  },\n  \"version\": \"3.0.1\"\n}\n;","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {Function}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} isDir    parent file path whether is directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    includePath = exports.resolveInclude(path.replace(/^\\/*/,''), options.root || '/', true);\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath) {\n      if (Array.isArray(views) && views.some(function (v) {\n        filePath = exports.resolveInclude(path, v, true);\n        return fs.existsSync(filePath);\n      })) {\n        includePath = filePath;\n      }\n    }\n    if (!includePath) {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy({}, options);\n  opts.filename = getIncludePath(path, opts);\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements RethrowCallback\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} filename file name of the EJS file\n * @param {String} lineno   line number of the error\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc){\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm); // eslint-disable-line\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} opts     compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || {};\n  var opts = o || {};\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = {};\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || {};\n  var options = {};\n  this.templateText = text;\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  this.dependencies = [];\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    var src;\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    var escapeFn = opts.escapeFunction;\n    var ctor;\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + (opts.filename ?\n        JSON.stringify(opts.filename) : 'undefined') + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + opts.filename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy({}, data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context, [data || {}, escapeFn, include, rethrow]);\n    };\n    returnedFn.dependencies = this.dependencies;\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","/*! JSON Editor v0.7.13 - JSON Schema -> HTML Editor\n * By Jeremy Dorn - https://github.com/jdorn/json-editor/\n * Released under the MIT license\n *\n * Date: 2015-01-09\n */\n\n/**\n * See README.md for requirements and usage info\n */\n/*global $:false, jQuery:false, JutoCordovaBridge:false, console:false, filter:false */\n\n(function() {\n\n/*jshint loopfunc: true */\n/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar Class;\n(function(){\n  var initializing = false, fnTest = /xyz/.test(function(){window.postMessage(\"xyz\");}) ? /\\b_super\\b/ : /.*/;\n \n  // The base Class implementation (does nothing)\n  Class = function(){};\n \n  // Create a new Class that inherits from this class\n  Class.extend = function(prop) {\n    var _super = this.prototype;\n   \n    // Instantiate a base class (but only create the instance,\n    // don't run the init constructor)\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n   \n    // Copy the properties over onto the new prototype\n    for (var name in prop) {\n      // Check if we're overwriting an existing function\n      prototype[name] = typeof prop[name] == \"function\" &&\n        typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n        (function(name, fn){\n          return function() {\n            var tmp = this._super;\n           \n            // Add a new ._super() method that is the same method\n            // but on the super-class\n            this._super = _super[name];\n           \n            // The method only need to be bound temporarily, so we\n            // remove it when we're done executing\n            var ret = fn.apply(this, arguments);        \n            this._super = tmp;\n           \n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n   \n    // The dummy class constructor\n    function Class() {\n      // All construction is actually done in the init method\n      if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n    }\n   \n    // Populate our constructed prototype object\n    Class.prototype = prototype;\n   \n    // Enforce the constructor to be what we expect\n    Class.prototype.constructor = Class;\n \n    // And make this class extendable\n    Class.extend = arguments.callee;\n   \n    return Class;\n  };\n  \n  return Class;\n})();\n\n// CustomEvent constructor polyfill\n// From MDN\n(function () {\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\n\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n// MIT license\n(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || \n                                      window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n \n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n \n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n\n// Array.isArray polyfill\n// From MDN\n(function() {\n\tif(!Array.isArray) {\n\t  Array.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t  };\n\t}\n}());\nvar $isplainobject = function( obj ) {\n  // Not own constructor property must be Object\n  if ( obj.constructor &&\n    !obj.hasOwnProperty('constructor') &&\n    !obj.constructor.prototype.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n\n  var key;\n  for ( key in obj ) {}\n\n  return key === undefined || obj.hasOwnProperty(key);\n};\n\nvar $extend = function(destination) {\n  var source, i,property;\n  for(i=1; i<arguments.length; i++) {\n    source = arguments[i];\n    for (property in source) {\n      if(!source.hasOwnProperty(property)) continue;\n      if(source[property] && $isplainobject(source[property])) {\n        if(!destination.hasOwnProperty(property)) destination[property] = {};\n        $extend(destination[property], source[property]);\n      }\n      else {\n        destination[property] = source[property];\n      }\n    }\n  }\n  return destination;\n};\n\nvar $each = function(obj,callback) {\n  if(!obj) return;\n  var i;\n  if(typeof obj.length !== 'undefined') {\n    for(i=0; i<obj.length; i++) {\n      if(callback(i,obj[i])===false) return;\n    }\n  }\n  else {\n    for(i in obj) {\n      if(!obj.hasOwnProperty(i)) continue;\n      if(callback(i,obj[i])===false) return;\n    }\n  }\n};\n\nvar $trigger = function(el,event) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(event, true, true);\n  el.dispatchEvent(e);\n};\nvar $triggerc = function(el,event) {\n  var e = new CustomEvent(event,{\n    bubbles: true,\n    cancelable: true\n  });\n\n  el.dispatchEvent(e);\n};\nvar $uuid = function() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\nvar $isCordova = function() {\n  return typeof Meteor !== 'undefined' && Meteor.isCordova;\n};\nvar JSONEditor = function(element,options) {\n  options = $extend({},JSONEditor.defaults.options,options||{});\n  this.element = element;\n  this.options = options;\n  this.init();\n};\nJSONEditor.prototype = {\n  init: function() {\n    var self = this;\n    \n    this.ready = false;\n\n    var theme_class = JSONEditor.defaults.themes[this.options.theme || JSONEditor.defaults.theme];\n    if(!theme_class) throw \"Unknown theme \" + (this.options.theme || JSONEditor.defaults.theme);\n    \n    this.schema = this.options.schema;\n    this.theme = new theme_class();\n    this.template = this.options.template;\n    this.refs = this.options.refs || {};\n    this.uuid = 0;\n    this.__data = {};\n    \n    var icon_class = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib];\n    if(icon_class) this.iconlib = new icon_class();\n\n    this.root_container = this.theme.getContainer();\n    this.element.appendChild(this.root_container);\n    \n    this.translate = this.options.translate || JSONEditor.defaults.translate;\n\n    // Fetch all external refs via ajax\n    this._loadExternalRefs(this.schema, function() {\n      self._getDefinitions(self.schema);\n      self.validator = new JSONEditor.Validator(self);\n      \n      // Create the root editor\n      var editor_class = self.getEditorClass(self.schema);\n      self.root = self.createEditor(editor_class, {\n        jsoneditor: self,\n        schema: self.schema,\n        required: true,\n        container: self.root_container\n      });\n      \n      self.root.preBuild();\n      self.root.build();\n      self.root.postBuild();\n\n      // Starting data\n      if(self.options.startval) self.root.setValue(self.options.startval);\n\n      self.validation_results = self.validator.validate(self.root.getValue());\n      self.root.showValidationErrors(self.validation_results);\n      self.ready = true;\n\n      // Fire ready event asynchronously\n      window.requestAnimationFrame(function() {\n        if(!self.ready) return;\n\n        self.theme.onReady();\n        self.validation_results = self.validator.validate(self.root.getValue());\n        self.root.showValidationErrors(self.validation_results);\n        self.trigger('ready');\n        self.trigger('change');\n      });\n    });\n  },\n  getValue: function() {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\";\n\n    return this.root.getValue();\n  },\n  setValue: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\";\n\n    this.root.setValue(value);\n    return this;\n  },\n  validate: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before validating\";\n    \n    // Custom value\n    if(arguments.length === 1) {\n      return this.validator.validate(value);\n    }\n    // Current value (use cached result)\n    else {\n      return this.validation_results;\n    }\n  },\n  destroy: function() {\n    if(this.destroyed) return;\n    if(!this.ready) return;\n    \n    this.schema = null;\n    this.options = null;\n    this.root.destroy();\n    this.root = null;\n    this.root_container = null;\n    this.validator = null;\n    this.validation_results = null;\n    this.theme = null;\n    this.iconlib = null;\n    this.template = null;\n    this.__data = null;\n    this.ready = false;\n    this.element.innerHTML = '';\n    \n    this.destroyed = true;\n  },\n  on: function(event, callback) {\n    this.callbacks = this.callbacks || {};\n    this.callbacks[event] = this.callbacks[event] || [];\n    this.callbacks[event].push(callback);\n    \n    return this;\n  },\n  off: function(event, callback) {\n    // Specific callback\n    if(event && callback) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = this.callbacks[event] || [];\n      var newcallbacks = [];\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        if(this.callbacks[event][i]===callback) continue;\n        newcallbacks.push(this.callbacks[event][i]);\n      }\n      this.callbacks[event] = newcallbacks;\n    }\n    // All callbacks for a specific event\n    else if(event) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = [];\n    }\n    // All callbacks for all events\n    else {\n      this.callbacks = {};\n    }\n    \n    return this;\n  },\n  trigger: function(event) {\n    if(this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        this.callbacks[event][i]();\n      }\n    }\n    \n    return this;\n  },\n  setOption: function(option, value) {\n    if(option === \"show_errors\") {\n      this.options.show_errors = value;\n      this.onChange();\n    }\n    // Only the `show_errors` option is supported for now\n    else {\n      throw \"Option \"+option+\" must be set during instantiation and cannot be changed later\";\n    }\n    \n    return this;\n  },\n  getEditorClass: function(schema) {\n    var classname;\n\n    schema = this.expandSchema(schema);\n\n    $each(JSONEditor.defaults.resolvers,function(i,resolver) {\n      var tmp = resolver(schema);\n      if(tmp) {\n        if(JSONEditor.defaults.editors[tmp]) {\n          classname = tmp;\n          return false;\n        }\n      }\n    });\n\n    if(!classname) throw \"Unknown editor for schema \"+JSON.stringify(schema);\n    if(!JSONEditor.defaults.editors[classname]) throw \"Unknown editor \"+classname;\n\n    return JSONEditor.defaults.editors[classname];\n  },\n  createEditor: function(editor_class, options) {\n    options = $extend({},editor_class.options||{},options);\n    return new editor_class(options);\n  },\n  onChange: function() {\n    if(!this.ready) return;\n    \n    if(this.firing_change) return;\n    this.firing_change = true;\n    \n    var self = this;\n    \n    window.requestAnimationFrame(function() {\n      self.firing_change = false;\n      if(!self.ready) return;\n\n      // Validate and cache results\n      self.validation_results = self.validator.validate(self.root.getValue());\n      \n      if(self.options.show_errors !== \"never\") {\n        self.root.showValidationErrors(self.validation_results);\n      }\n      else {\n        self.root.showValidationErrors([]);\n      }\n      \n      // Fire change event\n      self.trigger('change');\n    });\n    \n    return this;\n  },\n  compileTemplate: function(template, name) {\n    name = name || JSONEditor.defaults.template;\n\n    var engine;\n\n    // Specifying a preset engine\n    if(typeof name === 'string') {\n      if(!JSONEditor.defaults.templates[name]) throw \"Unknown template engine \"+name;\n      engine = JSONEditor.defaults.templates[name]();\n\n      if(!engine) throw \"Template engine \"+name+\" missing required library.\";\n    }\n    // Specifying a custom engine\n    else {\n      engine = name;\n    }\n\n    if(!engine) throw \"No template engine set\";\n    if(!engine.compile) throw \"Invalid template engine set\";\n\n    return engine.compile(template);\n  },\n  _data: function(el,key,value) {\n    // Setting data\n    if(arguments.length === 3) {\n      var uuid;\n      if(el.hasAttribute('data-jsoneditor-'+key)) {\n        uuid = el.getAttribute('data-jsoneditor-'+key);\n      }\n      else {\n        uuid = this.uuid++;\n        el.setAttribute('data-jsoneditor-'+key,uuid);\n      }\n\n      this.__data[uuid] = value;\n    }\n    // Getting data\n    else {\n      // No data stored\n      if(!el.hasAttribute('data-jsoneditor-'+key)) return null;\n      \n      return this.__data[el.getAttribute('data-jsoneditor-'+key)];\n    }\n  },\n  registerEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = editor;\n    return this;\n  },\n  unregisterEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = null;\n    return this;\n  },\n  getEditor: function(path) {\n    if(!this.editors) return;\n    return this.editors[path];\n  },\n  watch: function(path,callback) {\n    this.watchlist = this.watchlist || {};\n    this.watchlist[path] = this.watchlist[path] || [];\n    this.watchlist[path].push(callback);\n    \n    return this;\n  },\n  unwatch: function(path,callback) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    // If removing all callbacks for a path\n    if(!callback) {\n      this.watchlist[path] = null;\n      return this;\n    }\n    \n    var newlist = [];\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      if(this.watchlist[path][i] === callback) continue;\n      else newlist.push(this.watchlist[path][i]);\n    }\n    this.watchlist[path] = newlist.length? newlist : null;\n    return this;\n  },\n  notifyWatchers: function(path) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      this.watchlist[path][i]();\n    }\n  },\n  isEnabled: function() {\n    return !this.root || this.root.isEnabled();\n  },\n  enable: function() {\n    this.root.enable();\n  },\n  disable: function() {\n    this.root.disable();\n  },\n  _getDefinitions: function(schema,path) {\n    path = path || '#/definitions/';\n    if(schema.definitions) {\n      for(var i in schema.definitions) {\n        if(!schema.definitions.hasOwnProperty(i)) continue;\n        this.refs[path+i] = schema.definitions[i];\n        if(schema.definitions[i].definitions) {\n          this._getDefinitions(schema.definitions[i],path+i+'/definitions/');\n        }\n      }\n    }\n  },\n  _getExternalRefs: function(schema) {\n    var refs = {};\n    var merge_refs = function(newrefs) {\n      for(var i in newrefs) {\n        if(newrefs.hasOwnProperty(i)) {\n          refs[i] = true;\n        }\n      }\n    };\n    \n    if(schema.$ref && schema.$ref.substr(0,1) !== \"#\" && !this.refs[schema.$ref]) {\n      refs[schema.$ref] = true;\n    }\n    \n    for(var i in schema) {\n      if(!schema.hasOwnProperty(i)) continue;\n      if(schema[i] && typeof schema[i] === \"object\" && Array.isArray(schema[i])) {\n        for(var j=0; j<schema[i].length; j++) {\n          if(typeof schema[i][j]===\"object\") {\n            merge_refs(this._getExternalRefs(schema[i][j]));\n          }\n        }\n      }\n      else if(schema[i] && typeof schema[i] === \"object\") {\n        merge_refs(this._getExternalRefs(schema[i]));\n      }\n    }\n    \n    return refs;\n  },\n  _loadExternalRefs: function(schema, callback) {\n    var self = this;\n    var refs = this._getExternalRefs(schema);\n    \n    var done = 0, waiting = 0, callback_fired = false;\n    \n    $each(refs,function(url) {\n      if(self.refs[url]) return;\n      if(!self.options.ajax) throw \"Must set ajax option to true to load external ref \"+url;\n      self.refs[url] = 'loading';\n      waiting++;\n\n      var r = new XMLHttpRequest(); \n      r.open(\"GET\", url, true);\n      r.onreadystatechange = function () {\n        if (r.readyState != 4) return; \n        // Request succeeded\n        if(r.status === 200) {\n          var response;\n          try {\n            response = JSON.parse(r.responseText);\n          }\n          catch(e) {\n            window.console.log(e);\n            throw \"Failed to parse external ref \"+url;\n          }\n          if(!response || typeof response !== \"object\") throw \"External ref does not contain a valid schema - \"+url;\n          \n          self.refs[url] = response;\n          self._loadExternalRefs(response,function() {\n            done++;\n            if(done >= waiting && !callback_fired) {\n              callback_fired = true;\n              callback();\n            }\n          });\n        }\n        // Request failed\n        else {\n          window.console.log(r);\n          throw \"Failed to fetch ref via ajax- \"+url;\n        }\n      };\n      r.send();\n    });\n    \n    if(!waiting) {\n      callback();\n    }\n  },\n  expandRefs: function(schema) {\n    schema = $extend({},schema);\n    \n    while (schema.$ref) {\n      var ref = schema.$ref;\n      delete schema.$ref;\n      schema = this.extendSchemas(schema,this.refs[ref]);\n    }\n    return schema;\n  },\n  expandSchema: function(schema) {\n    var self = this;\n    var extended = $extend({},schema);\n    var i;\n\n    // Version 3 `type`\n    if(typeof schema.type === 'object') {\n      // Array of types\n      if(Array.isArray(schema.type)) {\n        $each(schema.type, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.type[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.type = self.expandSchema(schema.type);\n      }\n    }\n    // Version 3 `disallow`\n    if(typeof schema.disallow === 'object') {\n      // Array of types\n      if(Array.isArray(schema.disallow)) {\n        $each(schema.disallow, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.disallow[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.disallow = self.expandSchema(schema.disallow);\n      }\n    }\n    // Version 4 `anyOf`\n    if(schema.anyOf) {\n      $each(schema.anyOf, function(key,value) {\n        schema.anyOf[key] = self.expandSchema(value);\n      });\n    }\n    // Version 4 `dependencies` (schema dependencies)\n    if(schema.dependencies) {\n      $each(schema.dependencies,function(key,value) {\n        if(typeof value === \"object\" && !(Array.isArray(value))) {\n          schema.dependencies[key] = self.expandSchema(value);\n        }\n      });\n    }\n    // Version 4 `not`\n    if(schema.not) {\n      schema.not = this.expandSchema(schema.not);\n    }\n    \n    // allOf schemas should be merged into the parent\n    if(schema.allOf) {\n      for(i=0; i<schema.allOf.length; i++) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));\n      }\n      delete extended.allOf;\n    }\n    // extends schemas should be merged into parent\n    if(schema.extends) {\n      // If extends is a schema\n      if(!(Array.isArray(schema.extends))) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema.extends));\n      }\n      // If extends is an array of schemas\n      else {\n        for(i=0; i<schema.extends.length; i++) {\n          extended = this.extendSchemas(extended,this.expandSchema(schema.extends[i]));\n        }\n      }\n      delete extended.extends;\n    }\n    // parent should be merged into oneOf schemas\n    if(schema.oneOf) {\n      var tmp = $extend({},extended);\n      delete tmp.oneOf;\n      for(i=0; i<schema.oneOf.length; i++) {\n        extended.oneOf[i] = this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp);\n      }\n    }\n    \n    return this.expandRefs(extended);\n  },\n  extendSchemas: function(obj1, obj2) {\n    obj1 = $extend({},obj1);\n    obj2 = $extend({},obj2);\n\n    var self = this;\n    var extended = {};\n    $each(obj1, function(prop,val) {\n      // If this key is also defined in obj2, merge them\n      if(typeof obj2[prop] !== \"undefined\") {\n        // Required arrays should be unioned together\n        if(prop === 'required' && typeof val === \"object\" && Array.isArray(val)) {\n          // Union arrays and unique\n          extended.required = val.concat(obj2[prop]).reduce(function(p, c) {\n            if (p.indexOf(c) < 0) p.push(c);\n            return p;\n          }, []);\n        }\n        // Type should be intersected and is either an array or string\n        else if(prop === 'type' && (typeof val === \"string\" || Array.isArray(val))) {\n          // Make sure we're dealing with arrays\n          if(typeof val === \"string\") val = [val];\n          if(typeof obj2.type === \"string\") obj2.type = [obj2.type];\n\n\n          extended.type = val.filter(function(n) {\n            return obj2.type.indexOf(n) !== -1;\n          });\n\n          // If there's only 1 type and it's a primitive, use a string instead of array\n          if(extended.type.length === 1 && typeof extended.type[0] === \"string\") {\n            extended.type = extended.type[0];\n          }\n        }\n        // All other arrays should be intersected (enum, etc.)\n        else if(typeof val === \"object\" && Array.isArray(val)){\n          extended[prop] = val.filter(function(n) {\n            return obj2[prop].indexOf(n) !== -1;\n          });\n        }\n        // Objects should be recursively merged\n        else if(typeof val === \"object\" && val !== null) {\n          extended[prop] = self.extendSchemas(val,obj2[prop]);\n        }\n        // Otherwise, use the first value\n        else {\n          extended[prop] = val;\n        }\n      }\n      // Otherwise, just use the one in obj1\n      else {\n        extended[prop] = val;\n      }\n    });\n    // Properties in obj2 that aren't in obj1\n    $each(obj2, function(prop,val) {\n      if(typeof obj1[prop] === \"undefined\") {\n        extended[prop] = val;\n      }\n    });\n\n    return extended;\n  }\n};\n\nJSONEditor.defaults = {\n  themes: {},\n  templates: {},\n  iconlibs: {},\n  editors: {},\n  languages: {},\n  resolvers: [],\n  custom_validators: []\n};\n\nJSONEditor.Validator = Class.extend({\n  init: function (jsoneditor, schema) {\n    this.jsoneditor = jsoneditor;\n    this.schema = schema || this.jsoneditor.schema;\n    this.options = {};\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n  },\n  /**\n   *\n   * @param {object} obj - the object from which to get the value\n   * @param {string} propString - a property string that describes the path to\n   * the object's property value that we are interested in, separated by dots\n   * @param {boolean} isRelativePropertyPath - true if the propString should be\n   * treated as relative\n   * @param {string} propertyPathContext - the current context from which\n   * relative property paths should be calculated\n   * @returns the value of the property, if it is found.\n   */\n  getPropByString: function (obj, propString, isRelativePropertyPath, propertyPathContext) {\n    var i, iLen;\n    //TODO: get the last 2 parameters to work.\n    if (!propString)\n      return obj;\n\n    if (isRelativePropertyPath) {\n      var stack = propertyPathContext.split(\".\"),\n        parts = propString.split(\"/\");\n      stack.pop(); // remove current file name (or empty string)\n                   // (omit if \"base\" is the current folder without trailing slash)\n      for (i = 0; i < parts.length; i++) {\n        if (parts[i] == \".\")\n          continue;\n        if (parts[i] == \"..\")\n          stack.pop();\n        else\n          stack.push(parts[i]);\n      }\n      // get rid of the first item in stack if it is \"root\"\n      var firstItem = stack.shift();\n      if (firstItem !== \"root\") {\n        stack.unshift(firstItem); // put it back again, it wasn't what we expected.\n      }\n      propString = stack.join(\".\"); // overrides the function parameter with our newly-calculated absolute property string\n    }\n    // get the target property from obj, based on the path provided by propString.\n    var prop, props = propString.split('.');\n\n    for (iLen = props.length - 1, i = 0; i < iLen; i++) {\n      prop = props[i];\n\n      var candidate = obj[prop];\n      if (candidate !== undefined) {\n        obj = candidate;\n      } else {\n        break;\n      }\n    }\n    return obj[props[i]];\n  },\n  validate: function (value) {\n    return this._validateSchema(this.schema, value, 'root', value);\n  },\n  _validateSchema: function (schema, value, path, fullSchemaValue) {\n    var errors = [];\n    var valid, i, j, thisEditor;\n    var stringified = JSON.stringify(value);\n    var self = this;\n\n    path = path || 'root';\n\n    // Work on a copy of the schema\n    schema = $extend({}, this.jsoneditor.expandRefs(schema));\n\n    /*\n     * Type Agnostic Validation\n     */\n    /* \"requiredIf\" is for cross-dependencies, when one property is required only if\n     * another property has a certain (specified) value.\n     * E.g. a cross-references between an enum \"Cheese\" and a \"cheeseDetails\" array:\n     *   \"Cheese\": {\n     *     \"type\": \"string\",\n     *      \"title\": \"Do you like cheese?\",\n     *      \"enum\":[\"yes\",\"no\"]\n     *    },\n     *    \"cheeseDetails\": {\n     *      \"type\": \"array\",\n     *      \"title\": \"Reason for liking cheese\",\n     *      \"requiredIf\": {\n     *          \"propertyPath\": \"Cheese\",\n     *          \"propertyPathMatches\": {\n     *              \"matchType\": \"string\",\n     *              \"matchExpression\": \"yes\"\n     *          },\n     *          \"hideOtherwise\": true,\n     *          \"disableOtherwise\": true\n     *      },\n     *      \"items\": {\n     *        \"type\": \"string\",\n     *        \"minLength\": 3,\n     *        \"title\": \"Reason for liking cheese\"\n     *      }\n     *    }\n     *\n     * In this case, \"Cheese Details\" is required only if Cheese is \"yes\", otherwise\n     *  it is hidden and disabled.\n     *\n     *  Or, to test for a particular value in an array property:\n     *        \"requiredIf\": {\n     *        \"propertyPath\": \"operation_type-7\",\n     *        \"propertyPathMatches\": {\n     *          \"matchType\": \"oneOfSelected\",\n     *          \"matchExpression\": [\n     *            \"other\"\n     *          ]\n     *        }\n     *\n     *  To test for a particular value using a relative path\n     *  (works with other matchTypes):\n     *        \"requiredIf\": {\n     *          \"propertyPath\": \"../operation_type-7\",\n     *          \"propertyPathMatches\": {\n     *            \"matchType\": \"oneOfSelected\",\n     *            \"matchExpression\": [\n     *              \"other\"\n     *            ]\n     *          },\n     *          \"propertyPathIsRelative\":true\n     *       }\n\n     * This will test an array of strings, defined elsewhere, to see if any items in the array have value \"other\".\n     */\n    if (schema.requiredIf) {\n      var hasError = true, // start by assuming that this is required and not supplied.\n              valueMatch = false, // start by assuming the values DONT match\n              showThisField = false; // start by assuming this field should be hidden\n\n      // we have a cross-reference requirement. Check the value of the associated path. \n      //  schema.requiredIf.propertyPath\n      if (fullSchemaValue && schema.requiredIf.propertyPath) { // make sure we have the full schema's value to validate against\n        // what type is this value?\n        var propPathIsRelative = schema.requiredIf.propertyPathIsRelative;\n        var propValue = this.getPropByString(fullSchemaValue, schema.requiredIf.propertyPath, propPathIsRelative, path);\n        var type = (typeof propValue);\n        if (type) {\n          // what type is specified in the cross-reference? Note this is a JAVASCRIPT type, or RegExp.\n          if ((schema.requiredIf.propertyPathMatches.matchType === type) ||\n                  ((\"RegExp\" === schema.requiredIf.propertyPathMatches.matchType) &&\n                          (\"string\" === type))\n                  ) {\n\n            if (\"RegExp\" === schema.requiredIf.propertyPathMatches.matchType) {\n              var regexp = new RegExp(schema.requiredIf.propertyPathMatches.matchExpression);\n              valueMatch = regexp.test(propValue);\n            } else {\n              // both the same type (probably string), now check values\n              valueMatch = (schema.requiredIf.propertyPathMatches.matchExpression === propValue);\n            }\n            if (valueMatch === true) {\n              // this one is definitely required. So check that we have it.\n              showThisField = true;\n\n              if (schema.type === \"array\") {\n                // make sure we have at least one\n                if (value && (value.length > 0)) {\n                  // we're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              } else {\n                // not an array. Check that value is \"truthy\".\n                if (!!value || schema.type === \"object\") { // if it's an object, properties get validated.\n                  // value is \"truthy\". We're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              }\n            } else {\n              // the value we have differs from the matchExpression. So it's not required. we're good. return.\n              hasError = false;\n            }\n          } else if ((schema.requiredIf.propertyPathMatches.matchType === \"oneOfSelected\")) { // javascript arrays - testing for selected values\n\n\n            // now check to see if the value we're looking for is in the set of selected values\n            var testValuesArray = schema.requiredIf.propertyPathMatches.matchExpression;\n            var actualValuesArray = propValue;\n\n            if (Array.isArray(testValuesArray)) {\n              if (Array.isArray(actualValuesArray)) {\n                // test values are an array, actual selected values are also an array.\n                // test each of our test values (defined in the schema) to see if any have been selected.\n                valueMatch = testValuesArray.some(function (testValue, index, array) {\n                  return (actualValuesArray.indexOf(testValue) !== -1);\n                }, this);\n              } else {\n                // our test values are an array, but the actual values are not.\n                var actualValue = actualValuesArray; // it's not actually an array.\n                // test each of our test values (defined in the schema) to see if any match the selected value.\n                valueMatch = (testValuesArray.indexOf(actualValue) !== -1);\n              }\n            }\n            if (valueMatch === true) {\n              // this one is definitely required. So display it.\n              showThisField = true;\n              if (schema.type === \"array\") {\n                // make sure we have at least one\n                if (value && (value.length > 0)) {\n                  // we're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              } else {\n                // not an array. Check that value is \"truthy\".\n                if (!!value || schema.type === \"object\") { // if it's an object, properties get validated.\n                  // value is \"truthy\". We're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              }\n\n            } else { // the dependant value was not selected, so this field is not required.\n              hasError = false;\n            }\n          }\n\n        }\n      }\n      if (showThisField) {\n        if (schema.requiredIf.hideOtherwise) {\n          // make sure it's shown\n          $(\"[data-schemapath=\\\"\" + path + \"\\\"]\").show();\n        }\n        if (schema.requiredIf.disableOtherwise) {\n          // make sure it's enabled\n          var disabledEditorForPath = this.jsoneditor.getEditor(path);\n          if (disabledEditorForPath) {\n            disabledEditorForPath.enable();\n          }\n        }\n      } else {\n        if (schema.requiredIf.hideOtherwise) {\n          // We need to hide this one.\n          $(\"[data-schemapath=\\\"\" + path + \"\\\"]\").hide();\n        }\n        if (schema.requiredIf.disableOtherwise) {\n          // we need to disable this one.\n          var enabledEditorForPath = this.jsoneditor.getEditor(path);\n          if (enabledEditorForPath) {\n            enabledEditorForPath.disable();\n          }\n        }\n      }\n      if (hasError) {\n        // if we get to this point, it didn't work out.\n        errors.push({\n          path: path,\n          property: 'requiredIf',\n          message: this.translate(\"error_requiredIf\", [schema.title])\n        });\n      }\n    }\n    thisEditor = this.jsoneditor.getEditor(path);\n    if (thisEditor && !thisEditor.disabled) {\n      // Version 3 `required`\n      if (schema.required && schema.required === true) {\n        if (typeof value === \"undefined\") {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n\n          // Can't do any more validation at this point\n          return errors;\n        } else if (// signature is required\n                schema.format &&\n                (schema.format === \"signature\") &&\n                typeof value === \"string\") {\n          if (value.length === 0) {\n            // hasn't been signed.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          } else {\n            // we should be able to parse the value as JSON\n            try {\n              var sigVal = JSON.parse(value);\n              if (sigVal && !sigVal.hasValue) {\n                // hasn't been signed.\n                errors.push({\n                  path: path,\n                  property: 'required',\n                  message: this.translate(\"error_notset\")\n                });\n              }\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        } else if (// array of strings (select with multiple) is required\n                schema.format &&\n                (schema.format === \"string\") &&\n                (schema.type === \"array\") &&\n                schema.multiple &&\n                schema.multiple === true) {\n          // value should be an array...\n          if (value && value.length === 0) {\n            // hasn't been selected.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          }\n        } else if (schema.format &&\n          (schema.format === \"datetime-local\") &&\n          (schema.type === \"string\")) {\n          if (!value) {\n            // hasn't been selected.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          }\n        }\n\n\n      }\n      // Value not defined\n      else if (typeof value === \"undefined\") {\n        // If required_by_default is set, all fields are required\n        if (this.jsoneditor.options.required_by_default) {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n        }\n        // Not required, no further validation needed\n        else {\n          return errors;\n        }\n      }\n\n\n      // `enum`\n      if (schema.enum) {\n        valid = false;\n        if (Array.isArray(schema.enum) && Array.isArray(value)) {\n          // check that every value appears in the schema's enum property\n          valid = value.every(function (currentValue, index, array) {\n            return (schema.enum.indexOf(currentValue) !== -1);\n          }, this);\n        } else {\n          for (i = 0; i < schema.enum.length; i++) {\n            if (stringified === JSON.stringify(schema.enum[i]))\n              valid = true;\n\n          }\n        }\n        if (!valid) {\n          errors.push({\n            path: path,\n            property: 'enum',\n            message: this.translate(\"error_enum\")\n          });\n        }\n      }\n\n      // `extends` (version 3)\n      if (schema.extends) {\n        for (i = 0; i < schema.extends.length; i++) {\n          errors = errors.concat(this._validateSchema(schema.extends[i], value, path, fullSchemaValue));\n        }\n      }\n\n      // `allOf`\n      if (schema.allOf) {\n        for (i = 0; i < schema.allOf.length; i++) {\n          errors = errors.concat(this._validateSchema(schema.allOf[i], value, path, fullSchemaValue));\n        }\n      }\n\n      // `anyOf`\n      if (schema.anyOf) {\n        valid = false;\n        for (i = 0; i < schema.anyOf.length; i++) {\n          if (!this._validateSchema(schema.anyOf[i], value, path, fullSchemaValue).length) {\n            valid = true;\n            break;\n          }\n        }\n        if (!valid) {\n          errors.push({\n            path: path,\n            property: 'anyOf',\n            message: this.translate('error_anyOf')\n          });\n        }\n      }\n\n      // `oneOf`\n      if (schema.oneOf) {\n        valid = 0;\n        var oneof_errors = [];\n        for (i = 0; i < schema.oneOf.length; i++) {\n          // Set the error paths to be path.oneOf[i].rest.of.path\n          var tmp = this._validateSchema(schema.oneOf[i], value, path, fullSchemaValue);\n          if (!tmp.length) {\n            valid++;\n          }\n\n          for (j = 0; j < tmp.length; j++) {\n            tmp[j].path = path + '.oneOf[' + i + ']' + tmp[j].path.substr(path.length);\n          }\n          oneof_errors = oneof_errors.concat(tmp);\n\n        }\n        if (valid !== 1) {\n          errors.push({\n            path: path,\n            property: 'oneOf',\n            message: this.translate('error_oneOf', [valid])\n          });\n          errors = errors.concat(oneof_errors);\n        }\n      }\n\n      // `not`\n      if (schema.not) {\n        if (!this._validateSchema(schema.not, value, path, fullSchemaValue).length) {\n          errors.push({\n            path: path,\n            property: 'not',\n            message: this.translate('error_not')\n          });\n        }\n      }\n\n      // `type` (both Version 3 and Version 4 support)\n      if (schema.type) {\n        // Union type\n        if (Array.isArray(schema.type)) {\n          valid = false;\n          for (i = 0; i < schema.type.length; i++) {\n            if (this._checkType(schema.type[i], value)) {\n              valid = true;\n              break;\n            }\n          }\n          if (!valid) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if (!this._checkType(schema.type, value)) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type', [schema.type])\n            });\n          }\n        }\n      }\n\n\n      // `disallow` (version 3)\n      if (schema.disallow) {\n        // Union type\n        if (Array.isArray(schema.disallow)) {\n          valid = true;\n          for (i = 0; i < schema.disallow.length; i++) {\n            if (this._checkType(schema.disallow[i], value)) {\n              valid = false;\n              break;\n            }\n          }\n          if (!valid) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if (this._checkType(schema.disallow, value)) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow', [schema.disallow])\n            });\n          }\n        }\n      }\n\n      /*\n       * Type Specific Validation\n       */\n\n      // Number-Range Specific Validation\n      if (typeof value === \"number\" || schema.format === \"number\" || schema.format === \"range\") {\n        var valueToTest = value;\n        // the format is a number but the type isn't...\n        if (schema.format === \"number\" && typeof valueToTest !== \"number\") {\n          // perform a type conversion\n          // if value is empty, treat it as zero\n          if (valueToTest === \"\") {\n            valueToTest = 0;\n          } else {\n            valueToTest = 1 * valueToTest; // convert to a number\n          }\n        }\n        // `multipleOf` and `divisibleBy`\n        if (schema.multipleOf || schema.divisibleBy) {\n          valid = valueToTest / (schema.multipleOf || schema.divisibleBy);\n          if (valid !== Math.floor(valid)) {\n            errors.push({\n              path: path,\n              property: schema.multipleOf ? 'multipleOf' : 'divisibleBy',\n              message: this.translate('error_multipleOf', [schema.multipleOf || schema.divisibleBy])\n            });\n          }\n        }\n\n        // `maximum`\n        if (schema.hasOwnProperty('maximum') && !schema.overrideMaximum) {\n          if (schema.exclusiveMaximum && valueToTest >= schema.maximum) {\n            errors.push({\n              path: path,\n              property: 'maximum',\n              message: this.translate('error_maximum_excl', [schema.maximum])\n            });\n          }\n          else if (!schema.exclusiveMaximum && valueToTest > schema.maximum) {\n            errors.push({\n              path: path,\n              property: 'maximum',\n              message: this.translate('error_maximum_incl', [schema.maximum])\n            });\n          }\n        }\n\n        // `minimum`\n        if (schema.hasOwnProperty('minimum')) {\n          if (schema.exclusiveMinimum && value <= schema.minimum) {\n            errors.push({\n              path: path,\n              property: 'minimum',\n              message: this.translate('error_minimum_excl', [schema.minimum])\n            });\n          }\n          else if (!schema.exclusiveMinimum && value < schema.minimum) {\n            errors.push({\n              path: path,\n              property: 'minimum',\n              message: this.translate('error_minimum_incl', [schema.minimum])\n            });\n          }\n        }\n      }\n      // String specific validation\n      if (typeof value === \"string\") {\n        // `maxLength`\n        if (schema.maxLength) {\n          if ((value + \"\").length > schema.maxLength) {\n            errors.push({\n              path: path,\n              property: 'maxLength',\n              message: this.translate('error_maxLength', [schema.maxLength])\n            });\n          }\n        }\n\n        // `minLength`\n        if (schema.minLength) {\n          if ((value + \"\").length < schema.minLength) {\n            errors.push({\n              path: path,\n              property: 'minLength',\n              message: this.translate((schema.minLength === 1 ? 'error_notempty' : 'error_minLength'), [schema.minLength])\n            });\n          }\n        }\n\n        // `pattern`\n        if (schema.pattern) {\n          if (!(new RegExp(schema.pattern)).test(value)) {\n            errors.push({\n              path: path,\n              property: 'pattern',\n              message: this.translate('error_pattern')\n            });\n          }\n        }\n\n        // `autocomplete`\n        if (schema.autocomplete) {\n          var acSource = schema.autocompleteData; // default to autocompleteData i.e. array\n          if (acSource) { // check array\n\n          } else { // if (!acSource) {\n            // Maybe we have a autocompleteDataSourceID and validator callback we can use?\n            if (schema.autocompleteDataSourceID && this.jsoneditor.options.autocompleteValidator) {\n                // use a wrapper around the designated autocomplete handler, that adds our data source ID as a parameter.\n                self.jsoneditor.options.autocompleteValidator(\n                  {\n                    dataSourceID: schema.autocompleteDataSourceID,\n                    term: value\n                  },\n                  function(isACValueValid) { // callback\n                    if (!isACValueValid) {\n                      errors.push({\n                        path: path,\n                        property: 'oneOf',\n                        message: self.translate('error_enum')\n                      });\n                    }\n                    thisEditor.showValidationErrors(errors);\n                  },\n                  thisEditor\n                );\n            } // otherwise we can't really validate\n          }\n        }\n      }\n      // Array specific validation\n      else if (typeof value === \"object\" && value !== null && Array.isArray(value)) {\n        // `items` and `additionalItems`\n        if (schema.items) {\n          // `items` is an array\n          if (Array.isArray(schema.items)) {\n            for (i = 0; i < value.length; i++) {\n              // If this item has a specific schema tied to it\n              // Validate against it\n              if (schema.items[i]) {\n                errors = errors.concat(this._validateSchema(schema.items[i], value[i], path + '.' + i, fullSchemaValue));\n              }\n              // If all additional items are allowed\n              else if (schema.additionalItems === true) {\n                break;\n              }\n              // If additional items is a schema\n              // TODO: Incompatibility between version 3 and 4 of the spec\n              else if (schema.additionalItems) {\n                errors = errors.concat(this._validateSchema(schema.additionalItems, value[i], path + '.' + i, fullSchemaValue));\n              }\n              // If no additional items are allowed\n              else if (schema.additionalItems === false) {\n                errors.push({\n                  path: path,\n                  property: 'additionalItems',\n                  message: this.translate('error_additionalItems')\n                });\n                break;\n              }\n              // Default for `additionalItems` is an empty schema\n              else {\n                break;\n              }\n            }\n          }\n          // `items` is a schema\n          else {\n            // Each item in the array must validate against the schema\n            for (i = 0; i < value.length; i++) {\n              errors = errors.concat(this._validateSchema(schema.items, value[i], path + '.' + i, fullSchemaValue));\n            }\n          }\n        }\n\n        // `maxItems`\n        if (schema.maxItems) {\n          if (value.length > schema.maxItems) {\n            errors.push({\n              path: path,\n              property: 'maxItems',\n              message: this.translate('error_maxItems', [schema.maxItems])\n            });\n          }\n        }\n\n        // `minItems`\n        if (schema.minItems) {\n          if (value.length < schema.minItems) {\n            errors.push({\n              path: path,\n              property: 'minItems',\n              message: this.translate('error_minItems', [schema.minItems])\n            });\n          }\n        }\n\n        // `uniqueItems`\n        if (schema.uniqueItems) {\n          var seen = {};\n          for (i = 0; i < value.length; i++) {\n            valid = JSON.stringify(value[i]);\n            if (seen[valid]) {\n              errors.push({\n                path: path,\n                property: 'uniqueItems',\n                message: this.translate('error_uniqueItems')\n              });\n              break;\n            }\n            seen[valid] = true;\n          }\n        }\n      }\n      // Object specific validation\n      else if (typeof value === \"object\" && value !== null) {\n        // `maxProperties`\n        if (schema.maxProperties) {\n          valid = 0;\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            valid++;\n          }\n          if (valid > schema.maxProperties) {\n            errors.push({\n              path: path,\n              property: 'maxProperties',\n              message: this.translate('error_maxProperties', [schema.maxProperties])\n            });\n          }\n        }\n\n        // `minProperties`\n        if (schema.minProperties) {\n          valid = 0;\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            valid++;\n          }\n          if (valid < schema.minProperties) {\n            errors.push({\n              path: path,\n              property: 'minProperties',\n              message: this.translate('error_minProperties', [schema.minProperties])\n            });\n          }\n        }\n\n        // Version 4 `required`\n        if (schema.required && Array.isArray(schema.required)) {\n          for (i = 0; i < schema.required.length; i++) {\n            if (typeof value[schema.required[i]] === \"undefined\") {\n              errors.push({\n                path: path,\n                property: 'required',\n                message: this.translate('error_required', [schema.required[i]])\n              });\n            }\n          }\n        }\n\n        // `properties`\n        var validated_properties = {};\n        if (schema.properties) {\n          for (i in schema.properties) {\n            if (!schema.properties.hasOwnProperty(i))\n              continue;\n            validated_properties[i] = true;\n            errors = errors.concat(this._validateSchema(schema.properties[i], value[i], path + '.' + i, fullSchemaValue));\n          }\n        }\n\n        // `patternProperties`\n        if (schema.patternProperties) {\n          for (i in schema.patternProperties) {\n            if (!schema.patternProperties.hasOwnProperty(i))\n              continue;\n\n            var regex = new RegExp(i);\n\n            // Check which properties match\n            for (j in value) {\n              if (!value.hasOwnProperty(j))\n                continue;\n              if (regex.test(j)) {\n                validated_properties[j] = true;\n                errors = errors.concat(this._validateSchema(schema.patternProperties[i], value[j], path + '.' + j, fullSchemaValue));\n              }\n            }\n          }\n        }\n\n        // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\n        if (typeof schema.additionalProperties === \"undefined\" && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\n          schema.additionalProperties = false;\n        }\n\n        // `additionalProperties`\n        if (typeof schema.additionalProperties !== \"undefined\") {\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            if (!validated_properties[i]) {\n              // No extra properties allowed\n              if (!schema.additionalProperties) {\n                errors.push({\n                  path: path,\n                  property: 'additionalProperties',\n                  message: this.translate('error_additional_properties', [i])\n                });\n                break;\n              }\n              // Allowed\n              else if (schema.additionalProperties === true) {\n                break;\n              }\n              // Must match schema\n              // TODO: incompatibility between version 3 and 4 of the spec\n              else {\n                errors = errors.concat(this._validateSchema(schema.additionalProperties, value[i], path + '.' + i, fullSchemaValue));\n              }\n            }\n          }\n        }\n\n        // `dependencies`\n        if (schema.dependencies) {\n          for (i in schema.dependencies) {\n            if (!schema.dependencies.hasOwnProperty(i))\n              continue;\n\n            // Doesn't need to meet the dependency\n            if (typeof value[i] === \"undefined\")\n              continue;\n\n            // Property dependency\n            if (Array.isArray(schema.dependencies[i])) {\n              for (j = 0; j < schema.dependencies[i].length; j++) {\n                if (typeof value[schema.dependencies[i][j]] === \"undefined\") {\n                  errors.push({\n                    path: path,\n                    property: 'dependencies',\n                    message: this.translate('error_dependency', [schema.dependencies[i][j]])\n                  });\n                }\n              }\n            }\n            // Schema dependency\n            else {\n              errors = errors.concat(this._validateSchema(schema.dependencies[i], value, path, fullSchemaValue));\n            }\n          }\n        }\n      }\n\n      // Custom type validation\n      $each(JSONEditor.defaults.custom_validators, function (i, validator) {\n        errors = errors.concat(validator(schema, value, path, fullSchemaValue));\n      });\n    }\n    return errors;\n  },\n  _checkType: function (type, value) {\n    // Simple types\n    if (typeof type === \"string\") {\n      if (type === \"string\")\n        return typeof value === \"string\";\n      else if (type === \"number\")\n        return typeof value === \"number\";\n      else if (type === \"integer\")\n        return typeof value === \"number\" && value === Math.floor(value);\n      else if (type === \"boolean\")\n        return typeof value === \"boolean\";\n      else if (type === \"array\")\n        return Array.isArray(value);\n      else if (type === \"object\")\n        return value !== null && !(Array.isArray(value)) && typeof value === \"object\";\n      else if (type === \"null\")\n        return value === null;\n      else\n        return true;\n    }\n    // Schema\n    else {\n      return !this._validateSchema(type, value).length;\n    }\n  }\n});\n\n/**\n * All editors should extend from this class\n */\nJSONEditor.AbstractEditor = Class.extend({\n  onChildEditorChange: function(editor) {\n    this.onChange(true);\n  },\n  notify: function() {\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  change: function() {\n    if(this.parent) this.parent.onChildEditorChange(this);\n    else this.jsoneditor.onChange();\n  },\n  onChange: function(bubble) {\n    this.notify();\n    if(this.watch_listener) this.watch_listener();\n    if(bubble) this.change();\n  },\n  register: function() {\n    this.jsoneditor.registerEditor(this);\n    this.onChange();\n  },\n  unregister: function() {\n    if(!this.jsoneditor) return;\n    this.jsoneditor.unregisterEditor(this);\n  },\n  getNumColumns: function() {\n    return 12;\n  },\n  init: function(options) {\n    this.jsoneditor = options.jsoneditor;\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n\n    this.theme = this.jsoneditor.theme;\n    this.template_engine = this.jsoneditor.template;\n    this.iconlib = this.jsoneditor.iconlib;\n    \n    this.original_schema = options.schema;\n    this.schema = this.jsoneditor.expandSchema(this.original_schema);\n    \n    this.options = $extend({}, (this.options || {}), (options.schema.options || {}), options);\n    \n    if(!options.path && !this.schema.id) this.schema.id = 'root';\n    this.path = options.path || 'root';\n    this.formname = options.formname || this.path.replace(/\\.([^.]+)/g,'[$1]');\n    if(this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/,this.jsoneditor.options.form_name_root+'[');\n    this.key = this.path.split('.').pop();\n    this.parent = options.parent;\n    \n    this.link_watchers = [];\n    \n    if(options.container) this.setContainer(options.container);\n  },\n  setContainer: function(container) {\n    this.container = container;\n    if(this.schema.id) this.container.setAttribute('data-schemaid',this.schema.id);\n    if(this.schema.type && typeof this.schema.type === \"string\") this.container.setAttribute('data-schematype',this.schema.type);\n    this.container.setAttribute('data-schemapath',this.path);\n  },\n  \n  preBuild: function() {\n\n  },\n  build: function() {\n    \n  },\n  postBuild: function() {\n    this.setupWatchListeners();\n    this.addLinks();\n    this.setValue(this.getDefault(), true);\n    this.updateHeaderText();\n    this.register();\n    this.onWatchedFieldChange();\n  },\n  \n  setupWatchListeners: function() {\n    var self = this;\n    \n    // Watched fields\n    this.watched = {};\n    if(this.schema.vars) this.schema.watch = this.schema.vars;\n    this.watched_values = {};\n    this.watch_listener = function() {\n      if(self.refreshWatchedFieldValues()) {\n        self.onWatchedFieldChange();\n      }\n    };\n    \n    this.register();\n    if(this.schema.hasOwnProperty('watch')) {\n      var path,path_parts,first,root,adjusted_path;\n\n      for(var name in this.schema.watch) {\n        if(!this.schema.watch.hasOwnProperty(name)) continue;\n        path = this.schema.watch[name];\n\n        if(Array.isArray(path)) {\n          path_parts = [path[0]].concat(path[1].split('.'));\n        }\n        else {\n          // if the first character is a dot, the path is relative to the current path. Calculate it.\n          if (path.indexOf(\".\") === 0) {\n            // e.g. path      = \"./fbc_sent\";\n            //      self.path = \"root.initial_bleeding_treatment-1.initial_test_battery-3.fbc_timestamp\";\n            //      self.parent.path = \"root.initial_bleeding_treatment-1.initial_test_battery-3\"\n            var targetPathParts = self.parent.path.split(\".\"); // the targeted item's path begins with the parent of this one\n            var relativePathParts = path.split(\"/\"); //\n            for (i = 0; i < relativePathParts.length; i++) { // loop through parts of the relative path\n              if (relativePathParts[i] == \".\") // single dot means stay at this level\n                continue;\n              if (relativePathParts[i] == \"..\") // double dot means go up one level (remove one from the parent path)\n                targetPathParts.pop();\n              else // not single-dot or double-dot means add the item to the path\n                targetPathParts.push(relativePathParts[i]);\n            }\n            path = targetPathParts.join(\".\");\n          }\n          path_parts = path.split('.');\n          if(!self.theme.closest(self.container,'[data-schemaid=\"'+path_parts[0]+'\"]')) path_parts.unshift('#');\n        }\n        first = path_parts.shift();\n\n        if(first === '#') first = self.jsoneditor.schema.id || 'root';\n\n        // Find the root node for this template variable\n        root = self.theme.closest(self.container,'[data-schemaid=\"'+first+'\"]');\n        if(!root) throw \"Could not find ancestor node with id \"+first;\n\n        // Keep track of the root node and path for use when rendering the template\n        adjusted_path = root.getAttribute('data-schemapath') + '.' + path_parts.join('.');\n        \n        self.jsoneditor.watch(adjusted_path,self.watch_listener);\n        \n        self.watched[name] = adjusted_path;\n      }\n    }\n    \n    // Dynamic header\n    if(this.schema.headerTemplate) {\n      this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine);\n    }\n  },\n  \n  addLinks: function() {\n    // Add links\n    if(!this.no_link_holder) {\n      this.link_holder = this.theme.getLinksHolder();\n      this.container.appendChild(this.link_holder);\n      if(this.schema.links) {\n        for(var i=0; i<this.schema.links.length; i++) {\n          this.addLink(this.getLink(this.schema.links[i]));\n        }\n      }\n    }\n  },\n  \n  \n  getButton: function(text, icon, title) {\n    var btnClass = 'json-editor-btn-'+icon;\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n    \n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n    \n    var btn = this.theme.getButton(text, icon, title);\n    btn.className += ' ' + btnClass + ' ';\n    return btn;\n  },\n  setButtonText: function(button, text, icon, title) {\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n    \n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n    \n    return this.theme.setButtonText(button, text, icon, title);\n  },\n  addLink: function(link) {\n    if(this.link_holder) this.link_holder.appendChild(link);\n  },\n  getLink: function(data) {\n    var holder, link;\n        \n    // Get mime type of the link\n    var mime = data.mediaType || 'application/javascript';\n    var type = mime.split('/')[0];\n    \n    // Template to generate the link href\n    var href = this.jsoneditor.compileTemplate(data.href,this.template_engine);\n    \n    // Image links\n    if(type === 'image') {\n      holder = this.theme.getBlockLinkHolder();\n      link = document.createElement('a');\n      link.setAttribute('target','_blank');\n      var image = document.createElement('img');\n      \n      this.theme.createImageLink(holder,link,image);\n    \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        link.setAttribute('href',url);\n        link.setAttribute('title',data.rel || url);\n        image.setAttribute('src',url);\n      });\n    }\n    // Audio/Video links\n    else if(['audio','video'].indexOf(type) >=0) {\n      holder = this.theme.getBlockLinkHolder();\n      \n      link = this.theme.getBlockLink();\n      link.setAttribute('target','_blank');\n      \n      var media = document.createElement(type);\n      media.setAttribute('controls','controls');\n      \n      this.theme.createMediaLink(holder,link,media);\n      \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        link.setAttribute('href',url);\n        link.textContent = data.rel || url;\n        media.setAttribute('src',url);\n      });\n    }\n    // Text links\n    else {\n      holder = this.theme.getBlockLink();\n      holder.setAttribute('target','_blank');\n      holder.textContent = data.rel;\n      \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        holder.setAttribute('href',url);\n        holder.textContent = data.rel || url;\n      });\n    }\n    \n    return holder;\n  },\n  refreshWatchedFieldValues: function() {\n    if(!this.watched_values) return;\n    var watched = {};\n    var changed = false;\n    var self = this;\n    \n    if(this.watched) {\n      var val,editor;\n      for(var name in this.watched) {\n        if(!this.watched.hasOwnProperty(name)) continue;\n        editor = self.jsoneditor.getEditor(this.watched[name]);\n        val = editor? editor.getValue() : null;\n        if(self.watched_values[name] !== val) changed = true;\n        watched[name] = val;\n      }\n    }\n    \n    watched.self = this.getValue();\n    if(this.watched_values.self !== watched.self) changed = true;\n    \n    this.watched_values = watched;\n    \n    return changed;\n  },\n  getWatchedFieldValues: function() {\n    return this.watched_values;\n  },\n  updateHeaderText: function() {\n    if(this.header) {\n      this.header.textContent = this.getHeaderText();\n    }\n  },\n  getHeaderText: function(title_only) {\n    if(this.header_text) return this.header_text;\n    else if(title_only) return this.schema.title;\n    else return this.getTitle();\n  },\n  onWatchedFieldChange: function() {\n    var vars;\n    if(this.header_template) {      \n      vars = $extend(this.getWatchedFieldValues(),{\n        key: this.key,\n        i: this.key,\n        i0: (this.key*1),\n        i1: (this.key*1+1),\n        title: this.getTitle()\n      });\n      var header_text = this.header_template(vars);\n      \n      if(header_text !== this.header_text) {\n        this.header_text = header_text;\n        this.updateHeaderText();\n        this.notify();\n        //this.fireChangeHeaderEvent();\n      }\n    }\n    if(this.link_watchers.length) {\n      vars = this.getWatchedFieldValues();\n      for(var i=0; i<this.link_watchers.length; i++) {\n        this.link_watchers[i](vars);\n      }\n    }\n  },\n  setValue: function(value) {\n    this.value = value;\n  },\n  getValue: function() {\n    return this.value;\n  },\n  refreshValue: function() {\n\n  },\n  getChildEditors: function() {\n    return false;\n  },\n  destroy: function() {\n    var self = this;\n    this.unregister(this);\n    $each(this.watched,function(name,adjusted_path) {\n      self.jsoneditor.unwatch(adjusted_path,self.watch_listener);\n    });\n    this.watched = null;\n    this.watched_values = null;\n    this.watch_listener = null;\n    this.header_text = null;\n    this.header_template = null;\n    this.value = null;\n    if(this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container);\n    this.container = null;\n    this.jsoneditor = null;\n    this.schema = null;\n    this.path = null;\n    this.key = null;\n    this.parent = null;\n  },\n  isRequired: function() {\n    if(typeof this.options.required !== \"undefined\") {\n      return this.options.required;\n    }\n    else if(typeof this.schema.required === \"boolean\") {\n      return this.schema.required;\n    }\n    else if(this.jsoneditor.options.required_by_default) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  },\n  isRemoveDisabled: function() {\n    return this.jsoneditor.options.disable_remove_links === true;\n  },\n  getDefault: function() {\n    if(this.schema.default) return this.schema.default;\n    if(this.schema.enum) {\n      if (!this.schema.emptyFirstField) {\n        return this.schema.enum[0];\n      }\n    }\n    \n    var type = this.schema.type || this.schema.oneOf;\n    if(type && Array.isArray(type)) type = type[0];\n    if(type && typeof type === \"object\") type = type.type;\n    if(type && Array.isArray(type)) type = type[0];\n    \n    if(typeof type === \"string\") {\n      if(type === \"number\") return 0.0;\n      if(type === \"boolean\") return false;\n      if(type === \"integer\") return 0;\n      if(type === \"string\") return \"\";\n      if(type === \"object\") return {};\n      if(type === \"array\") return [];\n    }\n    \n    return null;\n  },\n  getTitle: function() {\n    return this.schema.title || this.key;\n  },\n  enable: function() {\n    this.disabled = false;\n  },\n  disable: function() {\n    this.disabled = true;\n  },\n  isEnabled: function() {\n    return !this.disabled;\n  },\n  getDisplayText: function(arr) {\n    var disp = [];\n    var used = {};\n    \n    // Determine how many times each attribute name is used.\n    // This helps us pick the most distinct display text for the schemas.\n    $each(arr,function(i,el) {\n      if(el.title) {\n        used[el.title] = used[el.title] || 0;\n        used[el.title]++;\n      }\n      if(el.description) {\n        used[el.description] = used[el.description] || 0;\n        used[el.description]++;\n      }\n      if(el.format) {\n        used[el.format] = used[el.format] || 0;\n        used[el.format]++;\n      }\n      if(el.type) {\n        used[el.type] = used[el.type] || 0;\n        used[el.type]++;\n      }\n    });\n    \n    // Determine display text for each element of the array\n    $each(arr,function(i,el)  {\n      var name;\n      \n      // If it's a simple string\n      if(typeof el === \"string\") name = el;\n      // Object\n      else if(el.title && used[el.title]<=1) name = el.title;\n      else if(el.format && used[el.format]<=1) name = el.format;\n      else if(el.type && used[el.type]<=1) name = el.type;\n      else if(el.description && used[el.description]<=1) name = el.descripton;\n      else if(el.title) name = el.title;\n      else if(el.format) name = el.format;\n      else if(el.type) name = el.type;\n      else if(el.description) name = el.description;\n      else if(JSON.stringify(el).length < 50) name = JSON.stringify(el);\n      else name = \"type\";\n      \n      disp.push(name);\n    });\n    \n    // Replace identical display text with \"text 1\", \"text 2\", etc.\n    var inc = {};\n    $each(disp,function(i,name) {\n      inc[name] = inc[name] || 0;\n      inc[name]++;\n      \n      if(used[name] > 1) disp[i] = name + \" \" + inc[name];\n    });\n    \n    return disp;\n  },\n  getOption: function(key) {\n    try {\n      throw \"getOption is deprecated\";\n    }\n    catch(e) {\n      window.console.error(e);\n    }\n    \n    return this.options[key];\n  },\n  showValidationErrors: function(errors) {\n\n  }\n});\n\nJSONEditor.defaults.editors.null = JSONEditor.AbstractEditor.extend({\n  getValue: function() {\n    return null;\n  },\n  setValue: function() {\n    this.onChange();\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n\n/* globals flatpickr */\nJSONEditor.defaults.editors.string = JSONEditor.AbstractEditor.extend({\n  register: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.setAttribute(\"name\", this.formname);\n  },\n  unregister: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.removeAttribute(\"name\");\n  },\n  setValue: function (value, initial, from_template) {\n    // console.log(\"setValue(\" + value + \",\" + initial + \",\" + from_template + \")\");\n    // console.log(\"this.schema = \" + JSON.stringify(this.schema,null,2));\n    var self = this;\n\n    if (this.template && !from_template) {\n      return;\n    }\n\n    if (value === null) {\n      value = \"\";\n    } else if (typeof value === \"object\") {\n      value = JSON.stringify(value);\n    } else if (typeof value !== \"string\") value = \"\" + value;\n\n    if (value === this.serialized) return;\n\n    // Sanitize value before setting it\n    // we can add a link to a route if the value is not defined:\n    //    \"linkRouteIfUndefined\": Router.path(\"euroSCORE\"),\n    //    \"linkTextIfUndefined\": \" Tap here to calculate\",\n    if (this.schema.linkRouteIfUndefined) {\n      if (!value) {\n        // override the input field with a link\n        this.input = document.createElement(\"A\");\n        this.input.href = this.schema.linkRouteIfUndefined;\n        var linkTextNode = document.createTextNode(this.schema.linkTextIfUndefined);\n        this.input.appendChild(linkTextNode);\n      } else {\n        var parentNode = this.input.parentNode;\n        parentNode.removeChild(this.input);\n        this.input = document.createElement(\"INPUT\");\n        this.input.disabled = true;\n        parentNode.appendChild(this.input);\n      }\n    }\n\n    var sanitized = this.sanitize(value);\n\n    if (this.schema.autocomplete) {\n      if (value) {\n        this.input_display.value = sanitized;\n        this.input_hidden.value = sanitized;\n      }\n    }\n\n    if (this.input.value === sanitized) {\n      return;\n    }\n\n    this.input.value = sanitized;\n\n    // If using flatpickr, update the UI\n\n    if (this.schema.format &&\n      (this.schema.format === \"date\" ||\n        this.schema.format === \"time\" ||\n        this.schema.format === \"datetime\")) {\n\n      if (this.input._flatpickr) {\n        this.input._flatpickr.setDate(sanitized);\n      }\n    }\n\n    // If using SCEditor, update the WYSIWYG\n    if (this.sceditor_instance) {\n      this.sceditor_instance.val(sanitized);\n    } else if (this.epiceditor) {\n      this.epiceditor.importFile(null, sanitized);\n    } else if (this.ace_editor) {\n      this.ace_editor.setValue(sanitized);\n    }\n\n    var changed = from_template || this.getValue() !== value;\n\n    this.refreshValue();\n\n    if (initial) {\n      this.is_dirty = false;\n    } else if (this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed);\n  },\n  getNumColumns: function () {\n    var min = Math.ceil(Math.max(this.getTitle().length, this.schema.maxLength || 0, this.schema.minLength || 0) / 5);\n    var num;\n\n    if (this.input_type === \"textarea\") {\n      num = 6;\n    } else if ([\"text\", \"email\"].indexOf(this.input_type) >= 0) {\n      num = 4;\n    } else {\n      num = 2;\n    }\n\n    return Math.min(12, Math.max(min, num));\n  },\n  build: function () {\n    var self = this,\n      i;\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description, this.schema.showHTML);\n\n    this.format = this.schema.format;\n    if (!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g, \"\");\n    }\n    // Specific format\n    if (this.format && this.format === \"geolocation\") {\n      var divElem = document.createElement(\"div\");\n      divElem.setAttribute(\"class\", \"geolocation\");\n\n      var hiddenInput = this.theme.getFormInputField(\"hidden\");\n      var uuid = $uuid();\n      hiddenInput.setAttribute(\"id\", uuid);\n\n      var labelElem = document.createElement(\"label\");\n      labelElem.setAttribute(\"for\", uuid);\n\n      var labelTextNode = document.createTextNode(\"\");\n      labelElem.appendChild(labelTextNode);\n\n      divElem.appendChild(labelElem);\n      labelElem.appendChild(hiddenInput);\n\n      this.input = divElem;\n      this.input_type = \"hidden\";\n\n      var geolocAvailable = false,\n        needGeolocUpdate = false;\n\n      if (typeof JutoCordovaBridge !== \"undefined\") {\n\n        if (JutoCordovaBridge.deviceReady) {\n\n          // flag geoloc as available; it will be handled by the native plugin.\n          geolocAvailable = true;\n\n          // see if we need to update the location\n          if (JutoCordovaBridge.locationFixObtained) {\n\n            var currentTime = new Date();\n            var differenceMilliseconds = currentTime - JutoCordovaBridge.lastLocationUpdateTime;\n            var toleratedDifferenceMilliseconds = JutoCordovaBridge.locationUpdateFrequencySeconds * 1000;\n            if (differenceMilliseconds > toleratedDifferenceMilliseconds) {\n              // time for an update.\n              needGeolocUpdate = true;\n            } else {\n\n              // old location still valid.\n\n              labelTextNode.nodeValue = \"Latitude/Longitude: \" + JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n              hiddenInput.value = JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n              self.setValue(JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude);\n            }\n          } else {\n            // we haven't yet obtained a fix. Let's add ourselves as a listener\n            // for when the device is ready.\n            needGeolocUpdate = true;\n          }\n\n        } else {\n          // the device isn't ready yet. Add ourselves as a listener for the geoloc\n          // call that will be invoked when the device is ready.\n\n          // Are we in a cordova device that we can detect? Because we *REALLY*\n          //  don't want to fall back to web, we'd get a nasty alert message.\n          var app = document.URL.indexOf(\"http://\") === -1 && document.URL.indexOf(\"https://\") === -1;\n\n          if (app) { // we are in an app.\n            geolocAvailable = true; // assume that cordova plugins WILL work, they just haven't yet.\n          }\n\n        }\n\n        if (needGeolocUpdate) {\n          // OK for some reason (above), we need an update to geolocation\n          // The function below is a callback that will occur when it's done.\n          JutoCordovaBridge.updateCurrentPosition(function () {\n\n            // success callback.\n            // update the label and hidden field value.\n            labelTextNode.nodeValue = \"Lat/Long: \" + JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n            hiddenInput.value = JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n            self.setValue(JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude);\n            // return true, so that we get invoked if the position gets updated again.\n            return true;\n          });\n\n        }\n      }\n\n      if (!geolocAvailable) {\n\n        // OK we haven't got it yet. Try navigator.geolocation.getCurrentPosition.\n        navigator.geolocation.getCurrentPosition(function (pos) {\n\n            hiddenInput.value = pos.coords.latitude + \",\" + pos.coords.longitude;\n            labelTextNode.nodeValue = \"Lat/Long: \" + pos.coords.latitude + \",\" + pos.coords.longitude;\n            self.setValue(pos.coords.latitude + \",\" + pos.coords.longitude);\n          },\n          function (err) {\n\n            console.log(\"couldn't get position\");\n\n            console.log(err);\n          });\n      }\n    }\n\n    if (!this.format && this.options.default_format) {\n      this.format = this.options.default_format;\n    }\n    if (this.options.format) {\n      this.format = this.options.format;\n    }\n\n    // Specific format\n    if (this.format) {\n      // Text Area\n      if (this.format === \"textarea\") {\n        this.input_type = \"textarea\";\n        this.input = this.theme.getTextareaInput();\n        if (this.schema.information_only) {\n          this.input.setAttribute(\"disabled\", \"true\");\n          self.setValue(this.schema.value);\n        }\n      }\n      // Range Input\n      else if (this.format === \"range\") {\n        this.input_type = this.format;\n        var min = this.schema.minimum || 0;\n        var max = this.schema.maximum || Math.max(100, min + 1);\n        var step = 1;\n        if (this.schema.multipleOf) {\n          if (min % this.schema.multipleOf) min = Math.ceil(min / this.schema.multipleOf) * this.schema.multipleOf;\n          if (max % this.schema.multipleOf) max = Math.floor(max / this.schema.multipleOf) * this.schema.multipleOf;\n          step = this.schema.multipleOf;\n        }\n\n        this.input = this.theme.getRangeInput(min, max, step);\n\n        // Do we have mobile range slider defined? If so use it. (https://github.com/ubilabs/mobile-range-slider)\n        if (typeof MobileRangeSlider !== \"undefined\") {\n          // set up the nessiscariry markup\n          var rangeDiv = document.createElement(\"div\");\n          rangeDiv.className = \"slider\";\n          rangeDiv.innerHTML = \"<div class=\\\"track\\\"></div><div class=\\\"knob\\\"></div>\";\n\n          // create the mobile slider\n          this.mobileRangeSlider = new MobileRangeSlider(rangeDiv, {\n            min: min,\n            max: max,\n            change: function (value) {\n              self.setValue(String(value));\n            }\n          });\n\n          this.input = rangeDiv; // set the input to the new mobile slider\n        }\n\n        // Allow an input alongside a range slider to override the maximum property\n        if (this.schema.overrideMaximum) {\n          var rangeInput = this.input; // store the range input\n          this.input = this.theme.getFormInputField(\"number\"); // make a number input the primary input\n          // create the control for the range slider\n          this.secondaryControl = this.theme.getFormControl(null, rangeInput);\n\n          // update the range slider when we change the primary input\n          this.input.addEventListener(\"change\", function (e) {\n            if (self.mobileRangeSlider) {\n              // modified from the mobile slider source\n              // sets the knob position instead of setValue which calls the change callback (we don't want that)\n              var\n                knobWidth = rangeInput.getElementsByClassName(\"knob\")[0].offsetWidth,\n                trackWidth = rangeInput.getElementsByClassName(\"track\")[0].offsetWidth,\n                range = max - min,\n                width = trackWidth - knobWidth,\n                position = Math.round((Math.min(e.target.value, max) - min) * width / range);\n\n              self.mobileRangeSlider.setKnobPosition(position);\n            } else {\n              rangeInput.value = e.target.value;\n            }\n          });\n          // update the primary input when we change the range slider\n          rangeInput.addEventListener(\"change\", function (e) {\n            self.setValue(e.target.value);\n          });\n          // set the range slider to the default value\n          rangeInput.value = this.schema.default;\n        }\n      }\n      // Source Code\n      else if ([\n        \"actionscript\",\n        \"batchfile\",\n        \"bbcode\",\n        \"c\",\n        \"c++\",\n        \"cpp\",\n        \"coffee\",\n        \"csharp\",\n        \"css\",\n        \"dart\",\n        \"django\",\n        \"ejs\",\n        \"erlang\",\n        \"golang\",\n        \"handlebars\",\n        \"haskell\",\n        \"haxe\",\n        \"html\",\n        \"ini\",\n        \"jade\",\n        \"java\",\n        \"javascript\",\n        \"json\",\n        \"less\",\n        \"lisp\",\n        \"lua\",\n        \"makefile\",\n        \"markdown\",\n        \"matlab\",\n        \"mysql\",\n        \"objectivec\",\n        \"pascal\",\n        \"perl\",\n        \"pgsql\",\n        \"php\",\n        \"python\",\n        \"r\",\n        \"ruby\",\n        \"sass\",\n        \"scala\",\n        \"scss\",\n        \"smarty\",\n        \"sql\",\n        \"stylus\",\n        \"svg\",\n        \"twig\",\n        \"vbscript\",\n        \"xml\",\n        \"yaml\"\n      ].indexOf(this.format) >= 0\n      ) {\n        this.input_type = this.format;\n        this.source_code = true;\n\n        this.input = this.theme.getTextareaInput();\n      } else if (this.format === \"hidden\") {\n        this.input_type = this.format;\n        this.input = this.theme.getFormInputField(this.input_type);\n        this.container.setAttribute(\"class\", this.container.getAttribute(\"class\") + \" hidden\");\n      }\n      // autocomplete\n      else if (this.format === \"autocomplete\" && !!$().autocomplete) {\n        var acDivElem = document.createElement(\"div\");\n        acDivElem.setAttribute(\"class\", \"autocomplete\");\n\n        this.input_hidden = this.theme.getFormInputField(\"hidden\");\n        var acUUID = $uuid();\n        this.input_hidden.setAttribute(\"id\", acUUID);\n\n        this.input_display = this.theme.getFormInputField(\"text\");\n\n        acDivElem.appendChild(this.input_hidden);\n        acDivElem.appendChild(this.input_display);\n\n        this.input = acDivElem;\n        this.input_type = \"hidden\";\n\n      }\n      // HTML5 Input type - not geolocation\n      else if (this.format !== \"geolocation\") {\n        this.input_type = this.format;\n        this.input = this.theme.getFormInputField(this.input_type);\n      }\n    }\n    // Normal text input\n    else {\n      this.input_type = \"text\";\n      this.input = this.theme.getFormInputField(this.input_type);\n    }\n\n    // minLength, maxLength, and pattern\n    if (typeof this.schema.maxLength !== \"undefined\") this.input.setAttribute(\"maxlength\", this.schema.maxLength);\n    if (typeof this.schema.pattern !== \"undefined\") {\n      this.input.setAttribute(\"pattern\", this.schema.pattern);\n    } else if (typeof this.schema.minLength !== \"undefined\") this.input.setAttribute(\"pattern\", \".{\" + this.schema.minLength + \",}\");\n\n    if (this.options.compact) this.container.setAttribute(\"class\", this.container.getAttribute(\"class\") + \" compact\");\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n    if (this.schema.autocomplete) {\n      if (typeof $ !== \"undefined\") { // if we have jquery\n        // attach autocomplete data, if it exists and JqueryUI is available\n        if (!!$(this.input).autocomplete && this.input_display) {\n          var acSource = this.schema.autocompleteData; // default to autocompleteData i.e. array\n          if (!acSource) {\n            // no autocompleteData. Maybe we have a function and a autocompleteDataSourceID we can use?\n            if (self.jsoneditor.options.autocompleteHandler) {\n              // use a wrapper around the designated autocomplete handler, that adds our data source ID as a parameter.\n              acSource = function (request, response) {\n                if (self.schema.autocompleteDataSourceID) {\n                  request.dataSourceID = self.schema.autocompleteDataSourceID;\n                }\n                self.jsoneditor.options.autocompleteHandler(request, response);\n              };\n            }\n          }\n          if (acSource) {\n            $(this.input_display)\n              .autocomplete(\n                {\n                  \"source\": acSource,\n                  select: function (event, ui) {\n                    //TODO: use item.value instead of label.\n                    // self.setValue(ui.item.value);\n                    self.setValue(ui.item.label);\n                    $(self.input_display)\n                      .val(ui.item.label);\n                    self.jsoneditor.onChange();\n                    return false;\n                  },\n                  change: function (event, ui) {\n                    self.setValue(this.value);\n                  },\n                  delay: 500,\n                  minLength: 0\n                  // focus: function( event, ui ) { // ui = {item: {label: \"00000001 - Toyota - 1AAA111\", value:\n                  // \"YTTYitnfoedz7Gaq4\"}} console.log(\"focus:\",event,ui); } search: function( event, ui) {\n                  // console.log(\"search:\",event,ui);  }, create: function( event, ui) {\n                  // console.log(\"create:\",event,ui);  }\n\n                }\n              )\n              .focus(function () {\n                $(this)\n                  .autocomplete(\"search\");\n              });\n          }\n        }\n      }\n    }\n\n    this.theme.attachHandlers(this.input, function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Don't allow changing if this field is a template\n      if (self.schema.template) {\n        this.value = self.value;\n        return;\n      }\n\n      var val = this.value;\n\n      // sanitize value\n      var sanitized = self.sanitize(val);\n      if (val !== sanitized) {\n        this.value = sanitized;\n      }\n\n      self.is_dirty = true;\n\n      self.refreshValue();\n      self.onChange(true);\n    });\n\n    if (this.format) this.input.setAttribute(\"data-schemaformat\", this.format);\n    if (this.schema.information_only) {\n      this.input.value = this.schema.value;\n      this.schema.default = this.schema.value;\n    }\n    if (this.schema.linkRouteIfUndefined) {\n      // override the input field with a link\n      this.input = document.createElement(\"A\");\n      this.input.href = this.schema.linkRouteIfUndefined;\n      var linkTextNode = document.createTextNode(this.schema.linkTextIfUndefined);\n      this.input.appendChild(linkTextNode);\n    }\n    if (this.schema.placeholder) {\n      this.input.setAttribute(\"placeholder\", this.schema.placeholder);\n\n    }\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n\n    this.container.appendChild(this.control);\n\n    if (this.secondaryControl) this.container.appendChild(this.secondaryControl);\n\n\n    // materialize date picker\n    // $(this.input).pickadate({format: 'dd/mm/yyyy'});\n    // this.input = $(this.control).find('input').get(0);\n    // $(this.input).change(function(e) {\n    //   e.preventDefault();\n    //   e.stopPropagation();\n    //   self.refreshValue();\n    //   self.onChange(true);\n    // });\n    if (window.flatpickr) {\n      if (this.format === \"time\" || this.format === \"date\" || this.format === \"datetime\") {\n        // set flatpickr defaults if none are supplied\n        var flatpickrDefaults;\n        switch (this.format) {\n          case \"date\":\n            flatpickrDefaults = {\n              \"dateFormat\": \"Y-m-d\",\n              \"enableTime\": false,\n              \"noCalendar\": false\n            };\n            break;\n          case \"time\":\n            flatpickrDefaults = {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": false\n            };\n            break;\n          // NB: datetime and default use same logic\n          case \"datetime\":\n          default:\n            flatpickrDefaults = {\n              \"dateFormat\": \"Y-m-d H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": false\n            };\n        }\n        var flatpickrOptions = flatpickrDefaults;\n        if (this.schema.options && this.schema.options.flatpickr) {\n          flatpickrOptions = this.schema.options.flatpickr;\n        }\n        flatpickr(this.input, flatpickrOptions);\n      }\n    }\n\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      // Skip in case the input is only a temporary editor,\n      // otherwise, in the case of an ace_editor creation,\n      // it will generate an error trying to append it to the missing parentNode\n      if (self.input.parentNode) self.afterInputReady();\n    });\n\n    // Compile and store the template\n    if (this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.refreshValue();\n    } else {\n      this.refreshValue();\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n      // TODO: WYSIWYG and Markdown editors\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    // TODO: WYSIWYG and Markdown editors\n    this._super();\n  },\n  afterInputReady: function () {\n    var self = this,\n      options;\n\n    // Set the mobile range slider to the default value\n    if (this.mobileRangeSlider) this.mobileRangeSlider.setValue(this.schema.default);\n\n    // Code editor\n    if (this.source_code) {\n      // WYSIWYG html and bbcode editor\n      if (this.options.wysiwyg &&\n        [\"html\", \"bbcode\"].indexOf(this.input_type) >= 0 &&\n        window.jQuery && window.jQuery.fn && window.jQuery.fn.sceditor\n      ) {\n        options = $extend({}, {\n          plugins: self.input_type === \"html\" ? \"xhtml\" : \"bbcode\",\n          emoticonsEnabled: false,\n          width: \"100%\",\n          height: 300\n        }, JSONEditor.plugins.sceditor, self.options.sceditor_options || {});\n\n        window.jQuery(self.input)\n          .sceditor(options);\n\n        self.sceditor_instance = window.jQuery(self.input)\n          .sceditor(\"instance\");\n\n        self.sceditor_instance.blur(function () {\n          // Get editor's value\n          var val = window.jQuery(\"<div>\" + self.sceditor_instance.val() + \"</div>\");\n          // Remove sceditor spans/divs\n          window.jQuery(\"#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf\", val)\n            .remove();\n          // Set the value and update\n          self.input.value = val.html();\n          self.value = self.input.value;\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // EpicEditor for markdown (if it's loaded)\n      else if (this.input_type === \"markdown\" && window.EpicEditor) {\n        this.epiceditor_container = document.createElement(\"div\");\n        this.input.parentNode.insertBefore(this.epiceditor_container, this.input);\n        this.input.style.display = \"none\";\n\n        options = $extend({}, JSONEditor.plugins.epiceditor, {\n          container: this.epiceditor_container,\n          clientSideStorage: false\n        });\n\n        this.epiceditor = new window.EpicEditor(options).load();\n\n        this.epiceditor.importFile(null, this.getValue());\n\n        this.epiceditor.on(\"update\", function () {\n          var val = self.epiceditor.exportFile();\n          self.input.value = val;\n          self.value = val;\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // ACE editor for everything else\n      else if (window.ace) {\n        var mode = this.input_type;\n        // aliases for c/cpp\n        if (mode === \"cpp\" || mode === \"c++\" || mode === \"c\") {\n          mode = \"c_cpp\";\n        }\n\n        this.ace_container = document.createElement(\"div\");\n        this.ace_container.style.width = \"100%\";\n        this.ace_container.style.position = \"relative\";\n        this.ace_container.style.height = \"400px\";\n        this.input.parentNode.insertBefore(this.ace_container, this.input);\n        this.input.style.display = \"none\";\n        this.ace_editor = window.ace.edit(this.ace_container);\n\n        this.ace_editor.setValue(this.getValue());\n\n        // The theme\n        if (JSONEditor.plugins.ace.theme) this.ace_editor.setTheme(\"ace/theme/\" + JSONEditor.plugins.ace.theme);\n        // The mode\n        mode = window.ace.require(\"ace/mode/\" + mode);\n        if (mode) {\n          this.ace_editor.getSession()\n            .setMode(new mode.Mode());\n        }\n\n        // Listen for changes\n        this.ace_editor.on(\"change\", function () {\n          var val = self.ace_editor.getValue();\n          self.input.value = val;\n          self.refreshValue();\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n    }\n\n    self.theme.afterInputReady(self.input);\n  },\n  refreshValue: function () {\n    this.value = this.input.value;\n    if (typeof this.value !== \"string\") this.value = \"\";\n    this.serialized = this.value;\n  },\n  destroy: function () {\n    // If using SCEditor, destroy the editor instance\n    if (this.sceditor_instance) {\n      this.sceditor_instance.destroy();\n    } else if (this.epiceditor) {\n      this.epiceditor.unload();\n    } else if (this.ace_editor) {\n      this.ace_editor.destroy();\n    }\n\n\n    this.template = null;\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var self = this,\n      vars,\n      j;\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars), false, true);\n    }\n\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    if (this.jsoneditor.options.show_errors === \"always\") {\n    } else if (!this.is_dirty && this.previous_error_setting === this.jsoneditor.options.show_errors) return;\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join(\". \") + \".\");\n    } else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\nJSONEditor.defaults.editors.number = JSONEditor.defaults.editors.string.extend({\n    sanitize: function (value) {\n        return (value + \"\").replace(/[^0-9\\.\\-eE]/g, '');\n    },\n    getNumColumns: function () {\n        return 2;\n    },\n    getValue: function () {\n        return this.value * 1;\n    },\n    build: function () {\n        this._super();\n        var self = this;\n\n        var eventName = 'focus'; // use onchange for select events, onclick for checkbox\n        this.input.addEventListener(eventName, function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            //When a numeric input is given focus, select all so new values don't prefix the redundant 0, default value\n            if (self.schema.format === \"number\") {\n                self.input.select();\n            }\n        });\n\n    }\n});\n\nJSONEditor.defaults.editors.integer = JSONEditor.defaults.editors.number.extend({\n  sanitize: function(value) {\n    value = value + \"\";\n    return value.replace(/[^0-9\\-]/g,'');\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n\nJSONEditor.defaults.editors.object = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return $extend({},this.schema.default || {});\n  },\n  getChildEditors: function() {\n    return this.editors;\n  },\n  register: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.maxwidth),3);\n  },\n  enable: function() {\n    if(this.editjson_button) this.editjson_button.disabled = false;\n    if(this.addproperty_button) this.addproperty_button.disabled = false;\n    \n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].enable();\n      }\n    }\n  },\n  disable: function() {\n    if(this.editjson_button) this.editjson_button.disabled = true;\n    if(this.addproperty_button) this.addproperty_button.disabled = true;\n    this.hideEditJSON();\n    \n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].disable();\n      }\n    }\n  },\n  layoutEditors: function() {\n    var self = this, i, j;\n    \n    if(!this.row_container) return;\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n    \n    var container;\n    \n    if(this.format === 'grid') {\n      var rows = [];\n      $each(this.property_order, function(j,key) {\n        var editor = self.editors[key];\n        if(editor.property_removed) return;\n        var found = false;\n        var width = editor.options.hidden? 0 : editor.getNumColumns();\n        var height = editor.options.hidden? 0 : editor.container.offsetHeight;\n        // See if the editor will fit in any of the existing rows first\n        for(var i=0; i<rows.length; i++) {\n          // If the editor will fit in the row horizontally\n          if(rows[i].width + width <= 12) {\n            // If the editor is close to the other elements in height\n            // i.e. Don't put a really tall editor in an otherwise short row or vice versa\n            if(!height || (rows[i].minh*0.5 < height && rows[i].maxh*2 > height)) {\n              found = i;\n            }\n          }\n        }\n        \n        // If there isn't a spot in any of the existing rows, start a new row\n        if(found === false) {\n          rows.push({\n            width: 0,\n            minh: 999999,\n            maxh: 0,\n            editors: []\n          });\n          found = rows.length-1;\n        }\n        \n        rows[found].editors.push({\n          key: key,\n          //editor: editor,\n          width: width,\n          height: height\n        });\n        rows[found].width += width;\n        rows[found].minh = Math.min(rows[found].minh,height);\n        rows[found].maxh = Math.max(rows[found].maxh,height);\n      });\n      \n      // Make almost full rows width 12\n      // Do this by increasing all editors' sizes proprotionately\n      // Any left over space goes to the biggest editor\n      // Don't touch rows with a width of 6 or less\n      for(i=0; i<rows.length; i++) {\n        if(rows[i].width < 12) {\n          var biggest = false;\n          var new_width = 0;\n          for(j=0; j<rows[i].editors.length; j++) {\n            if(biggest === false) biggest = j;\n            else if(rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j;\n            rows[i].editors[j].width *= 12/rows[i].width;\n            rows[i].editors[j].width = Math.floor(rows[i].editors[j].width);\n            new_width += rows[i].editors[j].width;\n          }\n          if(new_width < 12) rows[i].editors[biggest].width += 12-new_width;\n          rows[i].width = 12;\n        }\n      }\n      \n      // layout hasn't changed\n      if(this.layout === JSON.stringify(rows)) return false;\n      this.layout = JSON.stringify(rows);\n      \n      // Layout the form\n      container = document.createElement('div');\n      for(i=0; i<rows.length; i++) {\n        var row = this.theme.getGridRow();\n        container.appendChild(row);\n        for(j=0; j<rows[i].editors.length; j++) {\n          var key = rows[i].editors[j].key;\n          var editor = this.editors[key];\n          \n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width);\n          editor.container.className += ' container-' + key;\n          row.appendChild(editor.container);\n        }\n      }\n    }\n    // Normal layout\n    else {\n      container = document.createElement('div');\n      $each(this.property_order, function(i,key) {\n        var editor = self.editors[key];\n        if(editor.property_removed) return;\n        var row = self.theme.getGridRow();\n        container.appendChild(row);\n        \n        if(editor.options.hidden) editor.container.style.display = 'none';\n        else self.theme.setGridColumnSize(editor.container,12);\n        editor.container.className += ' container-' + key;\n        row.appendChild(editor.container);\n      });\n    }\n    this.row_container.innerHTML = '';\n    this.row_container.appendChild(container);\n  },\n  getPropertySchema: function(key) {\n    // Schema declared directly in properties\n    var schema = this.schema.properties[key] || {};\n    schema = $extend({},schema);\n    \n    // Any matching patternProperties should be merged in\n    if(this.schema.patternProperties) {\n      for(var i in this.schema.patternProperties) {\n        if(!this.schema.patternProperties.hasOwnProperty(i)) continue;\n        var regex = new RegExp(i);\n        if(regex.test(key)) {\n          schema.allOf = schema.allOf || [];\n          schema.allOf.push(this.schema.patternProperties[i]);\n        }\n      }\n    }\n    \n    return schema;\n  },\n  preBuild: function() {\n    this._super();\n\n    this.editors = {};\n    this.cached_editors = {};\n    var self = this;\n\n    this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal';\n\n    this.schema.properties = this.schema.properties || {};\n\n    this.minwidth = 0;\n    this.maxwidth = 0;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      $each(this.schema.properties, function(key,schema) {\n        var editor = self.jsoneditor.getEditorClass(schema);\n        self.editors[key] = self.jsoneditor.createEditor(editor,{\n          jsoneditor: self.jsoneditor,\n          schema: schema,\n          path: self.path+'.'+key,\n          parent: self,\n          compact: true,\n          required: true\n        });\n        self.editors[key].preBuild();\n\n        var width = self.editors[key].options.hidden? 0 : self.editors[key].getNumColumns();\n\n        self.minwidth += width;\n        self.maxwidth += width;\n      });\n      this.no_link_holder = true;\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      this.defaultProperties = this.schema.defaultProperties || Object.keys(this.schema.properties);\n\n      // Increase the grid width to account for padding\n      self.maxwidth += 1;\n\n      $each(this.defaultProperties, function(i,key) {\n        self.addObjectProperty(key, true);\n\n        if(self.editors[key]) {\n          self.minwidth = Math.max(self.minwidth,self.editors[key].getNumColumns());\n          self.maxwidth += self.editors[key].getNumColumns();\n        }\n      });\n    }\n    \n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n  },\n  build: function() {\n    var self = this;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.editors, function(key,editor) {\n        var holder = self.theme.getTableCell();\n        self.editor_holder.appendChild(holder);\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n\n        if(self.editors[key].options.hidden) {\n          holder.style.display = 'none';\n        }\n      });\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      this.header = document.createElement('span');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.container.style.position = 'relative';\n      \n      // Edit JSON modal\n      this.editjson_holder = this.theme.getModal();\n      this.editjson_textarea = this.theme.getTextareaInput();\n      this.editjson_textarea.style.height = '170px';\n      this.editjson_textarea.style.width = '300px';\n      this.editjson_textarea.style.display = 'block';\n      this.editjson_save = this.getButton('Save','save','Save');\n      this.editjson_save.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.saveJSON();\n      });\n      this.editjson_cancel = this.getButton('Cancel','cancel','Cancel');\n      this.editjson_cancel.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.hideEditJSON();\n      });\n      this.editjson_holder.appendChild(this.editjson_textarea);\n      this.editjson_holder.appendChild(this.editjson_save);\n      this.editjson_holder.appendChild(this.editjson_cancel);\n      \n      // Manage Properties modal\n      this.addproperty_holder = this.theme.getModal();\n      this.addproperty_list = document.createElement('div');\n      this.addproperty_list.style.width = '295px';\n      this.addproperty_list.style.maxHeight = '160px';\n      this.addproperty_list.style.padding = '5px 0';\n      this.addproperty_list.style.overflowY = 'auto';\n      this.addproperty_list.style.overflowX = 'hidden';\n      this.addproperty_list.style.paddingLeft = '5px';\n      this.addproperty_add = this.getButton('add','add','add');\n      this.addproperty_input = this.theme.getFormInputField('text');\n      this.addproperty_input.setAttribute('placeholder','Property name...');\n      this.addproperty_input.style.width = '220px';\n      this.addproperty_input.style.marginBottom = '0';\n      this.addproperty_input.style.display = 'inline-block';\n      this.addproperty_add.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.addproperty_input.value) {\n          if(self.editors[self.addproperty_input.value]) {\n            window.alert('there is already a property with that name');\n            return;\n          }\n          \n          self.addObjectProperty(self.addproperty_input.value);\n          if(self.editors[self.addproperty_input.value]) {\n            self.editors[self.addproperty_input.value].disable();\n          }\n          self.onChange(true);\n        }\n      });\n      this.addproperty_holder.appendChild(this.addproperty_list);\n      this.addproperty_holder.appendChild(this.addproperty_input);\n      this.addproperty_holder.appendChild(this.addproperty_add);\n      var spacer = document.createElement('div');\n      spacer.style.clear = 'both';\n      this.addproperty_holder.appendChild(spacer);\n      \n      \n      // Description\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      \n      // Validation error placeholder area\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n      \n      // Container for child editor area\n      this.editor_holder = this.theme.getIndentedPanel();\n      this.editor_holder.style.paddingBottom = '0';\n      this.container.appendChild(this.editor_holder);\n\n      // Container for rows of child editors\n      this.row_container = this.theme.getGridContainer();\n      this.editor_holder.appendChild(this.row_container);\n\n      $each(this.editors, function(key,editor) {\n        var holder = self.theme.getGridColumn();\n        self.row_container.appendChild(holder);\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n      });\n\n      // Control buttons\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.editjson_controls = this.theme.getHeaderButtonHolder();\n      this.addproperty_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      this.title.appendChild(this.editjson_controls);\n      this.title.appendChild(this.addproperty_controls);\n\n      // Show/Hide button\n      this.collapsed = false;\n      this.toggle_button = this.getButton('','collapse','Collapse');\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.collapsed) {\n          self.editor_holder.style.display = '';\n          self.collapsed = false;\n          self.setButtonText(self.toggle_button,'','collapse','Collapse');\n        }\n        else {\n          self.editor_holder.style.display = 'none';\n          self.collapsed = true;\n          self.setButtonText(self.toggle_button,'','expand','Expand');\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n      \n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n      \n      // Edit JSON Button\n      this.editjson_button = this.getButton('JSON','edit','Edit JSON');\n      this.editjson_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleEditJSON();\n      });\n      this.editjson_controls.appendChild(this.editjson_button);\n      this.editjson_controls.appendChild(this.editjson_holder);\n      \n      // Edit JSON Buttton disabled\n      if(this.schema.options && typeof this.schema.options.disable_edit_json !== \"undefined\") {\n        if(this.schema.options.disable_edit_json) this.editjson_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_edit_json) {\n        this.editjson_button.style.display = 'none';\n      }\n      \n      // Object Properties Button\n      this.addproperty_button = this.getButton('Properties','edit','Object Properties');\n      this.addproperty_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleAddProperty();\n      });\n      this.addproperty_controls.appendChild(this.addproperty_button);\n      this.addproperty_controls.appendChild(this.addproperty_holder);\n      this.refreshAddProperties();\n    }\n    \n    // Fix table cell ordering\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.property_order,function(i,key) {\n        self.editor_holder.appendChild(self.editors[key].container);\n      });\n    }\n    // Layout object editors in grid if needed\n    else {\n      // Initial layout\n      this.layoutEditors();\n      // Do it again now that we know the approximate heights of elements\n      this.layoutEditors();\n    }\n  },\n  showEditJSON: function() {\n    if(!this.editjson_holder) return;\n    this.hideAddProperty();\n    \n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.editjson_holder.style.left = this.editjson_button.offsetLeft+\"px\";\n    this.editjson_holder.style.top = this.editjson_button.offsetTop + this.editjson_button.offsetHeight+\"px\";\n    \n    // Start the textarea with the current value\n    this.editjson_textarea.value = JSON.stringify(this.getValue(),null,2);\n    \n    // Disable the rest of the form while editing JSON\n    this.disable();\n    \n    this.editjson_holder.style.display = '';\n    this.editjson_button.disabled = false;\n    this.editing_json = true;\n  },\n  hideEditJSON: function() {\n    if(!this.editjson_holder) return;\n    if(!this.editing_json) return;\n    \n    this.editjson_holder.style.display = 'none';\n    this.enable();\n    this.editing_json = false;\n  },\n  saveJSON: function() {\n    if(!this.editjson_holder) return;\n    \n    try {\n      var json = JSON.parse(this.editjson_textarea.value);\n      this.setValue(json);\n      this.hideEditJSON();\n    }\n    catch(e) {\n      window.alert('invalid JSON');\n      throw e;\n    }\n  },\n  toggleEditJSON: function() {\n    if(this.editing_json) this.hideEditJSON();\n    else this.showEditJSON();\n  },\n  insertPropertyControlUsingPropertyOrder: function (property, control, container) {\n    var propertyOrder = this.schema.properties[property].propertyOrder;\n    if (typeof propertyOrder !== \"number\") propertyOrder = 1000;\n    control.propertyOrder = propertyOrder;\n\n    for (var i = 0; i < container.childNodes.length; i++) {\n      var child = container.childNodes[i];\n      if (control.propertyOrder < child.propertyOrder) {\n        this.addproperty_list.insertBefore(control, child);\n        control = null;\n        break;\n      }\n    }\n    if (control) {\n      this.addproperty_list.appendChild(control);\n    }\n  },\n  addPropertyCheckbox: function(key) {\n    var self = this;\n    var checkbox, label, labelText, control;\n\n    checkbox = self.theme.getCheckbox();\n    checkbox.style.width = 'auto';\n\n    labelText = this.schema.properties[key].title ? this.schema.properties[key].title : key;\n    label = self.theme.getCheckboxLabel(labelText);\n\n    control = self.theme.getFormControl(label,checkbox,null,this.schema.info);\n    control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0;\n    control.style.height = 'auto';\n    //control.style.overflowY = 'hidden';\n\n    this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list);\n\n    checkbox.checked = key in this.editors;\n    checkbox.addEventListener('change',function() {\n      if(checkbox.checked) {\n        self.addObjectProperty(key);\n      }\n      else {\n        self.removeObjectProperty(key);\n      }\n      self.onChange(true);\n    });\n    self.addproperty_checkboxes[key] = checkbox;\n    \n    return checkbox;\n  },\n  showAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    this.hideEditJSON();\n    \n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.addproperty_holder.style.left = this.addproperty_button.offsetLeft+\"px\";\n    this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight+\"px\";\n    \n    // Disable the rest of the form while editing JSON\n    this.disable();\n    \n    this.adding_property = true;\n    this.addproperty_button.disabled = false;\n    this.addproperty_holder.style.display = '';\n    this.refreshAddProperties();\n  },\n  hideAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    if(!this.adding_property) return;\n    \n    this.addproperty_holder.style.display = 'none';\n    this.enable();\n    \n    this.adding_property = false;\n  },\n  toggleAddProperty: function() {\n    if(this.adding_property) this.hideAddProperty();\n    else this.showAddProperty();\n  },\n  removeObjectProperty: function(property) {\n    if(this.editors[property]) {\n      this.editors[property].unregister();\n      delete this.editors[property];\n      \n      this.refreshValue();\n      this.layoutEditors();\n    }\n  },\n  addObjectProperty: function(name, prebuild_only) {\n    var self = this;\n    \n    // Property is already added\n    if(this.editors[name]) return;\n    \n    // Property was added before and is cached\n    if(this.cached_editors[name]) {\n      this.editors[name] = this.cached_editors[name];\n      if(prebuild_only) return;\n      this.editors[name].register();\n    }\n    // New property\n    else {\n      if(!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\n        return;\n      }\n\n      var schema = self.getPropertySchema(name);\n      \n            \n      // Add the property\n      var editor = self.jsoneditor.getEditorClass(schema);\n\n      self.editors[name] = self.jsoneditor.createEditor(editor,{\n        jsoneditor: self.jsoneditor,\n        schema: schema,\n        path: self.path+'.'+name,\n        parent: self\n      });\n      self.editors[name].preBuild();\n      \n      if(!prebuild_only) {\n        var holder = self.theme.getChildEditorHolder();\n        self.editor_holder.appendChild(holder);\n        self.editors[name].setContainer(holder);\n        self.editors[name].build();\n        self.editors[name].postBuild();\n      }\n      \n      self.cached_editors[name] = self.editors[name];\n    }\n    \n    // If we're only prebuilding the editors, don't refresh values\n    if(!prebuild_only) {\n      self.refreshValue();\n      self.layoutEditors();\n    }\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super(editor);\n  },\n  canHaveAdditionalProperties: function() {\n    return (this.schema.additionalProperties === true) || !this.jsoneditor.options.no_additional_properties;\n  },\n  destroy: function() {\n    $each(this.cached_editors, function(i,el) {\n      el.destroy();\n    });\n    if(this.editor_holder) this.editor_holder.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder);\n\n    this.editors = null;\n    this.cached_editors = null;\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    this.editor_holder = null;\n\n    this._super();\n  },\n  getValue: function() {\n    var result = this._super();\n    if(this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\n      for(var i in result) {\n        if(result.hasOwnProperty(i)) {\n          if(!result[i]) delete result[i];\n        }\n      }\n    }\n    return result;\n  },\n  refreshValue: function() {\n    this.value = {};\n    var self = this;\n    \n    for(var i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      this.value[i] = this.editors[i].getValue();\n    }\n    \n    if(this.adding_property) this.refreshAddProperties();\n  },\n  refreshAddProperties: function() {\n    if(this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\n      this.addproperty_controls.style.display = 'none';\n      return;\n    }\n\n    var can_add = false, can_remove = false, num_props = 0, i, show_modal = false;\n    \n    // Get number of editors\n    for(i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      num_props++;\n    }\n    \n    // Determine if we can add back removed properties\n    can_add = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== \"undefined\" && num_props >= this.schema.maxProperties);\n    \n    if(this.addproperty_checkboxes) {\n      this.addproperty_list.innerHTML = '';\n    }\n    this.addproperty_checkboxes = {};\n    \n    // Check for which editors can't be removed or added back\n    for(i in this.cached_editors) {\n      if(!this.cached_editors.hasOwnProperty(i)) continue;\n      \n      this.addPropertyCheckbox(i);\n      \n      if(this.isRequired(this.cached_editors[i]) && i in this.editors) {\n        this.addproperty_checkboxes[i].disabled = true;\n      }\n      \n      if(typeof this.schema.minProperties !== \"undefined\" && num_props <= this.schema.minProperties) {\n        this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked;\n        if(!this.addproperty_checkboxes[i].checked) show_modal = true;\n      }\n      else if(!(i in this.editors)) {\n        if(!can_add  && !this.schema.properties.hasOwnProperty(i)) {\n          this.addproperty_checkboxes[i].disabled = true;\n        }\n        else {\n          this.addproperty_checkboxes[i].disabled = false;\n          show_modal = true;\n        }\n      }\n      else {\n        show_modal = true;\n        can_remove = true;\n      }\n    }\n    \n    if(this.canHaveAdditionalProperties()) {\n      show_modal = true;\n    }\n    \n    // Additional addproperty checkboxes not tied to a current editor\n    for(i in this.schema.properties) {\n      if(!this.schema.properties.hasOwnProperty(i)) continue;\n      if(this.cached_editors[i]) continue;\n      show_modal = true;\n      this.addPropertyCheckbox(i);\n    }\n    \n    // If no editors can be added or removed, hide the modal button\n    if(!show_modal) {\n      this.hideAddProperty();\n      this.addproperty_controls.style.display = 'none';\n    }\n    // If additional properties are disabled\n    else if(!this.canHaveAdditionalProperties()) {\n      this.addproperty_add.style.display = 'none';\n      this.addproperty_input.style.display = 'none';\n    }\n    // If no new properties can be added\n    else if(!can_add) {\n      this.addproperty_add.disabled = true;\n    }\n    // If new properties can be added\n    else {\n      this.addproperty_add.disabled = false;\n    }\n  },\n  isRequired: function(editor) {\n    if(typeof editor.schema.required === \"boolean\") return editor.schema.required;\n    else if(Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1;\n    else if(this.jsoneditor.options.required_by_default) return true;\n    else return false;\n  },\n  setValue: function(value, initial) {\n    var self = this;\n    value = value || {};\n    \n    if(typeof value !== \"object\" || Array.isArray(value)) value = {};\n\n    // First, set the values for all of the defined properties\n    $each(this.cached_editors, function(i,editor) {\n      // Value explicitly set\n      if(typeof value[i] !== \"undefined\") {\n        self.addObjectProperty(i);\n        editor.setValue(value[i],initial);\n      }\n      // Otherwise, remove value unless this is the initial set or it's required\n//      else if(!initial && !self.isRequired(editor)) {\n//        self.removeObjectProperty(i);\n//      }\n      // Otherwise, set the value to the default\n      else {\n        editor.setValue(editor.getDefault(),initial);\n      }\n    });\n\n    $each(value, function(i,val) {\n      if(!self.cached_editors[i]) {\n        self.addObjectProperty(i);\n        if(self.editors[i]) self.editors[i].setValue(val,initial);\n      }\n    });\n    \n    this.refreshValue();\n    this.layoutEditors();\n    this.onChange();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show error for the table row if this is inside a table\n    if(this.options.table_row) {\n      if(my_errors.length) {\n        this.theme.addTableRowError(this.container);\n      }\n      else {\n        this.theme.removeTableRowError(this.container);\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.editors, function(i,editor) {\n      editor.showValidationErrors(other_errors);\n    });\n  }\n});\n\n/* global cordova, Camera */ // jsHint global declarations\nJSONEditor.defaults.editors.imageFile = JSONEditor.AbstractEditor.extend({\n  getDefault: function () {\n    return this.schema.default || '';\n  },\n  setValue: function (value, initial, from_template) {\n    var self = this;\n\n    if (this.template && !from_template) {\n      return;\n    }\n\n    value = value || '';\n    if (typeof value === \"object\")\n      value = JSON.stringify(value);\n    if (typeof value !== \"string\")\n      value = \"\" + value;\n    if (value === this.serialized)\n      return;\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value);\n    if (this.select_options && this.select_options.indexOf(sanitized) < 0) {\n      sanitized = this.select_options[0];\n    }\n\n    if (this.input.value === sanitized) {\n      return;\n    }\n\n\n    this.input.value = sanitized;\n\n    var changed = from_template || this.getValue() !== value;\n\n    this.refreshValue();\n\n    if (changed) {\n      if (self.parent)\n        self.parent.onChildEditorChange(self);\n      else\n        self.jsoneditor.onChange();\n    }\n\n    this.watch_listener();\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  removeProperty: function () {\n    this._super();\n    this.input.style.display = 'none';\n    if (this.description)\n      this.description.style.display = 'none';\n    this.theme.disableLabel(this.label);\n  },\n  addProperty: function () {\n    this._super();\n    this.input.style.display = '';\n    if (this.description)\n      this.description.style.display = '';\n    this.theme.enableLabel(this.label);\n  },\n  build: function () {\n    var self = this;\n    if (!this.getOption('compact', false))\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    this.format = this.schema.format;\n    if (!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g, '');\n    }\n\n    // Specific format\n    if (this.format) {\n      // input type=file accept=image/*\n      if (this.format === 'imageFile') {\n        // inspired by:\n        //  http://stackoverflow.com/a/18803568/956779\n        var divElem = document.createElement('div');\n        divElem.setAttribute(\"class\", \"image-upload\");\n\n        var fileInput = this.theme.getFormInputField('file');\n        fileInput.setAttribute(\"accept\", \"image/*\");\n        fileInput.setAttribute(\"class\", \"hidden\");\n        var uuid = $uuid();\n        fileInput.setAttribute(\"id\", uuid);\n\n        var labelElem = document.createElement('label');\n        labelElem.setAttribute(\"for\", uuid);\n        var placeholderImg = document.createElement('img');\n        //TODO make this an option rather than a hard-coded image.\n        // An add-image image. stops us getting nasty broken image icons. This becomes a button.\n        placeholderImg.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBoZWlnaHQ9IjQ4cHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjQ4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxnPgogICAgPGc+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0yNTYgNDhDMTQxLjEgNDggNDggMTQxLjEgNDggMjU2czkzLjEgMjA4IDIwOCAyMDhjMTE0LjkgMCAyMDgtOTMuMSAyMDgtMjA4UzM3MC45IDQ4IDI1NiA0OHogTTI1NiA0NDYuNyBjLTEwNS4xIDAtMTkwLjctODUuNS0xOTAuNy0xOTAuN1MxNTAuOSA2NS4zIDI1NiA2NS4zUzQ0Ni43IDE1MC45IDQ0Ni43IDI1NlMzNjEuMSA0NDYuNyAyNTYgNDQ2Ljd6Ii8+CiAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjI2NC4xLDEyOCAyNDcuMywxMjggMjQ3LjMsMjQ3LjkgMTI4LDI0Ny45IDEyOCwyNjQuNyAyNDcuMywyNjQuNyAyNDcuMywzODQgMjY0LjEsMzg0IDI2NC4xLDI2NC43IDM4NCwyNjQuNyAzODQsMjQ3LjkgMjY0LjEsMjQ3LjkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\";\n\n        labelElem.appendChild(placeholderImg);\n\n        divElem.appendChild(labelElem);\n        divElem.appendChild(fileInput);\n\n        this.input = divElem;\n        this.input_type = 'file';\n      }\n    }\n\n\n    // minLength, maxLength, and pattern\n    if (typeof this.schema.maxLength !== \"undefined\")\n      this.input.setAttribute('maxlength', this.schema.maxLength);\n    if (typeof this.schema.pattern !== \"undefined\")\n      this.input.setAttribute('pattern', this.schema.pattern);\n    else if (typeof this.schema.minLength !== \"undefined\")\n      this.input.setAttribute('pattern', '.{' + this.schema.minLength + ',}');\n\n    if (this.getOption('compact'))\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    var eventName = 'change';\n    if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n      // the 'change' event doesn't seem to fire on android\n      eventName = 'click';\n    }\n\n    this.input\n            .addEventListener(eventName, function (e) {\n              var val = this.value,\n                      sanitized = self.sanitize(val), // sanitize value\n                      fileinput = this.querySelector(\"input[type=file]\"),\n                      imgelem = this.querySelector(\"img\");\n\n              e.preventDefault();\n              e.stopPropagation();\n\n              // Don't allow changing if this field is a template\n              if (self.schema.template) {\n                this.value = self.value;\n                return;\n              }\n\n              // sanitize value\n              if (val !== sanitized) {\n                this.value = sanitized;\n              }\n\n              // use cordova camera and notification plugins\n              function onImageNotChosenFail(message) {\n                navigator.notification.alert(\n                        'Failed because: ' + message, // message\n                        function () {\n                        }, // callback that does nothing\n                        'Failed', // title\n                        'OK'                  // buttonName\n                        );\n              }\n\n// process the confirmation dialog result\n              function obtainPicture(buttonIndex) {\n                if (buttonIndex === 1) {\n                  // take a new photo\n                  navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, {\n                    quality: 75, \n                    sourceType: Camera.PictureSourceType.CAMERA,\n                    destinationType: Camera.DestinationType.FILE_URI,\n                    correctOrientation: true,\n                    allowEdit: true,\n                    encodingType: Camera.EncodingType.JPEG\n                  });\n\n                } else {\n                  // Choose one from the library\n                  navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, {\n                    quality: 75,\n                    correctOrientation: true,\n                    destinationType: Camera.DestinationType.FILE_URI,\n                    sourceType: Camera.PictureSourceType.PHOTOLIBRARY,\n                    encodingType: Camera.EncodingType.JPEG,\n                    mediaType: Camera.MediaType.PICTURE\n                  }\n                  );\n                }\n              }\n\n\n              function onImageChosenSuccess(imageURI) {\n                // use the data URI as the result.\n                imgelem.src = imageURI;\n                // the value will be an object, with the dataURI and metadata\n                // set it up once the thumbnail has been loaded.\n                var imageObj = new Image();\n                imageObj.onload = function () {\n                  var type, name = this.src; \n\n                  var valueObj = {\n                    \"dataURI\": this.src,\n                    \"width\": this.width,\n                    \"name\": imageURI,\n                    \"height\": this.height //,\n//                        \"name\": file.name,\n//                        \"size\": file.size,\n//                        \"type\": file.type,\n//                        \"lastModificationDate\": file.lastModifiedDate\n                  };\n                  // try to derive image type from file name\n                  if (name.indexOf('.') !== -1) {\n                    // has an extension; use it for type\n                    valueObj.type = name.split('.')[1];\n                  }\n                  // if filename doesn't have an extension, try to derive one from the file type\n//                      if (file.name.indexOf(\".\") === -1) {\n//                        if (file.type.indexOf(\"/\") !== -1) {\n//                          valueObj.name += \".\" + file.type.split(\"/\")[1];\n//                        }\n//                      }\n                  self.setValue(valueObj);\n                };\n                imageObj.src = imageURI;\n\n                //TODO: Move this to theme and make it more flexible.\n                imgelem.style.maxWidth = \"25%\";\n                imgelem.style.maxHeight = \"25%\";\n\n              }\n\n\n              if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n                // Show a custom confirmation dialog\n                //\n                navigator.notification.confirm(\n                        'Where should the image come from?', // message\n                        obtainPicture, // callback to invoke with index of button pressed\n                        'Choose Image Source', // title\n                        ['Take Photo', 'Choose Existing']         // buttonLabels\n                        );\n              } else { // iOS or HTML\n                console.log(\"not android\");\n                if (window.File && window.FileReader && window.FileList && window.Blob) {\n\n                } else {\n                  console.error('The File APIs are not fully supported in this browser.');\n                  return;\n                }\n\n                if (!this) {\n                  console.error(\"Um, couldn't find the fileinput element.\");\n                }\n                else if (!fileinput.files) {\n                  console.error(\"This browser doesn't seem to support the `files` property of file inputs.\");\n                }\n                else if (!fileinput.files[0]) {\n                  console.error(\"Please select a file before clicking 'Load'\");\n                }\n                else {\n                  var file = fileinput.files[0];\n                  var fr = new FileReader();\n                  fr.onload = function (params) {\n                    // use the data URI as the result.\n                    imgelem.src = fr.result;\n                    // the value will be an object, with the dataURI and metadata\n                    // set it up once the thumbnail has been loaded.\n                    var imageObj = new Image();\n                    imageObj.onload = function () {\n                      var width = this.width;\n                      var height = this.height;\n                      // chrome doesn't seem to want to set a width and height.\n                      // get them from the thumbnail if we can.\n                      if (!width && !height) {\n                        width = imgelem.naturalWidth;\n                        height = imgelem.naturalHeight;\n                      }\n                      var valueObj = {\n                        \"dataURI\": this.src,\n                        \"width\": width,\n                        \"height\": height,\n                        \"name\": file.name,\n                        \"size\": file.size,\n                        \"type\": file.type,\n                        \"lastModificationDate\": file.lastModifiedDate\n                      };\n                      // if filename doesn't have an extension, try to derive one from the file type\n                      if (file.name.indexOf(\".\") === -1) {\n                        if (file.type.indexOf(\"/\") !== -1) {\n                          valueObj.name += \".\" + file.type.split(\"/\")[1];\n                        }\n                      }\n                      self.setValue(valueObj);\n                    };\n                    imageObj.src = fr.result;\n\n                    //TODO: Move this to theme and make it more flexible.\n                    imgelem.style.maxWidth = \"25%\";\n                    imgelem.style.maxHeight = \"25%\";\n                  };\n\n                  fr.readAsDataURL(file);\n                }\n              }\n\n              self.refreshValue();\n              self.watch_listener();\n              self.jsoneditor.notifyWatchers(self.path);\n              if (self.parent)\n                self.parent.onChildEditorChange(self);\n              else\n                self.jsoneditor.onChange();\n            });\n\n    if (this.format)\n      this.input.setAttribute('data-schemaformat', this.format);\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    this.container.appendChild(this.control);\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    requestAnimationFrame(function () {\n      self.afterInputReady();\n    });\n\n    this.refreshValue();\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    this._super();\n  },\n  afterInputReady: function () {\n    var self = this;\n\n    // Code editor\n    self.theme.afterInputReady(self.input);\n  },\n  refreshValue: function () {\n    this.value = this.input.value;\n    if (typeof this.value !== \"string\")\n      this.value = '';\n    this.serialized = this.value;\n  },\n  destroy: function () {\n\n\n    this.template = null;\n    this.input.parentNode.removeChild(this.input);\n    if (this.label)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description)\n      this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var self = this;\n    var vars;\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars), false, true);\n    }\n\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\nJSONEditor.defaults.editors.array = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return this.schema.default || [];\n  },\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    var info = this.getItemInfo(0);\n    // Tabs require extra horizontal space\n    if(this.tabs_holder) {\n      return Math.max(Math.min(12,info.width+2),4);\n    }\n    else {\n      return info.width;\n    }\n  },\n  enable: function() {\n    if(this.add_row_button) this.add_row_button.disabled = false;\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = false;\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = false;\n    \n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].enable();\n        \n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false;\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false;\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = false;\n      }\n    }\n    this._super();\n  },\n  disable: function() {\n    if(this.add_row_button) this.add_row_button.disabled = true;\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = true;\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = true;\n\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].disable();\n        \n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true;\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true;\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = true;\n      }\n    }\n    this._super();\n  },\n  preBuild: function() {\n    this._super();\n    \n    this.rows = [];\n    this.row_cache = [];\n\n    this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete;\n    this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder;\n    this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add;\n  },\n  build: function() {\n    var self = this;\n\n    if(!this.options.compact) {\n      this.header = document.createElement('span');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n\n      if(this.schema.format === 'tabs') {\n        this.controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.controls);\n        this.tabs_holder = this.theme.getTabHolder();\n        this.container.appendChild(this.tabs_holder);\n        this.row_holder = this.theme.getTabContentHolder(this.tabs_holder);\n\n        this.active_tab = null;\n      }\n      else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n        this.controls = this.theme.getButtonHolder();\n        this.panel.appendChild(this.controls);\n      }\n    }\n    else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.controls = this.theme.getButtonHolder();\n        this.panel.appendChild(this.controls);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n    }\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this.refreshTabs(true);\n    this._super(editor);\n  },\n  getItemTitle: function() {\n    if(!this.item_title) {\n      if(this.schema.items && !Array.isArray(this.schema.items)) {\n        var tmp = this.jsoneditor.expandRefs(this.schema.items);\n        this.item_title = tmp.title || 'item';\n      }\n      else {\n        this.item_title = 'item';\n      }\n    }\n    return this.item_title;\n  },\n  getItemSchema: function(i) {\n    if(Array.isArray(this.schema.items)) {\n      if(i >= this.schema.items.length) {\n        if(this.schema.additionalItems===true) {\n          return {};\n        }\n        else if(this.schema.additionalItems) {\n          return $extend({},this.schema.additionalItems);\n        }\n      }\n      else {\n        return $extend({},this.schema.items[i]);\n      }\n    }\n    else if(this.schema.items) {\n      return $extend({},this.schema.items);\n    }\n    else {\n      return {};\n    }\n  },\n  getItemInfo: function(i) {\n    var schema = this.getItemSchema(i);\n    \n    // Check if it's cached\n    this.item_info = this.item_info || {};\n    var stringified = JSON.stringify(schema);\n    if(typeof this.item_info[stringified] !== \"undefined\") return this.item_info[stringified];\n    \n    // Get the schema for this item\n    schema = this.jsoneditor.expandRefs(schema);\n      \n    this.item_info[stringified] = {\n      title: schema.title || \"item\",\n      'default': schema.default,\n      width: 12,\n      child_editors: schema.properties || schema.items,\n      title_counter_offset: schema.title_counter_offset || 0\n    };\n    \n    return this.item_info[stringified];\n  },\n  getElementEditor: function(i) {\n    var item_info = this.getItemInfo(i);\n    var schema = this.getItemSchema(i);\n    schema = this.jsoneditor.expandRefs(schema);\n    if (item_info.title_counter_offset) {\n      schema.title = item_info.title+' '+(i+1+item_info.title_counter_offset);\n    } else {\n      schema.title = item_info.title+' '+(i+1);\n    }\n    var editor = this.jsoneditor.getEditorClass(schema);\n\n    var holder;\n    if(this.tabs_holder) {\n      holder = this.theme.getTabContent();\n    }\n    else if(item_info.child_editors) {\n      holder = this.theme.getChildEditorHolder();\n    }\n    else {\n      holder = this.theme.getIndentedPanel();\n    }\n\n    this.row_holder.appendChild(holder);\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      required: true\n    });\n    ret.preBuild();\n    ret.build();\n    ret.postBuild();\n\n    if(!ret.title_controls) {\n      ret.array_controls = this.theme.getButtonHolder();\n      holder.appendChild(ret.array_controls);\n    }\n    \n    return ret;\n  },\n  destroy: function() {\n    this.empty(true);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n    \n    this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null;\n\n    this._super();\n  },\n  empty: function(hard) {\n    if(!this.rows) return;\n    var self = this;\n    $each(this.rows,function(i,row) {\n      if(hard) {\n        if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n        self.destroyRow(row,true);\n        self.row_cache[i] = null;\n      }\n      self.rows[i] = null;\n    });\n    self.rows = [];\n    if(hard) self.row_cache = [];\n  },\n  destroyRow: function(row,hard) {\n    var holder = row.container;\n    if(hard) {\n      row.destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n    }\n    else {\n      if(row.tab) row.tab.style.display = 'none';\n      holder.style.display = 'none';\n      row.unregister();\n    }\n  },\n  getMax: function() {\n    if((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\n      return Math.min(this.schema.items.length,this.schema.maxItems || Infinity);\n    }\n    else {\n      return this.schema.maxItems || Infinity;\n    }\n  },\n  refreshTabs: function(refresh_headers) {\n    var self = this;\n    $each(this.rows, function(i,row) {\n      if(!row.tab) return;\n\n      if(refresh_headers) {\n        row.tab_text.textContent = row.getHeaderText();\n      }\n      else {\n        if(row.tab === self.active_tab) {\n          self.theme.markTabActive(row.tab);\n          row.container.style.display = '';\n        }\n        else {\n          self.theme.markTabInactive(row.tab);\n          row.container.style.display = 'none';\n        }\n      }\n    });\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n    \n    if(!(Array.isArray(value))) value = [value];\n    \n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemInfo(value.length).default);\n      }\n    }\n    if(this.getMax() && value.length > this.getMax()) {\n      value = value.slice(0,this.getMax());\n    }\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val,initial);\n      }\n      else if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].setValue(val,initial);\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow(val,initial);\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      self.destroyRow(self.rows[j]);\n      self.rows[j] = null;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    // Set the active tab\n    var new_active_tab = null;\n    $each(self.rows, function(i,row) {\n      if(row.tab === self.active_tab) {\n        new_active_tab = row.tab;\n        return false;\n      }\n    });\n    if(!new_active_tab && self.rows.length) new_active_tab = self.rows[0].tab;\n\n    self.active_tab = new_active_tab;\n\n    self.refreshValue(initial);\n    self.refreshTabs();\n\n    self.onChange();\n    \n    // TODO: sortable\n  },\n  refreshValue: function(force) {\n    var self = this;\n    var oldi = this.value? this.value.length : 0;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n    \n    if(oldi !== this.value.length || force) {\n      // If we currently have minItems items in the array\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n      \n      $each(this.rows,function(i,editor) {\n        // Hide the move down button for the last row\n        if(editor.movedown_buttons) {\n          if(i === self.rows.length - 1) {\n            editor.movedown_button.style.display = 'none';\n          }\n          else {\n            editor.movedown_button.style.display = '';\n          }\n        }\n\n        // Hide the delete button if we have minItems items\n        if(editor.delete_button) {\n          if(minItems) {\n            editor.delete_button.style.display = 'none';\n          }\n          else {\n            editor.delete_button.style.display = '';\n          }\n        }\n\n        // Get the value for this editor\n        self.value[i] = editor.getValue();\n      });\n      \n      var controls_needed = false;\n      \n      if(!this.value.length) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else if(this.value.length === 1) {      \n        this.remove_all_rows_button.style.display = 'none';  \n\n        // If there are minItems items in the array, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n      else {\n        // If there are minItems items in the array, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n          this.remove_all_rows_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          this.remove_all_rows_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n\n      // If there are maxItems in the array, hide the add button beneath the rows\n      if((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button){\n        this.add_row_button.style.display = 'none';\n      }\n      else {\n        this.add_row_button.style.display = '';\n        controls_needed = true;\n      } \n      \n      if(!this.collapsed && controls_needed) {\n        this.controls.style.display = 'inline-block';\n      }\n      else {\n        this.controls.style.display = 'none';\n      }\n    }\n  },\n  addRow: function(value, initial) {\n    var self = this;\n    var i = this.rows.length;\n    \n    self.rows[i] = this.getElementEditor(i);\n    self.row_cache[i] = self.rows[i];\n\n    if(self.tabs_holder) {\n      self.rows[i].tab_text = document.createElement('span');\n      self.rows[i].tab_text.textContent = self.rows[i].getHeaderText();\n      self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text);\n      self.rows[i].tab.addEventListener('click', function(e) {\n        self.active_tab = self.rows[i].tab;\n        self.refreshTabs();\n        e.preventDefault();\n        e.stopPropagation();\n      });\n\n      self.theme.addTab(self.tabs_holder, self.rows[i].tab);\n    }\n    \n    var controls_holder = self.rows[i].title_controls || self.rows[i].array_controls;\n    \n    // Buttons to delete row, move row up, and move row down\n    if(!self.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton(self.getItemTitle(),'delete','Delete '+self.getItemTitle());\n      self.rows[i].delete_button.className += ' delete';\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var value = self.getValue();\n\n        var newval = [];\n        var new_active_tab = null;\n        $each(value,function(j,row) {\n          if(j===i) {\n            // If the one we're deleting is the active tab\n            if(self.rows[j].tab === self.active_tab) {\n              // Make the next tab active if there is one\n              // Note: the next tab is going to be the current tab after deletion\n              if(self.rows[j+1]) new_active_tab = self.rows[j].tab;\n              // Otherwise, make the previous tab active if there is one\n              else if(j) new_active_tab = self.rows[j-1].tab;\n            }\n            \n            return; // If this is the one we're deleting\n          }\n          newval.push(row);\n        });\n        self.setValue(newval);\n        if(new_active_tab) {\n          self.active_tab = new_active_tab;\n          self.refreshTabs();\n        }\n\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].delete_button);\n      }\n    }\n    \n    if(i && !self.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup','Move up');\n      self.rows[i].moveup_button.className += ' moveup';\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i-1].tab;\n        self.refreshTabs();\n\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].moveup_button);\n      }\n    }\n    \n    if(!self.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown','Move down');\n      self.rows[i].movedown_button.className += ' movedown';\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i+1].tab;\n        self.refreshTabs();\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].movedown_button);\n      }\n    }\n\n    if(value) self.rows[i].setValue(value, initial);\n    self.refreshTabs();\n  },\n  addControls: function() {\n    var self = this;\n    \n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse','Collapse');\n    this.title_controls.appendChild(this.toggle_button);\n    var row_holder_display = self.row_holder.style.display;\n    var controls_display = self.controls.style.display;\n    this.toggle_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if(self.collapsed) {\n        self.collapsed = false;\n        if(self.panel) self.panel.style.display = '';\n        self.row_holder.style.display = row_holder_display;\n        if(self.tabs_holder) self.tabs_holder.style.display = '';\n        self.controls.style.display = controls_display;\n        self.setButtonText(this,'','collapse','Collapse');\n      }\n      else {\n        self.collapsed = true;\n        self.row_holder.style.display = 'none';\n        if(self.tabs_holder) self.tabs_holder.style.display = 'none';\n        self.controls.style.display = 'none';\n        if(self.panel) self.panel.style.display = 'none';\n        self.setButtonText(this,'','expand','Expand');\n      }\n    });\n\n    // If it should start collapsed\n    if(this.options.collapsed) {\n      $trigger(this.toggle_button,'click');\n    }\n    \n    // Collapse button disabled\n    if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n      if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n    }\n    else if(this.jsoneditor.options.disable_collapse) {\n      this.toggle_button.style.display = 'none';\n    }\n    \n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add','Add '+this.getItemTitle());\n    \n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      // Custom validation callback when the user hits the \"add item\" button.\n      if (self.schema.beforeAddValidationCallback && (typeof self.schema.beforeAddValidationCallback === \"function\")) {\n        if (!self.schema.beforeAddValidationCallback(self.rows)) {\n          // validation failed.\n          return;\n        }\n      }\n      var i = self.rows.length;\n      if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow();\n      }\n      self.active_tab = self.rows[i].tab;\n      self.refreshTabs();\n      self.refreshValue();\n      // Custom callback when the user hits the \"add item\" button.\n      if (self.schema.arrayAddCallback && (typeof self.schema.arrayAddCallback === \"function\")) {\n        self.schema.arrayAddCallback(self.rows);\n      }       \n      self.onChange(true);\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton('Last '+this.getItemTitle(),'delete','Delete Last '+this.getItemTitle());\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var rows = self.getValue();\n      \n      var new_active_tab = null;\n      if(self.rows.length > 1 && self.rows[self.rows.length-1].tab === self.active_tab) new_active_tab = self.rows[self.rows.length-2].tab;\n      \n      rows.pop();\n      self.setValue(rows);\n      if(new_active_tab) {\n        self.active_tab = new_active_tab;\n        self.refreshTabs();\n      }\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton('All','delete','Delete All');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.setValue([]);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n\n    if(self.tabs) {\n      this.add_row_button.style.width = '100%';\n      this.add_row_button.style.textAlign = 'left';\n      this.add_row_button.style.marginBottom = '3px';\n      if (!this.schema.noDeleteLastRowButton) {\n      \n      this.delete_last_row_button.style.width = '100%';\n      this.delete_last_row_button.style.textAlign = 'left';\n      this.delete_last_row_button.style.marginBottom = '3px';\n      }\n      if (!this.schema.noDeleteAllButton) {\n      this.remove_all_rows_button.style.width = '100%';\n      this.remove_all_rows_button.style.textAlign = 'left';\n      this.remove_all_rows_button.style.marginBottom = '3px';\n    }\n    }\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.rows, function(i,row) {\n      row.showValidationErrors(other_errors);\n    });\n  }\n});\n\nJSONEditor.defaults.editors.imageFileArray = JSONEditor.defaults.editors.array.extend({\n  addControls: function() {\n    return this._super();\n  }\n});\nJSONEditor.defaults.editors.table = JSONEditor.defaults.editors.array.extend({\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.width),3);\n  },\n  preBuild: function() {\n    var item_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    this.item_title = item_schema.title || 'row';\n    this.item_default = item_schema.default || null;\n    this.item_has_child_editors = item_schema.properties || item_schema.items;\n    this.width = 12;\n    this._super();\n  },\n  build: function() {\n    var self = this;\n    this.table = this.theme.getTable();\n    this.container.appendChild(this.table);\n    this.thead = this.theme.getTableHead();\n    this.table.appendChild(this.thead);\n    this.header_row = this.theme.getTableRow();\n    this.thead.appendChild(this.header_row);\n    this.row_holder = this.theme.getTableBody();\n    this.table.appendChild(this.row_holder);\n\n    // Determine the default value of array element\n    var tmp = this.getElementEditor(0,true);\n    this.item_default = tmp.getDefault();\n    this.width = tmp.getNumColumns() + 2;\n    \n    if(!this.options.compact) {\n      this.title = this.theme.getHeader(this.getTitle());\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.panel = this.theme.getIndentedPanel();\n      this.container.appendChild(this.panel);\n      this.error_holder = document.createElement('div');\n      this.panel.appendChild(this.error_holder);\n    }\n    else {\n      this.panel = document.createElement('div');\n      this.container.appendChild(this.panel);\n    }\n\n    this.panel.appendChild(this.table);\n    this.controls = this.theme.getButtonHolder();\n    this.panel.appendChild(this.controls);\n\n    if(this.item_has_child_editors) {\n      $each(tmp.getChildEditors(), function(i,editor) {\n        var th = self.theme.getTableHeaderCell(editor.getTitle());\n        if(editor.options.hidden) th.style.display = 'none';\n        self.header_row.appendChild(th);\n      });\n    }\n    else {\n      self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));\n    }\n\n    tmp.destroy();\n    this.row_holder.innerHTML = '';\n\n    // Row Controls column\n    this.controls_header_cell = self.theme.getTableHeaderCell(\" \");\n    self.header_row.appendChild(this.controls_header_cell);\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super();\n  },\n  getItemDefault: function() {\n    return $extend({},{default:this.item_default}).default;\n  },\n  getItemTitle: function() {\n    return this.item_title;\n  },\n  getElementEditor: function(i,ignore) {\n    var schema_copy = $extend({},this.schema.items);\n    var editor = this.jsoneditor.getEditorClass(schema_copy, this.jsoneditor);\n    var row = this.row_holder.appendChild(this.theme.getTableRow());\n    var holder = row;\n    if(!this.item_has_child_editors) {\n      holder = this.theme.getTableCell();\n      row.appendChild(holder);\n    }\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema_copy,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      compact: true,\n      table_row: true\n    });\n    \n    ret.preBuild();\n    if(!ignore) {\n      ret.build();\n      ret.postBuild();\n\n      ret.controls_cell = row.appendChild(this.theme.getTableCell());\n      ret.row = row;\n      ret.table_controls = this.theme.getButtonHolder();\n      ret.controls_cell.appendChild(ret.table_controls);\n      ret.table_controls.style.margin = 0;\n      ret.table_controls.style.padding = 0;\n    }\n    \n    return ret;\n  },\n  destroy: function() {\n    this.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n\n    this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null;\n\n    this._super();\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemDefault());\n      }\n    }\n    if(this.schema.maxItems && value.length > this.schema.maxItems) {\n      value = value.slice(0,this.schema.maxItems);\n    }\n    \n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    var numrows_changed = false;\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val);\n      }\n      else {\n        self.addRow(val);\n        numrows_changed = true;\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      var holder = self.rows[j].container;\n      if(!self.item_has_child_editors) {\n        self.rows[j].row.parentNode.removeChild(self.rows[j].row);\n      }\n      self.rows[j].destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      self.rows[j] = null;\n      numrows_changed = true;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    self.refreshValue();\n    if(numrows_changed || initial) self.refreshRowButtons();\n\n    self.onChange();\n          \n    // TODO: sortable\n  },\n  refreshRowButtons: function() {\n    var self = this;\n    \n    // If we currently have minItems items in the array\n    var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n    \n    var need_row_buttons = false;\n    $each(this.rows,function(i,editor) {\n      // Hide the move down button for the last row\n      if(editor.movedown_button) {\n        if(i === self.rows.length - 1) {\n          editor.movedown_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.movedown_button.style.display = '';\n        }\n      }\n\n      // Hide the delete button if we have minItems items\n      if(editor.delete_button) {\n        if(minItems) {\n          editor.delete_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.delete_button.style.display = '';\n        }\n      }\n      \n      if(editor.moveup_button) {\n        need_row_buttons = true;\n      }\n    });\n    \n    // Show/hide controls column in table\n    $each(this.rows,function(i,editor) {\n      if(need_row_buttons) {\n        editor.controls_cell.style.display = '';\n      }\n      else {\n        editor.controls_cell.style.display = 'none';\n      }\n    });\n    if(need_row_buttons) {\n      this.controls_header_cell.style.display = '';\n    }\n    else {\n      this.controls_header_cell.style.display = 'none';\n    }\n    \n    var controls_needed = false;\n  \n    if(!this.value.length) {\n      this.delete_last_row_button.style.display = 'none';\n      this.remove_all_rows_button.style.display = 'none';\n      this.table.style.display = 'none';\n    }\n    else if(this.value.length === 1  || this.hide_delete_buttons) {\n      this.table.style.display = '';\n      this.remove_all_rows_button.style.display = 'none';\n\n      // If there are minItems items in the array, hide the delete button beneath the rows\n      if(minItems || this.hide_delete_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n    else {\n      this.table.style.display = '';\n      // If there are minItems items in the array, hide the delete button beneath the rows\n      if(minItems || this.hide_delete_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        this.remove_all_rows_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n\n    // If there are maxItems in the array, hide the add button beneath the rows\n    if((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\n      this.add_row_button.style.display = 'none';\n    }\n    else {\n      this.add_row_button.style.display = '';\n      controls_needed = true;\n    }\n    \n    if(!controls_needed) {\n      this.controls.style.display = 'none';\n    }\n    else {\n      this.controls.style.display = '';\n    }\n  },\n  refreshValue: function() {\n    var self = this;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n    this.serialized = JSON.stringify(this.value);\n  },\n  addRow: function(value) {\n    var self = this;\n    var i = this.rows.length;\n\n    self.rows[i] = this.getElementEditor(i);\n\n    var controls_holder = self.rows[i].table_controls;\n\n    // Buttons to delete row, move row up, and move row down\n    if(!this.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton('','delete','Delete');\n      self.rows[i].delete_button.className += ' delete';\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var value = self.getValue();\n\n        var newval = [];\n        $each(value,function(j,row) {\n          if(j===i) return; // If this is the one we're deleting\n          newval.push(row);\n        });\n        self.setValue(newval);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].delete_button);\n    }\n\n    \n    if(i && !this.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup','Move up');\n      self.rows[i].moveup_button.className += ' moveup';\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].moveup_button);\n    }\n    \n    if(!this.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown','Move down');\n      self.rows[i].movedown_button.className += ' movedown';\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].movedown_button);\n    }\n\n    if(value) self.rows[i].setValue(value);\n  },\n  addControls: function() {\n    var self = this;\n\n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse','Collapse');\n    if(this.title_controls) {\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if(self.collapsed) {\n          self.collapsed = false;\n          self.panel.style.display = '';\n          self.setButtonText(this,'','collapse','Collapse');\n        }\n        else {\n          self.collapsed = true;\n          self.panel.style.display = 'none';\n          self.setButtonText(this,'','expand','Expand');\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n\n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add','Add '+this.getItemTitle());\n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.addRow();\n      self.refreshValue();\n      self.refreshRowButtons();\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton('Last '+this.getItemTitle(),'delete','Delete Last '+this.getItemTitle());\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      var rows = self.getValue();\n      rows.pop();\n      self.setValue(rows);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton('All','delete','Delete All');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.setValue([]);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n  }\n});\n\n// Multiple Editor (for when `type` is an array)\nJSONEditor.defaults.editors.multiple = JSONEditor.AbstractEditor.extend({\n  register: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n      if(this.editors[this.type]) this.editors[this.type].register();\n    }\n    this._super();\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    if(!this.editors[this.type]) return 4;\n    return Math.max(this.editors[this.type].getNumColumns(),4);\n  },\n  enable: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].enable();\n      }\n    }\n    this.switcher.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].disable();\n      }\n    }\n    this.switcher.disabled = true;\n    this._super();\n  },\n  switchEditor: function(i) {\n    var self = this;\n    \n    if(!this.editors[i]) {\n      this.buildChildEditor(i);\n    }\n    \n    self.type = i;\n\n    self.register();\n\n    var current_value = self.getValue();\n\n    $each(self.editors,function(type,editor) {\n      if(!editor) return;\n      if(self.type === type) {\n        editor.setValue(current_value,true);\n        editor.container.style.display = '';\n      }\n      else editor.container.style.display = 'none';\n    });\n    self.refreshValue();\n    self.refreshHeaderText();\n  },\n  buildChildEditor: function(i) {\n    var self = this;\n    var type = this.types[i];\n    var holder = self.theme.getChildEditorHolder();\n    self.editor_holder.appendChild(holder);\n\n    var schema;\n    \n    if(typeof type === \"string\") {\n      schema = $extend({},self.schema);\n      schema.type = type;\n    }\n    else {\n      schema = $extend({},self.schema,type);\n      schema = self.jsoneditor.expandRefs(schema);\n\n      // If we need to merge `required` arrays\n      if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n        schema.required = self.schema.required.concat(type.required);\n      }\n    }\n\n    var editor = self.jsoneditor.getEditorClass(schema);\n\n    self.editors[i] = self.jsoneditor.createEditor(editor,{\n      jsoneditor: self.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: self.path,\n      parent: self,\n      required: true\n    });\n    self.editors[i].preBuild();\n    self.editors[i].build();\n    self.editors[i].postBuild();\n    \n    if(self.editors[i].header) self.editors[i].header.style.display = 'none';\n    \n    self.editors[i].option = self.switcher_options[i];\n    \n    holder.addEventListener('change_header_text',function() {\n      self.refreshHeaderText();\n    });\n\n    if(i !== self.type) holder.style.display = 'none';\n  },\n  preBuild: function() {\n    var self = this;\n\n    this.types = [];\n    this.type = 0;\n    this.editors = [];\n    this.validators = [];\n\n    if(this.schema.oneOf) {\n      this.oneOf = true;\n      this.types = this.schema.oneOf;\n      $each(this.types,function(i,oneof) {\n        //self.types[i] = self.jsoneditor.expandSchema(oneof);\n      });\n      delete this.schema.oneOf;\n    }\n    else {\n      if(!this.schema.type || this.schema.type === \"any\") {\n        this.types = ['string','number','integer','boolean','object','array','null'];\n\n        // If any of these primitive types are disallowed\n        if(this.schema.disallow) {\n          var disallow = this.schema.disallow;\n          if(typeof disallow !== 'object' || !(Array.isArray(disallow))) {\n            disallow = [disallow];\n          }\n          var allowed_types = [];\n          $each(this.types,function(i,type) {\n            if(disallow.indexOf(type) === -1) allowed_types.push(type);\n          });\n          this.types = allowed_types;\n        }\n      }\n      else if(Array.isArray(this.schema.type)) {\n        this.types = this.schema.type;\n      }\n      else {\n        this.types = [this.schema.type];\n      }\n      delete this.schema.type;\n    }\n\n    this.display_text = this.getDisplayText(this.types);\n  },\n  build: function() {\n    var self = this;\n    var container = this.container;\n\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.header);\n\n    this.switcher = this.theme.getSwitcher(this.display_text);\n    container.appendChild(this.switcher);\n    this.switcher.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.switchEditor(self.display_text.indexOf(this.value));\n      self.onChange(true);\n    });\n    this.switcher.style.marginBottom = 0;\n    this.switcher.style.width = 'auto';\n    this.switcher.style.display = 'inline-block';\n    this.switcher.style.marginLeft = '5px';\n\n    this.editor_holder = document.createElement('div');\n    container.appendChild(this.editor_holder);\n\n    this.switcher_options = this.theme.getSwitcherOptions(this.switcher);\n    $each(this.types,function(i,type) {\n      self.editors[i] = false;\n      \n      var schema;\n      \n      if(typeof type === \"string\") {\n        schema = $extend({},self.schema);\n        schema.type = type;\n      }\n      else {\n        schema = $extend({},self.schema,type);\n\n        // If we need to merge `required` arrays\n        if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n          schema.required = self.schema.required.concat(type.required);\n        }\n      }\n\n      self.validators[i] = new JSONEditor.Validator(self.jsoneditor,schema);\n    });\n    \n    this.switchEditor(0);\n  },\n  onChildEditorChange: function(editor) {\n    if(this.editors[this.type]) {\n      this.refreshValue();\n      this.refreshHeaderText();\n    }\n    \n    this._super();\n  },\n  refreshHeaderText: function() {\n    var display_text = this.getDisplayText(this.types);\n    $each(this.switcher_options, function(i,option) {\n      option.textContent = display_text[i];\n    });\n  },\n  refreshValue: function() {\n    this.value = this.editors[this.type].getValue();\n  },\n  setValue: function(val,initial) {\n    // Determine type by getting the first one that validates\n    var self = this;\n    $each(this.validators, function(i,validator) {\n      if(!validator.validate(val).length) {\n        self.type = i;\n        self.switcher.value = self.display_text[i];\n        return false;\n      }\n    });\n    \n    this.switchEditor(this.type);\n\n    this.editors[this.type].setValue(val,initial);\n\n    this.refreshValue();\n    self.onChange();\n  },\n  destroy: function() {\n    $each(this.editors, function(type,editor) {\n      if(editor) editor.destroy();\n    });\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n    this._super();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n    \n    // oneOf error paths need to remove the oneOf[i] part before passing to child editors\n    if(this.oneOf) {\n      $each(this.editors,function(i,editor) {\n        if(!editor) return;\n        var check = self.path+'.oneOf['+i+']';\n        var new_errors = [];\n        $each(errors, function(j,error) {\n          if(error.path.substr(0,check.length)===check) {\n            var new_error = $extend({},error);\n            new_error.path = self.path+new_error.path.substr(check.length);\n            new_errors.push(new_error);\n          }\n        });\n        \n        editor.showValidationErrors(new_errors);\n      });\n    }\n    else {\n      $each(this.editors,function(type,editor) {\n        if(!editor) return;\n        editor.showValidationErrors(errors);\n      });\n    }\n  }\n});\n\n// Enum Editor (used for objects and arrays with enumerated values)\nJSONEditor.defaults.editors.enum = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {\n    var container = this.container;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.title);\n\n    this.options.enum_titles = this.options.enum_titles || [];\n\n    this.enum = this.schema.enum;\n    this.selected = 0;\n    this.select_options = [];\n    this.html_values = [];\n\n    var self = this;\n    for(var i=0; i<this.enum.length; i++) {\n      this.select_options[i] = this.options.enum_titles[i] || \"Value \"+(i+1);\n      this.html_values[i] = this.getHTML(this.enum[i]);\n    }\n\n    // Switcher\n    this.switcher = this.theme.getSwitcher(this.select_options);\n    this.container.appendChild(this.switcher);\n    this.switcher.style.width = 'auto';\n    this.switcher.style.display = 'inline-block';\n    this.switcher.style.marginLeft = '5px';\n    this.switcher.style.marginBottom = 0;\n\n    // Display area\n    this.display_area = this.theme.getIndentedPanel();\n    this.display_area.style.paddingTop = 0;\n    this.display_area.style.paddingBottom = 0;\n    this.container.appendChild(this.display_area);\n    \n    if(this.options.hide_display) this.display_area.style.display = \"none\";\n\n    this.theme.attachHandlers(this.switcher, function() {\n      self.selected = self.select_options.indexOf(this.value);\n      self.value = self.enum[self.selected];\n      self.refreshValue();\n      self.onChange(true);\n    });\n\n    this.value = this.enum[0];\n    this.refreshValue();\n    this.theme.afterRefresh(this.switcher);\n\n    if(this.enum.length === 1) this.switcher.style.display = 'none';\n  },\n  refreshValue: function() {\n    var self = this;\n    self.selected = -1;\n    var stringified = JSON.stringify(this.value);\n    $each(this.enum, function(i, el) {\n      if(stringified === JSON.stringify(el)) {\n        self.selected = i;\n        return false;\n      }\n    });\n\n    if(self.selected<0) {\n      self.setValue(self.enum[0]);\n      return;\n    }\n\n    this.switcher.value = this.select_options[this.selected];\n    this.display_area.innerHTML = this.html_values[this.selected];\n  },\n  enable: function() {\n    if(!this.always_disabled) this.switcher.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    this.switcher.disabled = true;\n    this._super();\n  },\n  getHTML: function(el) {\n    var self = this;\n\n    if(el === null) {\n      return '<em>null</em>';\n    }\n    // Array or Object\n    else if(typeof el === \"object\") {\n      // TODO: use theme\n      var ret = '';\n\n      $each(el,function(i,child) {\n        var html = self.getHTML(child);\n\n        // Add the keys to object children\n        if(!(Array.isArray(el))) {\n          // TODO: use theme\n          html = '<div><em>'+i+'</em>: '+html+'</div>';\n        }\n\n        // TODO: use theme\n        ret += '<li>'+html+'</li>';\n      });\n      \n      if(Array.isArray(el)) ret = '<ol>'+ret+'</ol>';\n      else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\"+ret+'</ul>';\n\n      return ret;\n    }\n    // Boolean\n    else if(typeof el === \"boolean\") {\n      return el? 'true' : 'false';\n    }\n    // String\n    else if(typeof el === \"string\") {\n      return el.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n    }\n    // Number\n    else {\n      return el;\n    }\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.refreshValue();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.checkbox = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return this.schema.default || '';\n  },\n  setValue: function(value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (this.enum_values.indexOf(sanitized) < 0) {\n      sanitized = this.enum_values[0];\n    }\n\n\n    // set value straight from the \"checked\" property.\n    this.value = sanitized;\n    this.input.checked = sanitized;\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  typecast: function(value) {\n    if (this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if (this.schema.type === \"number\") {\n      return 1 * value;\n    }\n    else if (this.schema.type === \"integer\") {\n      return Math.floor(value * 1);\n    }\n    else {\n      return \"\" + value;\n    }\n  },\n  getValue: function() {\n    return this.value;\n  },\n  removeProperty: function() {\n    this._super();\n    this.input.style.display = 'none';\n    if (this.description)\n      this.description.style.display = 'none';\n    this.theme.disableLabel(this.label);\n  },\n  addProperty: function() {\n    this._super();\n    this.input.style.display = '';\n    if (this.description)\n      this.description.style.display = '';\n    this.theme.enableLabel(this.label);\n  },\n  // override updateHeaderText as it destroys our checkboxes\n  updateHeaderText: function() {\n    if (this.header && this.schema.format !== \"checkbox\") {\n      this.header.textContent = this.getHeaderText();\n    }\n  },\n  build: function() {\n    var self = this;\n    // if (!this.getOption('compact', false))\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    this.input_type = 'checkbox';\n    this.enum_values = [];\n\n    self.enum_values = [true, false];\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n    if (this.schema.format === \"checkbox\" && this.schema.type === \"boolean\") {\n      this.input = this.theme.getCheckbox(this.path, this.schema.default);\n    }\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    var eventName = 'change'; // use onchange for select events, onclick for checkbox\n    this.input.addEventListener(eventName, function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (self.schema.format === \"checkbox\") {\n        // set the value to be the \"checked\" property of the checkbox\n        self.value = this.checked;\n      }\n      if (self.parent)\n        self.parent.onChildEditorChange(self);\n      else\n        self.jsoneditor.onChange();\n      self.jsoneditor.notifyWatchers(self.path);\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\n    this.container.appendChild(this.control);\n\n    self.theme.afterInputReady(self.input);\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  enable: function() {\n    if (!this.always_disabled)\n      this.input.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    this.input.disabled = true;\n    this._super();\n  },\n  destroy: function() {\n    if (this.label)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description)\n      this.description.parentNode.removeChild(this.description);\n    this.input.parentNode.removeChild(this.input);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.select = JSONEditor.AbstractEditor.extend({\n  setValue: function (value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (Array.isArray(sanitized)) {\n      if ((this.schema.multiple === true) && (!!value)) { // we want multiple values, and we have some sort of value\n        sanitized = sanitized.filter(function (element) {\n          return (this.enum_values.indexOf(element) >= 0);\n        }, this);\n      }\n    } else if (this.enum_values.indexOf(sanitized) < 0) { // not an array\n      sanitized = this.enum_values[0];\n    }\n\n    if (this.value === sanitized) {\n      return;\n    }\n\n    if (Array.isArray(sanitized)) {\n      // loop through all the <option> values, deselecting them.\n      this.enum_values.forEach(function (thisValue, index) {\n        this.input.options[index].selected = false;\n      }, this);\n      // loop through our selected values, setting the corresponding <option> elements.\n      sanitized.forEach(function (currentValue) {\n        this.input.options[this.enum_values.indexOf(currentValue)].selected = true;\n      }, this);\n    } else { // a single-value (i.e. normal) select. Set its value.\n      this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n    }\n    if (this.select2)\n      this.select2.select2('val', this.input.value);\n    this.value = sanitized;\n    this.theme.setSelectValue(this.input);\n    this.onChange();\n  },\n  register: function () {\n    this._super();\n    if (!this.input)\n      return;\n    this.input.setAttribute('name', this.formname);\n  },\n  unregister: function () {\n    this._super();\n    if (!this.input)\n      return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function () {\n    if (!this.enum_options)\n      return 3;\n    var longest_text = this.getTitle().length;\n    for (var i = 0; i < this.enum_options.length; i++) {\n      longest_text = Math.max(longest_text, this.enum_options[i].length + 4);\n    }\n    return Math.min(12, Math.max(longest_text / 7, 2));\n  },\n  typecast: function (value) {\n    // check if this is an array\n    if (Array.isArray(value)) {\n      if ((this.schema.multiple === true) && (!!value)) { // we want multiple values, and we have some sort of value\n        // typecast the array components\n        var typecastValues = [];\n        for (var i = 0; i < value.length; i++) {\n          typecastValues.push(this.typecastPrimitive(value[i]));\n        }\n        return typecastValues;\n\n      }\n    }\n    return this.typecastPrimitive(value);\n\n  },\n  typecastPrimitive: function (value) {\n    if (this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if (this.schema.type === \"number\") {\n      return 1 * value;\n    }\n    else if (this.schema.type === \"integer\") {\n      return Math.floor(value * 1);\n    }\n    else {\n      return \"\" + value;\n    }\n  },\n  getValue: function () {\n    return this.value;\n  },\n  preBuild: function () {\n    var self = this;\n    this.input_type = 'select';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n\n    // Enum options enumerated\n    if (this.schema.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.enum, function (i, option) {\n        self.enum_options[i] = \"\" + option;\n        self.enum_display[i] = \"\" + (display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n\n      if ( this.schema.emptyFirstField ) {\n        self.enum_options.unshift(\"\" + \"__null__\");\n        self.enum_display.unshift(\"\" + \"Choose your option\");\n        self.enum_values.unshift(\"\" + \"__null__\");\n      }\n    }\n    // Boolean\n    else if (this.schema.type === \"boolean\") {\n      self.enum_display = ['true', 'false'];\n      self.enum_options = ['1', ''];\n      self.enum_values = [true, false];\n    }\n    // Dynamic Enum\n    else if (this.schema.enumSource) {\n      this.enumSource = [];\n      this.enum_display = [];\n      this.enum_options = [];\n      this.enum_values = [];\n\n      // Shortcut declaration for using a single array\n      if (!(Array.isArray(this.schema.enumSource))) {\n        if (this.schema.enumValue) {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource,\n              value: this.schema.enumValue\n            }\n          ];\n        }\n        else {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource\n            }\n          ];\n        }\n      }\n      else {\n        for (i = 0; i < this.schema.enumSource.length; i++) {\n          // Shorthand for watched variable\n          if (typeof this.schema.enumSource[i] === \"string\") {\n            this.enumSource[i] = {\n              source: this.schema.enumSource[i]\n            };\n          }\n          // Make a copy of the schema\n          else if (!(Array.isArray(this.schema.enumSource[i]))) {\n            this.enumSource[i] = $extend({}, this.schema.enumSource[i]);\n          }\n          else {\n            this.enumSource[i] = this.schema.enumSource[i];\n          }\n        }\n      }\n\n      // Now, enumSource is an array of sources\n      // Walk through this array and fix up the values\n      for (i = 0; i < this.enumSource.length; i++) {\n        if (this.enumSource[i].value) {\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n        }\n        if (this.enumSource[i].title) {\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n        }\n        if (this.enumSource[i].filter) {\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n        }\n      }\n    }\n    // Other, not supported\n    else {\n      throw \"'select' editor requires the enum property to be set.\";\n    }\n  },\n  build: function () {\n    var multipleSelect;\n    var self = this;\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    this.input = this.theme.getSelectInput(this.enum_options);\n    this.theme.setSelectOptions(this.input, this.enum_options, this.enum_display);\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    multipleSelect = (this.schema.multiple) || false;\n    this.input.multiple = multipleSelect;\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n\n    this.container.appendChild(this.control);\n\n    this.theme.attachHandlers(this.input, function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.value = this.enum_values[0];\n  },\n  onInputChange: function () {\n    var sanitized, isMulti;\n    \n    isMulti = this.schema.multiple || false;\n    if (this.input.selectedOptions && isMulti) { // we're dealing with a select, otherwise it might be a radio\n      sanitized = [];\n      for (var i = 0; i < this.input.selectedOptions.length; i++) {\n        if (this.enum_options.indexOf(this.input.selectedOptions[i].value) !== -1) {\n          sanitized.push(this.input.selectedOptions[i].value);\n        }\n      }\n    } else { // radio (or some other extension of this class)\n      var val = this.input.value;\n\n      sanitized = val;\n      if (this.enum_options.indexOf(val) === -1) { // illegal value. default to first.\n        sanitized = this.enum_options[0];\n\n      }\n    }\n    this.value = sanitized;\n    this.onChange(true);\n  },\n  setupSelect2: function () {\n    // If the Select2 library is loaded use it when we have lots of items\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && (this.enum_options.length > 2 || (this.enum_options.length && this.enumSource))) {\n      var options = $extend({}, JSONEditor.plugins.select2);\n      if (this.schema.options && this.schema.options.select2_options)\n        options = $extend(options, this.schema.options.select2_options);\n      this.select2 = window.jQuery(this.input).select2(options);\n      var self = this;\n      this.select2.on('select2-blur', function () {\n        self.input.value = self.select2.select2('val');\n        self.onInputChange();\n      });\n    }\n    else {\n      this.select2 = null;\n    }\n  },\n  postBuild: function () {\n    this._super();\n    this.theme.afterInputReady(this.input);\n    this.setupSelect2();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n    \n    if(this.jsoneditor.options.show_errors === \"always\") {}\n    else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\n    \n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors,function(i,error) {\n      if(error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if(messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ')+'.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  },  \n  onWatchedFieldChange: function () {\n    var self = this, vars, j;\n\n    // If this editor uses a dynamic select box\n    if (this.enumSource) {\n      vars = this.getWatchedFieldValues();\n      var select_options = [];\n      var select_titles = [];\n\n      for (var i = 0; i < this.enumSource.length; i++) {\n        // Constant values\n        if (Array.isArray(this.enumSource[i])) {\n          select_options = select_options.concat(this.enumSource[i]);\n          select_titles = select_titles.concat(this.enumSource[i]);\n        }\n        // A watched field\n        else if (vars[this.enumSource[i].source]) {\n          var items = vars[this.enumSource[i].source];\n\n          // Only use a predefined part of the array\n          if (this.enumSource[i].slice) {\n            items = Array.prototype.slice.apply(items, this.enumSource[i].slice);\n          }\n          // Filter the items\n          if (this.enumSource[i].filter) {\n            var new_items = [];\n            for (j = 0; j < items.length; j++) {\n              if (this.enumSource[i].filter({i: j, item: items[j]}))\n                new_items.push(items[j]);\n            }\n            items = new_items;\n          }\n\n          var item_titles = [];\n          var item_values = [];\n          for (j = 0; j < items.length; j++) {\n            var item = items[j];\n\n            // Rendered value\n            if (this.enumSource[i].value) {\n              item_values[j] = this.enumSource[i].value({\n                i: j,\n                item: item\n              });\n            }\n            // Use value directly\n            else {\n              item_values[j] = items[j];\n            }\n\n            // Rendered title\n            if (this.enumSource[i].title) {\n              item_titles[j] = this.enumSource[i].title({\n                i: j,\n                item: item\n              });\n            }\n            // Use value as the title also\n            else {\n              item_titles[j] = item_values[j];\n            }\n          }\n\n          // TODO: sort\n\n          select_options = select_options.concat(item_values);\n          select_titles = select_titles.concat(item_titles);\n        }\n      }\n\n      var prev_value = this.value;\n\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\n      this.enum_options = select_options;\n      this.enum_display = select_titles;\n      this.enum_values = select_options;\n\n      if (this.select2) {\n        this.select2.select2('destroy');\n      }\n\n      // If the previous value is still in the new select options, stick with it\n      if (select_options.indexOf(prev_value) !== -1) {\n        this.input.value = prev_value;\n        this.value = prev_value;\n      }\n      // Otherwise, set the value to the first select option\n      else {\n        this.input.value = select_options[0];\n        this.value = select_options[0] || \"\";\n        if (this.parent)\n          this.parent.onChildEditorChange(this);\n        else\n          this.jsoneditor.onChange();\n        this.jsoneditor.notifyWatchers(this.path);\n      }\n\n      this.setupSelect2();\n    }\n\n    this._super();\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n      if (this.select2)\n        this.select2.select2(\"enable\", true);\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    if (this.select2)\n      this.select2.select2(\"enable\", false);\n    this._super();\n  },\n  destroy: function () {\n    if (this.label && this.label.parentNode)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description && this.description.parentNode)\n      this.description.parentNode.removeChild(this.description);\n    if (this.input && this.input.parentNode)\n      this.input.parentNode.removeChild(this.input);\n    if (this.select2) {\n      this.select2.select2('destroy');\n      this.select2 = null;\n    }\n\n    this._super();\n  }\n});\n\n/* global _ */\nJSONEditor.defaults.editors.radio = JSONEditor.defaults.editors.select.extend({\n  setValue: function (value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (this.enum_values.indexOf(sanitized) < 0) { // not found, default to first\n      this.input.value = \"\";\n      this.value = \"\";\n      return;\n    }\n\n    if (this.value === sanitized) {\n      return;\n    }\n\n    this.value = sanitized;\n    var elem = this.input.querySelector('input[type=radio][value=\"' + value + '\"]');\n    elem.checked = true;\n    var radioNodeList = this.input.querySelectorAll('input[type=radio]');\n    for (var i = 0; i<radioNodeList.length; i++) {\n      var item = radioNodeList[i];\n      item.parentElement.classList.remove(\"active\");\n    }\n\n\n    elem.parentElement.classList.add(\"active\"); // add the active CSS class to the label\n\n    this.input.value = sanitized;\n    this.onChange();\n\n  },\n  getDefault: function() {\n    if(this.schema.default) return this.schema.default;\n    return; // return undefined\n  },\n  register: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].unregister();\n      }\n      if (this.editors[this.type])\n        this.editors[this.type].register();\n    }\n    this._super();\n  },\n  unregister: function () {\n    this._super();\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function () {\n    return this._super();\n  },\n  typecast: function (value) {\n    return this._super(value);\n  },\n  getValue: function () {\n    var checkedElem = document.querySelector(\"input[name=\\\"\" + this.path + \"\\\"]:checked\");\n    if (checkedElem) {\n      this.value = checkedElem.value;\n    }\n    return this.value;\n  },\n  preBuild: function () {\n    var self = this;\n    this.input_type = 'radio';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n    this.editors = [];\n    this.validators = [];\n\n    // \"type\":\"radio\",\n    // \"options\": { \"enum_titles\": [\"Swiss Cheese\",\"Cheddar Cheese\",\"Gouda Cheese\"] },\n    // \"enum\": [\"swiss\",\"cheddar\",\"gouda\"],\n    // \"default\": \"gouda\"\n    // Enum options enumerated\n    if (this.schema.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.enum, function (i, option) {\n        self.enum_options[i] = \"\" + option;\n        self.enum_display[i] = \"\" + (display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n    }\n  },\n  build: function () {\n    var self = this;\n    var container = this.container;\n\n\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.header);\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    this.input = this.theme.getRadioGroupFormControl(this.path, self.enum_options, self.enum_display, this.schema.default);\n\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    this.input.addEventListener('change', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description,this.schema.info);\n    this.container.appendChild(this.control);\n\n    this.value = this.schema.default;\n  },\n  onInputChange: function () {\n    this._super();\n  },\n  setupSelect2: function () {\n    this._super();\n  },\n  postBuild: function () {\n    this._super();\n  },\n  onWatchedFieldChange: function () {\n    this._super();\n  },\n  enable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].enable();\n      }\n    }\n    var radios = document.querySelectorAll(\"input[name=\\\"\" + this.path + \"\\\"]\");\n    var radioList = Array.prototype.slice.call(radios);\n    if (radioList && radioList.length > 0) { // loop through each radio and enable it.\n      radioList.forEach(\n              function (item) {\n                item.disabled = false;\n              }\n      );\n    }\n    this._super();\n  },\n  disable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].disable();\n      }\n      var radios = document.querySelectorAll(\"input[name=\\\"\" + this.path + \"\\\"]\");\n      var radioList = Array.prototype.slice.call(radios);\n      if (radioList && radioList.length > 0) { // loop through each radio and disable it.\n        radioList.forEach(\n                function (item) {\n                  item.disabled = true;\n                }\n        );\n      }\n\n    }\n    this._super();\n  },\n  destroy: function () {\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.multiselect = JSONEditor.AbstractEditor.extend({\n  preBuild: function() {\n    this._super();\n\n    this.select_options = {};\n    this.select_values = {};\n\n    var items_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    var e = items_schema.enum || [];\n    this.option_keys = [];\n    for(i=0; i<e.length; i++) {\n      // If the sanitized value is different from the enum value, don't include it\n      if(this.sanitize(e[i]) !== e[i]) continue;\n\n      this.option_keys.push(e[i]+\"\");\n      this.select_values[e[i]+\"\"] = e[i];\n    }\n  },\n  build: function() {\n    var self = this, i;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if((!this.schema.format && this.option_keys.length < 8) || this.schema.format === \"checkbox\") {\n      this.input_type = 'checkboxes';\n\n      this.inputs = {};\n      this.controls = {};\n      for(i=0; i<this.option_keys.length; i++) {\n        this.inputs[this.option_keys[i]] = this.theme.getCheckbox();\n        this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]];\n        var label = this.theme.getCheckboxLabel(this.option_keys[i]);\n        this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]]);\n      }\n\n      this.control = this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description);\n      this.schema.multiple = true;\n    }\n    else {\n      this.input_type = 'select';\n      this.input = this.theme.getSelectInput(this.option_keys);\n      this.input.multiple = true;\n      this.input.size = Math.min(10,this.option_keys.length);\n\n      for(i=0; i<this.option_keys.length; i++) {\n        this.select_options[this.option_keys[i]] = this.input.children[i];\n      }\n\n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n\n      this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    }\n\n    this.container.appendChild(this.control);\n    this.control.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var new_value = [];\n      for(i = 0; i<self.option_keys.length; i++) {\n        if(self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked) new_value.push(self.select_values[self.option_keys[i]]);\n      }\n\n      self.updateValue(new_value);\n      self.onChange(true);\n    });\n  },\n  setValue: function(value, initial) {\n    var i;\n    value = value || [];\n    if(typeof value !== \"object\") value = [value];\n    else if(!(Array.isArray(value))) value = [];\n\n    // Make sure we are dealing with an array of strings so we can check for strict equality\n    for(i=0; i<value.length; i++) {\n      if(typeof value[i] !== \"string\") value[i] += \"\";\n    }\n\n    // Update selected status of options\n    for(i in this.select_options) {\n      if(!this.select_options.hasOwnProperty(i)) continue;\n\n      this.select_options[i][this.input_type === \"select\"? \"selected\" : \"checked\"] = (value.indexOf(i) !== -1);\n    }\n\n    this.updateValue(value);\n    this.onChange();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    var longest_text = this.getTitle().length;\n    for(var i in this.select_values) {\n      if(!this.select_values.hasOwnProperty(i)) continue;\n      longest_text = Math.max(longest_text,(this.select_values[i]+\"\").length+4);\n    }\n\n    return Math.min(12,Math.max(longest_text/7,2));\n  },\n  updateValue: function(value) {\n    var changed = false;\n    var new_value = [];\n    for(var i=0; i<value.length; i++) {\n      if(!this.select_options[value[i]+\"\"]) {\n        changed = true;\n        continue;\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]]);\n      new_value.push(sanitized);\n      if(sanitized !== value[i]) changed = true;\n    }\n    this.value = new_value;\n    return changed;\n  },\n  sanitize: function(value) {\n    if(this.schema.items.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.items.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.input) {\n        this.input.disabled = false;\n      }\n      else if(this.inputs) {\n        for(var i in this.inputs) {\n          if(!this.inputs.hasOwnProperty(i)) continue;\n          this.inputs[i].disabled = false;\n        }\n      }\n    }\n    this._super();\n  },\n  disable: function() {\n    if(this.input) {\n      this.input.disabled = true;\n    }\n    else if(this.inputs) {\n      for(var i in this.inputs) {\n        if(!this.inputs.hasOwnProperty(i)) continue;\n        this.inputs[i].disabled = true;\n      }\n    }\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.base64 = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {    \n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n    \n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n      if(!window.FileReader) throw \"FileReader required for base64 editor\";\n      \n      // File uploader\n      this.uploader = this.theme.getFormInputField('file');\n      \n      this.uploader.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if(this.files && this.files.length) {\n          var fr = new FileReader();\n          fr.onload = function(evt) {\n            self.value = evt.target.result;\n            self.refreshPreview();\n            self.onChange(true);\n            fr = null;\n          };\n          fr.readAsDataURL(this.files[0]);\n        }\n      });\n    }\n\n    this.preview = this.theme.getFormInputDescription(this.schema.description);\n    this.container.appendChild(this.preview);\n\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n    this.container.appendChild(this.control);\n  },\n  refreshPreview: function() {\n    if(this.last_preview === this.value) return;\n    this.last_preview = this.value;\n    \n    this.preview.innerHTML = '';\n    \n    if(!this.value) return;\n    \n    var mime = this.value.match(/^data:([^;,]+)[;,]/);\n    if(mime) mime = mime[1];\n    \n    if(!mime) {\n      this.preview.innerHTML = '<em>Invalid data URI</em>';\n    }\n    else {\n      this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+Math.floor((this.value.length-this.value.split(',')[0].length-1)/1.33333)+' bytes';\n      if(mime.substr(0,5)===\"image\") {\n        this.preview.innerHTML += '<br>';\n        var img = document.createElement('img');\n        img.style.maxWidth = '100%';\n        img.style.maxHeight = '100px';\n        img.src = this.value;\n        this.preview.appendChild(img);\n      }\n    }\n  },\n  enable: function() {\n    if(this.uploader) this.uploader.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.refreshPreview();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.upload = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {    \n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n\n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n\n      if(!this.jsoneditor.options.upload) throw \"Upload handler required for upload editor\";\n\n      // inspired by:\n      //  http://stackoverflow.com/a/18803568/956779\n      var divElem = document.createElement('div');\n      divElem.setAttribute(\"class\", \"image-upload\");\n\n      var fileInput = this.theme.getFormInputField('file');\n      this.uploader = fileInput;\n      var accept = \"image/*\";\n      if (this.schema.options && this.schema.options.accept) {\n        accept = this.schema.options.accept;\n      }\n      fileInput.setAttribute(\"accept\", accept);\n      fileInput.setAttribute(\"class\", \"hidden\");\n      var uuid = $uuid();\n      fileInput.setAttribute(\"id\", uuid);\n\n      var labelElem = document.createElement('label');\n      labelElem.setAttribute(\"for\", uuid);\n      var placeholderImg = document.createElement('img');\n      //TODO make this an option rather than a hard-coded image.\n      // An add-image image. stops us getting nasty broken image icons. This becomes a button.\n      placeholderImg.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBoZWlnaHQ9IjQ4cHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjQ4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxnPgogICAgPGc+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0yNTYgNDhDMTQxLjEgNDggNDggMTQxLjEgNDggMjU2czkzLjEgMjA4IDIwOCAyMDhjMTE0LjkgMCAyMDgtOTMuMSAyMDgtMjA4UzM3MC45IDQ4IDI1NiA0OHogTTI1NiA0NDYuNyBjLTEwNS4xIDAtMTkwLjctODUuNS0xOTAuNy0xOTAuN1MxNTAuOSA2NS4zIDI1NiA2NS4zUzQ0Ni43IDE1MC45IDQ0Ni43IDI1NlMzNjEuMSA0NDYuNyAyNTYgNDQ2Ljd6Ii8+CiAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjI2NC4xLDEyOCAyNDcuMywxMjggMjQ3LjMsMjQ3LjkgMTI4LDI0Ny45IDEyOCwyNjQuNyAyNDcuMywyNjQuNyAyNDcuMywzODQgMjY0LjEsMzg0IDI2NC4xLDI2NC43IDM4NCwyNjQuNyAzODQsMjQ3LjkgMjY0LjEsMjQ3LjkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\";\n\n      labelElem.appendChild(placeholderImg);\n\n      divElem.appendChild(labelElem);\n      divElem.appendChild(fileInput);\n\n      this.input = divElem;\n      this.input_type = 'file';\n\n      // File uploader\n      // this.uploader = this.theme.getFormInputField('file');\n\n      if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n\n      var eventName = 'change';\n      // if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n      //   // the 'change' event doesn't seem to fire on android\n      //   eventName = 'click';\n      // }\n\n      this.uploader.addEventListener(eventName,function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        function previewURLAndUploadFile(previewURL, fileObj) {\n          // var fr = new FileReader();\n          // fr.onload = function(evt) {\n          // self.preview_value = e.target.result;\n          self.refreshPreview(previewURL);\n          self.onChange(true);\n          // fr = null;\n\n          self.theme.removeInputError(self.uploader);\n\n          if (self.theme.getProgressBar) {\n            self.progressBar = self.theme.getProgressBar();\n            self.preview.appendChild(self.progressBar);\n          }\n\n          self.jsoneditor.options.upload(self.path, fileObj, {\n            success: function (url) {\n              self.setValue(url);\n              if (self.jsoneditor.options.uploadSuccessCallback) {\n                self.jsoneditor.options.uploadSuccessCallback(self.path, fileObj, url);\n              }\n\n              if (self.parent) self.parent.onChildEditorChange(self);\n              else self.jsoneditor.onChange();\n\n              if (self.progressBar) self.preview.removeChild(self.progressBar);\n            },\n            failure: function (error) {\n              self.theme.addInputError(self.uploader, error);\n              if (self.progressBar) self.preview.removeChild(self.progressBar);\n            },\n            updateProgress: function (progress) {\n              if (self.progressBar) {\n                if (progress) self.theme.updateProgressBar(self.progressBar, progress);\n                else self.theme.updateProgressBarUnknown(self.progressBar);\n              }\n            }\n          });\n        }\n\n\n        // use cordova camera and notification plugins\n        function onImageNotChosenFail(message) {\n          navigator.notification.alert(\n            'Failed because: ' + message, // message\n            function () {\n            }, // callback that does nothing\n            'Failed', // title\n            'OK'                  // buttonName\n          );\n        }\n\n// process the confirmation dialog result\n        function obtainPicture(buttonIndex) {\n          var picOptions = {\n            quality: 75,\n            destinationType: Camera.DestinationType.FILE_URI,\n            correctOrientation: true,\n            encodingType: Camera.EncodingType.JPEG\n          };\n\n          if (buttonIndex === 1) {\n\n            picOptions.sourceType = Camera.PictureSourceType.CAMERA;\n            // picOptions.allowEdit = true;\n\n\n          } else {\n            picOptions.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n            picOptions.mediaType = Camera.MediaType.PICTURE;\n\n          }\n          // take a new photo\n          navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, picOptions);\n        }\n\n\n        function onImageChosenSuccess(imageURI) {\n\n          window.resolveLocalFileSystemURL(imageURI, function success(fileEntry) {\n\n            // Do something with the FileEntry object, like write to it, upload it, etc.\n            // writeFile(fileEntry, imgUri);\n            console.log(\"got file: \" + fileEntry.fullPath);\n            // displayFileData(fileEntry.nativeURL, \"Native URL\");\n            // use mule uploader with fileEntry.file\n            fileEntry.file(function (file) {\n\n              previewURLAndUploadFile(fileEntry.toInternalURL(), file);\n            }, function (error) {\n              console.error(error);\n            });\n\n          });\n\n\n        }\n\n        // if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n        //   // Show a custom confirmation dialog\n        //   //\n        //   navigator.notification.confirm(\n        //     'Where should the image come from?', // message\n        //     obtainPicture, // callback to invoke with index of button pressed\n        //     'Choose Image Source', // title\n        //     ['Take Photo', 'Choose Existing']         // buttonLabels\n        //   );\n        // } else if(this.files && this.files.length) {\n          var objectURL = window.URL.createObjectURL(this.files[0]);\n\n          previewURLAndUploadFile(objectURL, this.files[0]);\n\n\n\n          // }\n\n        // }\n      });\n    }\n\n    var description = this.schema.description;\n    if (!description) description = '';\n\n\n    // this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    this.container.appendChild(this.control);\n    this.preview = this.theme.getFormInputDescription(description);\n    this.container.appendChild(this.preview);\n  },\n  refreshPreview: function(objectURL) {\n    // if(this.last_preview === this.preview_value) return;\n    // this.last_preview = this.preview_value;\n    if (!this.options || !this.options.preventPreview) {\n\n      var imgelem = this.container.querySelector(\"img\");\n      imgelem.src = objectURL;\n      //TODO: Move this to theme and make it more flexible.\n      imgelem.style.maxWidth = \"25%\";\n      imgelem.style.maxHeight = \"25%\";\n    }\n  },\n  enable: function() {\n    if(this.uploader) this.uploader.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n\n/* global SignaturePad */\nJSONEditor.defaults.editors.signature = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function () {\n    return 4;\n  },\n  build: function () {\n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    // Input that holds the base64 string\n\n    var divElem = this.theme.getContainer();\n    $(divElem).addClass(\"signature\");\n    var uuid = $uuid();\n\n    var canvas = this.theme.getCanvas();\n    canvas.setAttribute(\"id\", uuid);\n\n    divElem.appendChild(canvas);\n    self.input = divElem;\n\n    if (SignaturePad) {\n      this.signaturePad = new SignaturePad(canvas);\n      var sigpad = this.signaturePad;\n      sigpad.onEnd = function () {\n        self.setValue(\n                {\n                  dataURI: sigpad.toDataURL(),\n                  height: canvas.height,\n                  width: canvas.width,\n                  timestamp: self.translate(\"signature_timestamp\", [(new Date()).toLocaleString()]),\n                  hasValue: !self.signaturePad.isEmpty()\n                }\n        );\n        self.jsoneditor.notifyWatchers(self.path);\n        if (self.parent)\n          self.parent.onChildEditorChange(self);\n        else\n          self.jsoneditor.onChange();\n      };\n      var buttonHolder = this.theme.getButtonHolder();\n      var button = this.getButton(self.translate(\"clear_signature_button\"), 'cancel');\n      buttonHolder.appendChild(button);\n      button.addEventListener(\"click\",\n              function () {\n                self.signaturePad.clear();\n                self.setValue(\"\");\n                self.jsoneditor.notifyWatchers(self.path);\n              }); // clear signature on press.\n      divElem.appendChild(buttonHolder);\n    } else {\n      this.signaturePad = undefined;\n    }\n\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n    }\n\n    // Compile and store the template\n    if (this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.jsoneditor.notifyWatchers(this.path);\n    }\n    else {\n      this.jsoneditor.notifyWatchers(this.path);\n    }\n\n    this.control = this.theme.getFormControl(this.label, divElem, this.description);\n    this.container.appendChild(this.control);\n\n    function resizeCanvas() {\n      var parent = $(canvas).parent();\n      if ( parent.width() > 0 && parent.height() > 0 ) {\n        // resize to fill the parent, apart from the \"clear signature\" button at the bottom.\n        resize(parent.width(), (parent.height() - parent.children('.btn-group').height()));\n      }\n    }\n    function resize(w, h){\n\n// add a \"getImageDataWithoutBlankMargins\" function to the signature.\n// from https://github.com/szimek/signature_pad/issues/49#issue-29108215\n\n      var getImageURIWithoutBlankMargins = function (sigpad) {\n        var ctx = sigpad._ctx,\n          canvas = sigpad._ctx.canvas;\n        var imgWidth = canvas.width;\n        var imgHeight = canvas.height;\n        if (imgWidth > 0 && imgHeight > 0) {\n          var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight),\n            data = imageData.data,\n            getAlpha = function(x, y) {\n              return data[(imgWidth*y + x) * 4 + 3];\n            },\n            scanY = function (fromTop) {\n              var offset = fromTop ? 1 : -1;\n\n              // loop through each row\n              for(var y = fromTop ? 0 : imgHeight - 1; fromTop ? (y < imgHeight) : (y > -1); y += offset) {\n\n                // loop through each column\n                for(var x = 0; x < imgWidth; x++) {\n                  if (getAlpha(x, y)) {\n                    return y;\n                  }\n                }\n              }\n              return null; // all image is white\n            },\n            scanX = function (fromLeft) {\n              var offset = fromLeft? 1 : -1;\n\n              // loop through each column\n              for(var x = fromLeft ? 0 : imgWidth - 1; fromLeft ? (x < imgWidth) : (x > -1); x += offset) {\n\n                // loop through each row\n                for(var y = 0; y < imgHeight; y++) {\n                  if (getAlpha(x, y)) {\n                    return x;\n                  }\n                }\n              }\n              return null; // all image is white\n            };\n\n          var cropTop = scanY(true),\n            cropBottom = scanY(false),\n            cropLeft = scanX(true),\n            cropRight = scanX(false);\n\n          // figure out which dimension is larger\n          var referenceDim,\n            heightDifference,\n            heightDifferencePC,\n            widthDifference,\n            widthDifferencePC,\n            newHeight,\n            newWidth;\n\n          // how much smaller is the (desired) new canvas?\n          widthDifference = canvas.width - (cropRight-cropLeft) - 2 ; // could be negative if it's been reduced in size.\n          heightDifference = canvas.height - (cropBottom-cropTop) - 2; // ditto\n\n          widthDifferencePC = (widthDifference / canvas.width); // e.g. 10% smaller would give us 0.1\n          heightDifferencePC = (heightDifference / canvas.height);\n\n          // calculate how our image needs to scale, keeping aspect ratio of its data\n          referenceDim = Math.min(widthDifferencePC, heightDifferencePC);\n          newHeight = canvas.height - (referenceDim * canvas.height);\n          newWidth = canvas.width - (referenceDim * canvas.width);\n\n\n          var relevantData = sigpad._ctx.getImageData(cropLeft, cropTop, (cropRight-cropLeft+2), (cropBottom-cropTop+2));\n          // create an off-screen canvas of the requisite size, to get imagedata as a data uri\n          var tempCanvas = document.createElement('canvas');\n          tempCanvas.width = newWidth;\n          tempCanvas.height = newHeight;\n          var tempctx = tempCanvas.getContext('2d');\n          tempctx.putImageData(relevantData, 0, 0);\n          return tempCanvas.toDataURL(\"image/png\");\n        }\n        return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\"/>'; // empty SVG data uri\n\n      };\n\n      // which one's been reduced by more: height, or width?\n      var referenceDim,\n        heightDifference,\n        heightDifferencePC,\n        widthDifference,\n        widthDifferencePC,\n        newHeight,\n        newWidth;\n      // how much bigger is the (desired) new canvas?\n      widthDifference = w - canvas.width ; // could be negative if it's been reduced in size.\n      heightDifference = h - canvas.height; // ditto\n\n      widthDifferencePC = (widthDifference / canvas.width); // e.g. 10% larger would give us 0.1\n      heightDifferencePC = (heightDifference / canvas.height);\n\n      // calculate how our image needs to scale, keeping aspect ratio of its data\n      referenceDim = Math.min(widthDifferencePC, heightDifferencePC);\n      newHeight = canvas.height + (referenceDim * canvas.height);\n      newWidth = canvas.width + (referenceDim * canvas.width);\n\n      if (!self.signaturePad.isEmpty()) {\n        var datauri = getImageURIWithoutBlankMargins(self.signaturePad);\n\n        canvas.width = w;\n        canvas.height = h;\n\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        img.onload = function () {\n          // scale the image.\n          ctx.drawImage(img, 0, 0, newWidth, newHeight); // Or at whatever offset you like\n        };\n        img.src = datauri;\n      } else {\n        canvas.width = w;\n        canvas.height = h;\n      }\n    }\n    window.addEventListener(\"resize\", resizeCanvas);\n    resizeCanvas();\n\n  },\n  enable: function () {\n    this._super();\n  },\n  disable: function () {\n    this._super();\n  },\n  setValue: function (val) {\n    if (val === null)\n      val = \"\";\n    else if (typeof val === \"object\")\n      val = JSON.stringify(val);\n    else if (typeof val !== \"string\")\n      val = \"\" + val;\n\n    if (val === this.serialized)\n      return;\n\n    if ( this.jsoneditor.options.disable_output_form ) {\n      // If the form is set as disabled, replace the signature canvas element with an image\n      // Check that we have data as string\n      if (typeof val === \"string\" && val.length > 0) {\n        val = JSON.parse(val);\n\n        // Each canvas container has a unique ID which we can use to create a css selector\n        var self = this;\n        var containerSelector = '.container-' + self.key;\n        var containerSelectorSignature = containerSelector + ' .signature';\n\n        // After parsing the value, make sure it is an object with what we expect\n        if (typeof val === \"object\" && val.hasValue) {\n          // Check if we have a list element that is being repeated\n          if (containerSelector.length > 1) {\n            // We only want to replace the last element in it\n            $(containerSelector).last().find('.signature').remove();\n          } else {\n            // get rid of the created canvas holding our signature object\n            $(containerSelectorSignature).remove();\n          }\n          // Create the image container with the appropriate theme markup\n          var divElem = this.theme.getContainer();\n          $(divElem).addClass(\"signature\");\n\n          // Create the image element and add the source, height and width\n          var sigImage = document.createElement(\"img\");\n          sigImage.src = val.dataURI;\n          sigImage.height = val.height;\n          sigImage.width = val.width;\n\n          // Create the span element that holds the timestamp and assign that as inner text\n          var sigTimestamp = document.createElement(\"span\");\n          $(sigTimestamp).addClass(\"signature-timestamp\");\n          sigTimestamp.textContent = val.timestamp;\n\n          // Append the image and timestamp to the container element\n          divElem.appendChild(sigImage);\n          divElem.appendChild(sigTimestamp);\n          // Append the image to the main container instead of the canvas\n          self.container.append(divElem);\n        }\n      }\n    } else {\n      // Normal behavior - Used when filling in or editing a signature\n\n      // Is the value parsed (val) different from the current value (this.getValue)?\n      var changed = this.getValue() !== val;\n\n      if (changed && this.getValue() === \"\") {\n        this.signaturePad.clear();\n        window.dispatchEvent(new Event('resize')); // trigger resize handler\n      }\n\n      if (typeof val === \"string\" && val.length > 0) {\n        this.signaturePad.clear(); // Looks like fromDataURL does not clean up existing values\n        var valParsed = JSON.parse(val);\n        this.signaturePad.fromDataURL(valParsed.dataURI, {ratio: 1}); // Ratio!\n      }\n      this.value = val;\n\n      // Bubble this setValue to parents if the value changed\n      this.onChange(changed);\n    }\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\n\n\nJSONEditor.AbstractTheme = Class.extend({\n  onReady: function() {\n    // Called when the json-editor instance is ready.\n  },\n  // TODO: make all editors use this\n  attachHandlers: function(input, handler) {\n    input.addEventListener('change', handler);\n  },\n  getContainer: function() {\n    // attach stylesheet for mobile range slider\n    var style = document.createElement('style');\n    var rangeCSS =\n      \"/* Mobile Range Slider */\\n\" +\n      \".slider {position: relative; margin: 10px 0; width: 100%; height: 40px;}\" +\n      \".track {position: absolute; top: 19px; left: 0; right: 0; height: 3px; background-color: #AAA;}\" +\n      \".knob {position: absolute; margin: 0; padding: 0; height: 40px; width: 25px; border-radius: 10px;\" +\n      \"background: rgb(253,253,253); border: 1px solid rgb(160,160,160); cursor: pointer;}\";\n\n    style.textContent = rangeCSS;\n\n    var container = document.createElement('div');\n    container.appendChild(style);\n\n    return container;\n  },\n  getCanvas: function() {\n    return document.createElement('canvas');\n  },\n  getFloatRightLinkHolder: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.cssFloat = 'right';\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getModal: function() {\n    var el = document.createElement('div');\n    el.style.backgroundColor = 'white';\n    el.style.border = '1px solid black';\n    el.style.boxShadow = '3px 3px black';\n    el.style.position = 'absolute';\n    el.style.zIndex = '10';\n    el.style.display = 'none';\n    return el;\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.className = 'row';\n    return el;\n  },\n  getGridColumn: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    \n  },\n  getLink: function(text) {\n    var el = document.createElement('a');\n    el.setAttribute('href','#');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  disableHeader: function(header) {\n    header.style.color = '#ccc';\n  },\n  disableLabel: function(label) {\n    label.style.color = '#ccc';\n  },\n  enableHeader: function(header) {\n    header.style.color = '';\n  },\n  enableLabel: function(label) {\n    label.style.color = '';\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  getCheckboxLabel: function(text) {\n    var el = this.getFormInputLabel(text);\n    el.style.fontWeight = 'normal';\n    return el;\n  },\n  getRadioLabel: function(text) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"radioLabel\");\n    return el;\n  },\n  getHeader: function(text) {\n    var el = document.createElement('h3');\n    if(typeof text === \"string\") {\n      el.textContent = text;\n    }\n    else {\n      el.appendChild(text);\n    }\n    \n    return el;\n  },\n  getCheckbox: function(name, checked) {\n    var checkbox = this.getFormInputField('checkbox');\n    checkbox.setAttribute(\"name\",name);\n    checkbox.setAttribute(\"value\",\"true\");\n    if (checked) {\n      checkbox.setAttribute(\"checked\",false); \n    }\n    return checkbox;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    radio.setAttribute(\"class\",\"radio\");\n    if (checked) {\n     radio.setAttribute(\"checked\",true); \n    }\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder\");\n    for(var i=0; i<options.length; i++) {\n      var radio = this.getRadioInput(name, options[i], (options[i] === defaultVal));\n      var radioLabel = this.getRadioLabel(titles[i] || options[i]);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      \n      holder.appendChild(radioLabel);\n      holder.appendChild(radio);\n    }\n    return holder;\n  },\n  getMultiCheckboxHolder: function(controls,label,description) {\n    var el = document.createElement('div');\n\n    if(label) {\n      // label.style.display = 'block';\n      el.appendChild(label);\n    }\n\n    for(var i in controls) {\n      if(!controls.hasOwnProperty(i)) continue;\n      // controls[i].style.display = 'inline-block';\n      // controls[i].style.marginRight = '20px';\n      el.appendChild(controls[i]);\n    }\n\n    if(description) el.appendChild(description);\n\n    return el;\n  },\n  getSelectInput: function(options) {\n    var select = document.createElement('select');\n    if(options) this.setSelectOptions(select, options);\n    return select;\n  },\n  getSwitcher: function(options) {\n    var switcher = this.getSelectInput(options);\n    switcher.style.backgroundColor = 'transparent';\n    switcher.style.height = 'auto';\n    switcher.style.fontStyle = 'italic';\n    switcher.style.fontWeight = 'normal';\n    switcher.style.padding = '0 0 0 3px';\n    return switcher;\n  },\n  getSwitcherOptions: function(switcher) {\n    return switcher.getElementsByTagName('option');\n  },\n  setSwitcherOptions: function(switcher, options, titles) {\n    this.setSelectOptions(switcher, options, titles);\n  },\n  setSelectOptions: function(select, options, titles) {\n    titles = titles || [];\n    select.innerHTML = '';\n    for(var i=0; i<options.length; i++) {\n      var option = document.createElement('option');\n      if (options[i] === \"__null__\") {\n        option.setAttribute('disabled', true);\n        option.setAttribute('selected', true);\n      } else {\n        option.setAttribute('value',options[i]);\n      }\n      option.textContent = titles[i] || options[i];\n      select.appendChild(option);\n    }\n  },\n  setSelectValue: function(input) {\n\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.style = el.style || {};\n    el.style.width = '100%';\n    el.style.height = '300px';\n    el.style.boxSizing = 'border-box';\n    return el;\n  },\n  getRangeInput: function(min,max,step) {\n    var el = this.getFormInputField('range');\n    el.setAttribute('min',min);\n    el.setAttribute('max',max);\n    el.setAttribute('step',step);\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = document.createElement('input');\n    el.setAttribute('type',type);\n    return el;\n  },\n  afterInputReady: function(input) {\n    \n  },\n  getFormControl: function(label, input, description) {\n    var el = document.createElement('div');\n    el.className = 'form-control';\n    if(label) el.appendChild(label);\n    if(input.type === 'checkbox') {\n      label.insertBefore(input,label.firstChild);\n    }\n    else {\n      el.appendChild(input);\n    }\n    \n    if(description) el.appendChild(description);\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.paddingLeft = '10px';\n    el.style.marginLeft = '10px';\n    el.style.borderLeft = '1px solid #ccc';\n    return el;\n  },\n  getChildEditorHolder: function() {\n    return document.createElement('div');\n  },\n  getDescription: function(text) {\n    var el = document.createElement('p');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  getCheckboxDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getRadioDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getFormInputDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getHeaderButtonHolder: function() {\n    return this.getButtonHolder();\n  },\n  getButtonHolder: function() {\n    return document.createElement('div');\n  },\n  getButton: function(text, icon, title) {\n    var el = document.createElement('button');\n    this.setButtonText(el,text,icon,title);\n    return el;\n  },\n  setButtonText: function(button, text, icon, title) {\n    button.innerHTML = '';\n    if(icon) {\n      button.appendChild(icon);\n      button.innerHTML += ' ';\n    }\n    button.appendChild(document.createTextNode(text));\n    if(title) button.setAttribute('title',title);\n  },\n  getTable: function() {\n    return document.createElement('table');\n  },\n  getTableRow: function() {\n    return document.createElement('tr');\n  },\n  getTableHead: function() {\n    return document.createElement('thead');\n  },\n  getTableBody: function() {\n    return document.createElement('tbody');\n  },\n  getTableHeaderCell: function(text) {\n    var el = document.createElement('th');\n    el.textContent = text;\n    return el;\n  },\n  getTableCell: function() {\n    var el = document.createElement('td');\n    return el;\n  },\n  getErrorMessage: function(text) {\n    var el = document.createElement('p');\n    el.style = el.style || {};\n    el.style.color = 'red';\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  addInputError: function(input, text) {\n  },\n  removeInputError: function(input) {\n  },\n  addTableRowError: function(row) {\n  },\n  removeTableRowError: function(row) {\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>\";\n    return el;\n  },\n  applyStyles: function(el,styles) {\n    el.style = el.style || {};\n    for(var i in styles) {\n      if(!styles.hasOwnProperty(i)) continue;\n      el.style[i] = styles[i];\n    }\n  },\n  closest: function(elem, selector) {\n    var matchesSelector = elem.matches || elem.webkitMatchesSelector || elem.mozMatchesSelector || elem.msMatchesSelector;\n\n    while (elem && elem !== document) {\n      try {\n        var f = matchesSelector.bind(elem);\n        if (f(selector)) {\n          return elem;\n        } else {\n          elem = elem.parentNode;\n        }\n      }\n      catch(e) {\n        return false;\n      }\n    }\n    return false;\n  },\n  getTab: function(span) {\n    var el = document.createElement('div');\n    el.appendChild(span);\n    el.style = el.style || {};\n    this.applyStyles(el,{\n      border: '1px solid #ccc',\n      borderWidth: '1px 0 1px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      borderBottomRightRadius: 0,\n      borderTopRightRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    });\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    return this.getIndentedPanel();\n  },\n  markTabActive: function(tab) {\n    this.applyStyles(tab,{\n      opacity: 1,\n      background: 'white'\n    });\n  },\n  markTabInactive: function(tab) {\n    this.applyStyles(tab,{\n      opacity:0.5,\n      background: ''\n    });\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getBlockLink: function() {\n    var link = document.createElement('a');\n    link.style.display = 'block';\n    return link;\n  },\n  getBlockLinkHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getLinksHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  createMediaLink: function(holder,link,media) {\n    holder.appendChild(link);\n    media.style.width='100%';\n    holder.appendChild(media);\n  },\n  createImageLink: function(holder,link,image) {\n    holder.appendChild(link);\n    link.appendChild(image);\n  }\n});\n\nJSONEditor.defaults.themes.bootstrap2 = JSONEditor.AbstractTheme.extend({\n  getRangeInput: function(min, max, step) {\n    // TODO: use bootstrap slider\n    return this._super(min, max, step);\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    el.className = 'container-fluid';\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.className = 'row-fluid';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'span'+size;\n  },\n  getSelectInput: function(options) {\n    var input = this._super(options);\n    input.style.width = 'auto';\n    input.style.maxWidth = '98%';\n    return input;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '98%';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.control-group');\n    input.controls = this.closest(input,'.controls');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.className = input.controlgroup.className.replace(/control-group/g,'').replace(/[ ]{2,}/g,' ');\n      input.controls.className = input.controlgroup.className.replace(/controls/g,'').replace(/[ ]{2,}/g,' ');\n      input.style.marginBottom = 0;\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'well well-small';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.className = 'help-inline';\n    el.textContent = text;\n    return el;\n  },\n  getFormControl: function(label, input, description) {\n    var ret = document.createElement('div');\n    ret.className = 'control-group';\n\n    var controls = document.createElement('div');\n    controls.className = 'controls';\n\n    if(label && input.getAttribute('type') === 'checkbox') {\n      label.className += ' checkbox';\n      label.appendChild(input);\n      controls.appendChild(label);\n      controls.style.height = '30px';\n    }\n    else {\n      if(label) {\n        label.className += ' control-label';\n        ret.appendChild(label);\n      }\n      controls.appendChild(input);\n    }\n      ret.appendChild(controls);\n\n    if(description) controls.appendChild(description);\n\n    return ret;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'btn-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el =  this._super(text, icon, title);\n    el.className += ' btn btn-default';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.controlgroup || !input.controls) return;\n    input.controlgroup.className += ' error';\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.className = 'help-block errormsg';\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?error/g,'');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'tabbable tabs-left';\n    el.innerHTML = \"<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>\";\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('li');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'tab-pane active';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getProgressBar: function() {\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'bar';\n    bar.style.width = '0%';\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    progressBar.firstChild.style.width = progress + \"%\";\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    progressBar.className = 'progress progress-striped active';\n    progressBar.firstChild.style.width = '100%';\n  }\n});\n\nJSONEditor.defaults.themes.bootstrap3 = JSONEditor.AbstractTheme.extend({\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.className += 'form-control';\n    //el.style.width = 'auto';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = el.className + ' col-md-'+size;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.form-group');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.style.marginBottom = 0;\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.className = 'form-control';\n    return el;\n  },\n  getRangeInput: function(min, max, step) {\n    // TODO: use better slider\n    return this._super(min, max, step);\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    if(type !== 'checkbox') {\n      el.className += 'form-control';\n    }\n    return el;\n  },\n  getFormControl: function(label, input, description, info) {\n    var group = document.createElement('div');\n\n    if(label && input.getAttribute('type') === 'checkbox') {\n      label.className += ' checkbox';\n      // add an empty span inside the label, alongside the checkbox.\n      var emptySpan = document.createElement('span');\n      emptySpan.setAttribute('class','checkbox-target');\n      label.insertBefore(emptySpan, label.firstChild);\n      label.insertBefore(input, label.firstChild);\n      group.appendChild(label);\n//      input.style.position = 'relative';\n//      input.style.cssFloat = 'left';\n    } \n    else {\n      group.className += ' form-group';\n      if(label) {\n        var labelHolder = document.createElement(\"div\");\n        labelHolder.setAttribute(\"class\",\"jutoLabelHolder\");\n        label.className += ' control-label';\n        if (info) {\n          var infoSpan = document.createElement(\"i\");\n          infoSpan.setAttribute(\"class\", \"fa fa-info jutoInfoLabel\");\n          infoSpan.info = info;\n          labelHolder.appendChild(label);\n          labelHolder.appendChild(infoSpan);\n        } else {\n          labelHolder.appendChild(label);\n        }\n        group.appendChild(labelHolder);\n      }\n      group.appendChild(input);\n    }\n\n\n\n    if(description) group.appendChild(description);\n\n    return group;\n  },\n  getFormInputLabel: function(text) {\n    var labelToReturn = this._super(text);\n    return labelToReturn;\n  },\n  // <div class=\"btn-group\" data-toggle=\"buttons\">\n  //  <label class=\"btn btn-primary active\">\n  //    <input type=\"radio\" name=\"options\" id=\"option1\" checked> Option 1 (preselected)\n  //  </label>\n  //  <label class=\"btn btn-primary\">\n  //    <input type=\"radio\" name=\"options\" id=\"option2\"> Option 2\n  //  </label>\n  //  <label class=\"btn btn-primary\">\n  //    <input type=\"radio\" name=\"options\" id=\"option3\"> Option 3\n  //  </label>\n  //</div>\n  \n  getRadioLabel: function(text, isChecked) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"btn btn-primary radioLabel\" + (isChecked?\" active\":\"\"));\n    return el;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    if (checked) {\n     radio.setAttribute(\"checked\",true);\n    }\n    radio.setAttribute(\"class\",\"radio\");\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder btn-group\");\n    for(var i=0; i<options.length; i++) {\n      var isChecked = (options[i] === defaultVal);\n      var radio = this.getRadioInput(name, options[i], isChecked);\n      var radioLabel = this.getRadioLabel(titles[i] || options[i], isChecked);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      radioLabel.appendChild(radio);\n      holder.appendChild(radioLabel);\n    }\n    holder.addEventListener(\"change\",\n      function (evt) {\n          var oldActive = holder.querySelector('.btn.active');\n          if (oldActive) {\n              oldActive.classList.remove('active');\n          }\n          evt.target.parentElement.classList.add('active');\n      });\n    return holder;\n  },  \n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'well well-sm';\n    return el;\n  },\n  getFormInputDescription: function(text, html) {\n    if (html) {\n      var div = document.createElement('div');\n      div.innerHTML = text;\n      return div;\n    }\n    var el = document.createElement('p');\n    el.className = 'help-block';\n    el.textContent = text;\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'btn-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += 'btn btn-default';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n\n  addInputError: function(input,text) {\n    if(!input.controlgroup) return;\n    input.controlgroup.className += ' has-error';\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.className = 'help-block errormsg';\n      input.controlgroup.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?has-error/g,'');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>\";\n    el.className = 'rows';\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('a');\n    el.className = 'list-group-item';\n    el.setAttribute('href','#');\n    el.appendChild(text);\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  getProgressBar: function() {\n    var min = 0, max = 100, start = 0;\n\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'progress-bar';\n    bar.setAttribute('role', 'progressbar');\n    bar.setAttribute('aria-valuenow', start);\n    bar.setAttribute('aria-valuemin', min);\n    bar.setAttribute('aria-valuenax', max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute('aria-valuenow', progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.className = 'progress progress-striped active';\n    bar.removeAttribute('aria-valuenow');\n    bar.style.width = '100%';\n    bar.innerHTML = '';\n  }\n});\n\n// Base Foundation theme\nJSONEditor.defaults.themes.foundation = JSONEditor.AbstractTheme.extend({\n  getChildEditorHolder: function() {\n    var el = document.createElement('div');\n    el.style.marginBottom = '15px';\n    return el;\n  },\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.style.minWidth = 'none';\n    el.style.padding = '5px';\n    el.style.marginTop = '3px';\n    return el;\n  },\n  getSwitcher: function(options) {\n    var el = this._super(options);\n    el.style.paddingRight = '8px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(this.closest(input,'.compact')) {\n      input.style.marginBottom = 0;\n    }\n    input.group = this.closest(input,'.form-control');\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '100%';\n    el.style.marginBottom = type==='checkbox'? '0' : '12px';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.textContent = text;\n    el.style.marginTop = '-10px';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'panel';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'button-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += ' small button';\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.group) return;\n    input.group.className += ' error';\n    \n    if(!input.errmsg) {\n      input.insertAdjacentHTML('afterend','<small class=\"error\"></small>');\n      input.errmsg = input.parentNode.getElementsByClassName('error')[0];\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n    \n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.group.className = input.group.className.replace(/ error/g,'');\n    input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var progressBar = document.createElement('div');\n    progressBar.className = 'progress';\n\n    var meter = document.createElement('span');\n    meter.className = 'meter';\n    meter.style.width = '0%';\n    progressBar.appendChild(meter);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = progress + '%';\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = '100%';\n  }\n});\n\n// Foundation 3 Specific Theme\nJSONEditor.defaults.themes.foundation3 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'row';\n    el.innerHTML = \"<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>\";\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    var sizes = ['zero','one','two','three','four','five','six','seven','eight','nine','ten','eleven','twelve'];\n    el.className = 'columns '+sizes[size];\n  },\n  getTab: function(text) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'content active';\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n});\n\n// Foundation 4 Specific Theme\nJSONEditor.defaults.themes.foundation4 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'columns large-'+size;\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  }\n});\n\n// Foundation 5 Specific Theme\nJSONEditor.defaults.themes.foundation5 = JSONEditor.defaults.themes.foundation.extend({\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'columns medium-'+size;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text,icon,title);\n    el.className = el.className.replace(/\\s*small/g,'') + ' tiny';\n    return el;\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<dl class='tabs vertical'></dl><div class='tabs-content'></div>\";\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'content active';\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n});\n\nJSONEditor.defaults.themes.html = JSONEditor.AbstractTheme.extend({\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'block';\n    el.style.marginBottom = '3px';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8em';\n    el.style.margin = 0;\n    el.style.display = 'inline-block';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = this._super();\n    el.style.border = '1px solid #ddd';\n    el.style.padding = '5px';\n    el.style.margin = '5px';\n    el.style.borderRadius = '3px';\n    return el;\n  },\n  getChildEditorHolder: function() {\n    var el = this._super();\n    el.style.marginBottom = '8px';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.8em';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getTable: function() {\n    var el = this._super();\n    el.style.borderBottom = '1px solid #ccc';\n    el.style.marginBottom = '5px';\n    return el;\n  },\n  addInputError: function(input, text) {\n    input.style.borderColor = 'red';\n    \n    if(!input.errmsg) {\n      var group = this.closest(input,'.form-control');\n      input.errmsg = document.createElement('div');\n      input.errmsg.setAttribute('class','errmsg');\n      input.errmsg.style = input.errmsg.style || {};\n      input.errmsg.style.color = 'red';\n      group.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = 'block';\n    }\n    \n    input.errmsg.innerHTML = '';\n    input.errmsg.appendChild(document.createTextNode(text));\n  },\n  removeInputError: function(input) {\n    input.style.borderColor = '';\n    if(input.errmsg) input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var max = 100, start = 0;\n\n    var progressBar = document.createElement('progress');\n    progressBar.setAttribute('max', max);\n    progressBar.setAttribute('value', start);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.setAttribute('value', progress);\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.removeAttribute('value');\n  }\n});\n\nJSONEditor.defaults.themes.jqueryui = JSONEditor.AbstractTheme.extend({\n  getTable: function() {\n    var el = this._super();\n    el.setAttribute('cellpadding',5);\n    el.setAttribute('cellspacing',0);\n    return el;\n  },\n  getTableHeaderCell: function(text) {\n    var el = this._super(text);\n    el.className = 'ui-state-active';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTableCell: function() {\n    var el = this._super();\n    el.className = 'ui-widget-content';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.6em';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this.getDescription(text);\n    el.style.marginLeft = '10px';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormControl: function(label, input, description) {\n    var el = this._super(label,input,description);\n    if(input.type === 'checkbox') {\n      el.style.lineHeight = '25px';\n      \n      el.style.padding = '3px 0';\n    }\n    else {\n      el.style.padding = '4px 0 8px 0';\n    }\n    return el;\n  },\n  getDescription: function(text) {\n    var el = document.createElement('span');\n    el.style.fontSize = '.8em';\n    el.style.fontStyle = 'italic';\n    el.textContent = text;\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'ui-buttonset';\n    el.style.fontSize = '.7em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.style.fontWeight = 'bold';\n    el.style.display = 'block';\n    el.textContent = text;\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var button = document.createElement(\"button\");\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n    // Icon only\n    if(icon && !text) {\n      button.className += ' ui-button-icon-only';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.className += ' ui-button-text-icon-primary';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.className += ' ui-button-text-only';\n    }\n\n    var el = document.createElement('span');\n    el.className = 'ui-button-text';\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n    \n    return button;\n  },\n  setButtonText: function(button,text, icon, title) {\n    button.innerHTML = '';\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n    // Icon only\n    if(icon && !text) {\n      button.className += ' ui-button-icon-only';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.className += ' ui-button-text-icon-primary';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.className += ' ui-button-text-only';\n    }\n\n    var el = document.createElement('span');\n    el.className = 'ui-button-text';\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'ui-widget-content ui-corner-all';\n    el.style.padding = '1em 1.4em';\n    el.style.marginBottom = '20px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controls) return;\n    input.controls = this.closest(input,'.form-control');\n  },\n  addInputError: function(input,text) {\n    if(!input.controls) return;\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('div');\n      input.errmsg.className = 'ui-state-error';\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n  },\n  markTabActive: function(tab) {\n    tab.className = tab.className.replace(/\\s*ui-widget-header/g,'')+' ui-state-active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*ui-state-active/g,'')+' ui-widget-header';\n  }\n});\n\nJSONEditor.defaults.themes.materialize = JSONEditor.AbstractTheme.extend({\n  attachHandlers: function(input, handler) {\n    // materialize datepicker\n    if (input.tagName === 'INPUT' && input.getAttribute('type') === 'date') {\n      if (!$isCordova()) { // don't use on mobile\n        $(input).pickadate({format: 'dd/mm/yyyy'});\n        input = $(input.parentNode).find('input').get(0);\n      }\n      $(input).change(handler); // only triggers through jquery\n    }\n    // materialize selects\n    else if (input.tagName === 'SELECT') {\n      if (!$isCordova()) { // don't use on mobile\n        $(input).material_select();\n        input = $(input.parentNode).find('select').get(0);\n      }\n      $(input).change(handler); // only triggers through jquery\n    }\n    else this._super(input, handler);\n  },\n  setGridColumnSize: function(el,size) {\n    el.className += ' col s'+size;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input, '.input-container');\n  },\n  setSelectValue: function(input) {\n    $(input).material_select(); // re-initialise when the value is programmatically changed\n  },\n  setSelectOptions: function(select, options, titles) {\n    titles = titles || [];\n    if ($isCordova()) select.className += ' browser-default'; // browser default on mobile\n    select.innerHTML = '';\n    var defaultOp = document.createElement('option');\n    defaultOp.textContent = \"Choose Option\";\n    defaultOp.disabled = true;\n    defaultOp.selected = true;\n    select.appendChild(defaultOp);\n    for(var i=0; i<options.length; i++) {\n      var option = document.createElement('option');\n      option.setAttribute('value',options[i]);\n      option.textContent = titles[i] || options[i];\n      select.appendChild(option);\n    }\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.className = 'materialize-textarea';\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    return el;\n  },\n  getFormControl: function(label, input, description, info) {\n    var group = document.createElement('div');\n    var infoSpan = document.createElement(\"i\");\n\n    group.className += ' input-container';\n\n    if (label) {\n      var id = $uuid();\n      input.id = id;\n      label.setAttribute(\"for\", id);\n    }\n\n\n    var nestedInput = input.querySelector('input');\n    if(nestedInput !== null && nestedInput.getAttribute('type') === 'radio') {\n      if (info) {\n        infoSpan.setAttribute(\"class\", \"fa fa-info prefix jutoInfoLabel\");\n        infoSpan.info = info;\n        group.appendChild(infoSpan);\n        group.appendChild(document.createTextNode(\"\\x20\")); // space\n      }\n      group.appendChild(label);\n      group.appendChild(input);\n    }\n    else if(label && input.getAttribute('type') === 'checkbox') {\n      input.className += ' filled-in';\n      group.appendChild(input);\n      group.appendChild(label);\n      if (description) group.appendChild(document.createElement('br'));\n    }\n    else {\n      group.className += ' input-field';\n      if (nestedInput !== null && nestedInput.getAttribute('type') === 'file')\n        group.className = group.className.replace(/\\s?input-field/g,'');\n\n      if (info) {\n        infoSpan.setAttribute(\"class\", \"fa fa-info prefix jutoInfoLabel\");\n        infoSpan.info = info;\n        infoSpan.style.textAlign = \"center\";\n        group.appendChild(infoSpan);\n      }\n      if (input.getAttribute('type') === 'range') {\n        group.className = group.className.replace(/\\s?input-field/g,' range-field');\n        if (label) group.appendChild(label);\n        group.appendChild(input);\n      }\n      else if (input.getAttribute('type') === 'color') {\n        group.className = group.className.replace(/\\s?input-field/g,'');\n        if (label) {\n          group.appendChild(label);\n          group.appendChild(document.createElement('br'));\n        }\n        group.appendChild(input);\n        if (description) group.appendChild(document.createElement('br'));\n      }\n      else {\n        group.appendChild(input);\n        if (label) group.appendChild(label);\n      }\n    }\n\n    if(description) group.appendChild(description);\n\n    return group;\n  },\n  getRadioLabel: function(text, isChecked) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"radioLabel\");\n    return el;\n  },\n  getHeader: function(text) {\n    var el = document.createElement('h4');\n    if(typeof text === \"string\") {\n      el.textContent = text;\n    }\n    else {\n      el.appendChild(text);\n    }\n\n    return el;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    if (checked) {\n     radio.setAttribute(\"checked\",true);\n    }\n    radio.setAttribute(\"class\",\"radio\");\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder\");\n    for(var i=0; i<options.length; i++) {\n      var isChecked = (options[i] === defaultVal);\n      var radio = this.getRadioInput(name, options[i], isChecked);\n      var radioLabel = this.getRadioLabel(titles[i] || options[i], isChecked);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      var p = document.createElement(\"p\");\n      p.appendChild(radio);\n      p.appendChild(radioLabel);\n      holder.appendChild(p);\n    }\n    return holder;\n  },  \n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'card-panel';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('span');\n    el.textContent = text;\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('span');\n    el.style.fontSize = '12px';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += 'waves-effect waves-light btn';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n\n  addInputError: function(input,text) {\n    if(!input.controlgroup) return;\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('div');\n      input.errmsg.className = 'red-text right-align';\n\n      input.controlgroup.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.innerHTML = '<i class=\"mdi-alert-warning\"></i> ' + text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    var label = input.controlgroup.querySelector('label');\n    if (label) label.className = label.className.replace(/\\s?red-text\\stext-lighten-1/g, '');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div class='collection col m2'></div><div class='col m10'></div>\";\n    el.className = 'row';\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('a');\n    el.className = 'collection-item';\n    el.setAttribute('href','#');\n    el.appendChild(text);\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  getProgressBar: function() {\n    var min = 0, max = 100, start = 0;\n\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'determinate';\n    bar.setAttribute('role', 'progressbar');\n    bar.setAttribute('aria-valuenow', start);\n    bar.setAttribute('aria-valuemin', min);\n    bar.setAttribute('aria-valuenax', max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute('aria-valuenow', progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.className = 'progress';\n    bar.className = 'indeterminate';\n    bar.removeAttribute('aria-valuenow');\n    bar.innerHTML = '';\n  }\n});\n\nJSONEditor.AbstractIconLib = Class.extend({\n  mapping: {\n    collapse: '',\n    expand: '',\n    delete: '',\n    edit: '',\n    add: '',\n    cancel: '',\n    save: '',\n    moveup: '',\n    movedown: ''\n  },\n  icon_prefix: '',\n  getIconClass: function(key) {\n    if(this.mapping[key]) return this.icon_prefix+this.mapping[key];\n    else return null;\n  },\n  getIcon: function(key) {\n    var iconclass = this.getIconClass(key);\n    \n    if(!iconclass) return null;\n    \n    var i = document.createElement('i');\n    i.className = iconclass;\n    return i;\n  }\n});\n\nJSONEditor.defaults.iconlibs.bootstrap2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-up',\n    delete: 'trash',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'ok',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'icon-'\n});\n\nJSONEditor.defaults.iconlibs.bootstrap3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    delete: 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'floppy-remove',\n    save: 'floppy-saved',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'glyphicon glyphicon-'\n});\n\nJSONEditor.defaults.iconlibs.fontawesome3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    delete: 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'icon-'\n});\n\nJSONEditor.defaults.iconlibs.fontawesome4 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-square-o-down',\n    expand: 'caret-square-o-right',\n    delete: 'times',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'fa fa-'\n});\n\nJSONEditor.defaults.iconlibs.foundation2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    delete: 'remove',\n    edit: 'edit',\n    add: 'add-doc',\n    cancel: 'error',\n    save: 'checkmark',\n    moveup: 'up-arrow',\n    movedown: 'down-arrow'\n  },\n  icon_prefix: 'foundicon-'\n});\n\nJSONEditor.defaults.iconlibs.foundation3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    delete: 'x',\n    edit: 'pencil',\n    add: 'page-add',\n    cancel: 'x-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'fi-'\n});\n\nJSONEditor.defaults.iconlibs.jqueryui = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'triangle-1-s',\n    expand: 'triangle-1-e',\n    delete: 'trash',\n    edit: 'pencil',\n    add: 'plusthick',\n    cancel: 'closethick',\n    save: 'disk',\n    moveup: 'arrowthick-1-n',\n    movedown: 'arrowthick-1-s'\n  },\n  icon_prefix: 'ui-icon ui-icon-'\n});\n\nJSONEditor.defaults.templates.default = function() {\n  var expandVars = function(vars) {\n    var expanded = {};\n    $each(vars, function(i,el) {\n      if(typeof el === \"object\" && el !== null) {\n        var tmp = {};\n        $each(el, function(j,item) {\n          tmp[i+'.'+j] = item;\n        });\n        $extend(expanded,expandVars(tmp));\n      }\n      else {\n        expanded[i] = el;\n      }\n    });\n    return expanded;\n  };\n  \n  return {\n    compile: function(template) {\n      return function (vars) {\n        var expanded = expandVars(vars);\n        \n        var ret = template+\"\";\n        // Only supports basic {{var}} macro replacement\n        $each(expanded,function(key,value) {\n          ret = ret.replace(new RegExp('{{\\\\s*'+key+'\\\\s*}}','g'),value);\n        });\n        return ret;\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.ejs = function() {\n  if(!window.EJS) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = window.EJS.compile(template);\n\n      return function(context) {\n        context.__now = new Date();\n        context._ = window._;\n        context.moment = window.moment;\n        return compiled(context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.handlebars = function() {\n  return window.Handlebars;\n};\n\nJSONEditor.defaults.templates.hogan = function() {\n  if(!window.Hogan) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = window.Hogan.compile(template);\n      return function(context) {\n        return compiled.render(context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.jexl = function() {\n  if(!window.jexl) return false;\n  window.jexl.addTransform(\"_\", function (inputObj, lodashFuncName) { // , ...args as 3rd param\n    if (window._) {\n      if (_.hasOwnProperty(lodashFuncName)) {\n        var args = Array.prototype.slice.call(arguments,2);\n        return _[lodashFuncName].apply(this, [inputObj].concat(args));\n      }\n    } else {\n      throw new Error(\"json-editor jexl template: Lodash not found\");\n    }\n  });\n\n  window.jexl.addTransform(\"moment\", function (inputObj, momentFnName) { // , ...args as 3rd param\n    if (window.moment) {\n      var momentInst = window.moment(inputObj);\n      if (momentInst.isValid() &&\n        momentInst[momentFnName] &&\n        typeof momentInst[momentFnName] === \"function\") {\n\n        var args = Array.prototype.slice.call(arguments,2);\n        return momentInst[momentFnName].apply(momentInst, args);\n      }\n    } else {\n      throw new Error(\"json-editor jexl template: moment not found\");\n    }\n  });\n\n  return {\n    compile: function(template) {\n      // console.log(`called jexl compile(${JSON.stringify(template)})`);\n      var compiled = window.jexl.compile(template);\n\n      return function(context) {\n        // add '__now' to the context\n        // console.log(`called jexl evalSync(${template}, ${JSON.stringify(context)})`);\n        var newContext = Object.assign({\n          __now: new Date()\n        }, context);\n        return compiled.evalSync(newContext);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.markup = function() {\n  if(!window.Mark || !window.Mark.up) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window.Mark.up(template,context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.mustache = function() {\n  if(!window.Mustache) return false;\n\n  return {\n    compile: function(template) {\n      return function(view) {\n        return window.Mustache.render(template, view);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.swig = function() {\n  return window.swig;\n};\n\nJSONEditor.defaults.templates.underscore = function() {\n  if(!window._) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window._.template(template, context);\n      };\n    }\n  };\n};\n\n// Set the default theme\nJSONEditor.defaults.theme = 'html';\n\n// Set the default template engine\nJSONEditor.defaults.template = 'default';\n\n// Default options when initializing JSON Editor\nJSONEditor.defaults.options = {};\n\n// String translate function\nJSONEditor.defaults.translate = function(key, variables) {\n  var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language];\n  if(!lang) throw \"Unknown language \"+JSONEditor.defaults.language;\n  \n  var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];\n  \n  if(typeof string === \"undefined\") throw \"Unknown translate string \"+key;\n  \n  if(variables) {\n    for(var i=0; i<variables.length; i++) {\n      string = string.replace(new RegExp('\\\\{\\\\{'+i+'}}','g'),variables[i]);\n    }\n  }\n  \n  return string;\n};\n\n// Translation strings and default languages\nJSONEditor.defaults.default_language = 'en';\nJSONEditor.defaults.language = JSONEditor.defaults.default_language;\nJSONEditor.defaults.languages.en = {\n  /**\n   * When a property is not set\n   */\n  error_notset: \"Property must be set\",\n  /**\n   * When a string must not be empty\n   */\n  error_notempty: \"Value required\",\n  /**\n   * When a value is not one of the enumerated values\n   */\n  error_enum: \"Choose a value\",\n  /**\n   * When a value doesn't validate any schema of a 'anyOf' combination\n   */\n  error_anyOf: \"Must validate against at least one of the provided schemas\",\n  /**\n   * When a value doesn't validate\n   * @variables This key takes one variable: The number of schemas the value does not validate\n   */\n  error_oneOf: 'Must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\n  /**\n   * When a value does not validate a 'not' schema\n   */\n  error_not: \"Must not validate against the provided schema\",\n  /**\n   * When a value does not match any of the provided types\n   */\n  error_type_union: \"One of the provided types\",\n  /**\n   * When a value does not match the given type\n   * @variables This key takes one variable: The type the value should be of\n   */\n  error_type: \"Must be of type {{0}}\",\n  /**\n   *  When the value validates one of the disallowed types\n   */\n  error_disallow_union: \"Must not be one of the provided disallowed types\",\n  /**\n   *  When the value validates a disallowed type\n   * @variables This key takes one variable: The type the value should not be of\n   */\n  error_disallow: \"Must not be of type {{0}}\",\n  /**\n   * When a value is not a multiple of or divisible by a given number\n   * @variables This key takes one variable: The number mentioned above\n   */\n  error_multipleOf: \"A multiple of {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_excl: \"Less than {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (inclusive\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_incl: \"At most {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_excl: \"Greater than {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (inclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_incl: \"At least {{0}}\",\n  /**\n   * When a value have too many characters\n   * @variables This key takes one variable: The maximum character count\n   */\n  error_maxLength: \"At most {{0}} characters long\",\n  /**\n   * When a value does not have enough characters\n   * @variables This key takes one variable: The minimum character count\n   */\n  error_minLength: \"At least {{0}} characters long\",\n  /**\n   * When a value does not match a given pattern\n   */\n  error_pattern: \"Must match the provided pattern\",\n  /**\n   * When an array has additional items whereas it is not supposed to\n   */\n  error_additionalItems: \"No additional items allowed in this array\",\n  /**\n   * When there are to many items in an array\n   * @variables This key takes one variable: The maximum item count\n   */\n  error_maxItems: \"At most {{0}} items\",\n  /**\n   * When there are not enough items in an array\n   * @variables This key takes one variable: The minimum item count\n   */\n  error_minItems: \"At least {{0}} items\",\n  /**\n   * When an array is supposed to have unique items but has duplicates\n   */\n  error_uniqueItems: \"Array must have unique items\",\n  /**\n   * When there are too many properties in an object\n   * @variables This key takes one variable: The maximum property count\n   */\n  error_maxProperties: \"Object must have at most {{0}} properties\",\n  /**\n   * When there are not enough properties in an object\n   * @variables This key takes one variable: The minimum property count\n   */\n  error_minProperties: \"Object must have at least {{0}} properties\",\n  /**\n   * When a required property is not defined\n   * @variables This key takes one variable: The name of the missing property\n   */\n  error_required: \"Object is missing the required property '{{0}}'\",\n  /**\n   * When a property is sometimes required, dependant on the value of another\n   * property (requiredIf).\n   * @variables This key takes one variable: The title of the property that is required.\n   */\n  error_requiredIf: \"{{0}} is required\",\n  /**\n   * When there is an additional property is set whereas there should be none\n   * @variables This key takes one variable: The name of the additional property\n   */\n  error_additional_properties: \"No additional properties allowed, but property {{0}} is set\",\n  /**\n   * When a dependency is not resolved\n   * @variables This key takes one variable: The name of the missing property for the dependency\n   */\n  error_dependency: \"Must have property {{0}}\",\n  /**\n   * Signature timestamp - displayed underneath a signature.\n   * @variables This key takes one variable: the timestamp (as a locale-specific time string).\n   */\n  signature_timestamp: \"Signed on {{0}}\",\n  /**\n   * text for the \"clear signature\" button below a signature.\n   */\n  clear_signature_button: \"Clear signature\"\n};\n\n// Miscellaneous Plugin Settings\nJSONEditor.plugins = {\n  ace: {\n    theme: ''\n  },\n  epiceditor: {\n\n  },\n  sceditor: {\n\n  },\n  select2: {\n    \n  }\n};\n\n// Default per-editor options\nfor(var i in JSONEditor.defaults.editors) {\n  if(!JSONEditor.defaults.editors.hasOwnProperty(i)) continue;\n  JSONEditor.defaults.editors[i].options = JSONEditor.defaults.editors.options || {};\n}\n\n// Set the default resolvers\n// Use \"multiple\" as a fall back for everything\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(typeof schema.type !== \"string\") return \"multiple\";\n});\n// Use the geolocation editor for all geolocation types\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'geolocation' && schema.format === 'geolocation') {\n    return \"geolocation\";\n  }\n});\n// If the type is set and it's a basic type, use the primitive editor\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema is a simple type\n  if(typeof schema.type === \"string\") return schema.type;\n});\n// Use the imageFile editor for all imageFIle types\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'string' && schema.format === 'imageFile') {\n    return \"imageFile\";\n  }\n});\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (schema.type === \"string\" && schema.format === \"signature\") {\n    return \"signature\";\n  }\n});\n\n// Use the select editor for all boolean values\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'boolean') {\n    if (schema.format === 'checkbox') {\n      return \"checkbox\";\n    } else {\n      return \"select\";\n    }\n  }\n});\n// Use the multiple editor for schemas where the `type` is set to \"any\"\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"any\") return \"multiple\";\n});\n// Editor for base64 encoded files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"string\" && schema.media && schema.media.binaryEncoding===\"base64\") {\n    return \"base64\";\n  }\n});\n// Editor for uploading files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"string\" && schema.format === \"url\" && schema.options && schema.options.upload === true) {\n    if(window.FileReader) return \"upload\";\n  }\n});\n// Use the table editor for arrays with the format set to `table`\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // Type `array` with format set to `table`\n  if(schema.type === \"array\" && schema.format ===\"table\") {\n    return \"table\";\n  }\n});\n// Use the `select` editor for dynamic enumSource enums\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.enumSource) return \"select\";\n});\n// Use the `enum` or `select` editors for schemas with enumerated properties\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.enum) {\n    if (schema.type === \"radio\") {\n      return \"radio\";\n    } else if ((schema.type === \"array\") && (schema.format === \"select\") && (schema.multiple === true)) {\n      return \"select\";\n    } else if(schema.type === \"array\" || schema.type === \"object\") {\n      return \"enum\";\n    } \n    else if(schema.type === \"number\" || schema.type === \"integer\" || schema.type === \"string\") {\n      return \"select\";\n    }\n  }\n});\n// Use the 'multiselect' editor for arrays of enumerated strings/numbers/integers\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"array\" && schema.items && !(Array.isArray(schema.items)) && schema.uniqueItems && schema.items.enum && ['string','number','integer'].indexOf(schema.items.type) >= 0) {\n    return 'multiselect';\n  }\n});\n// Use the multiple editor for schemas with `oneOf` set\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If this schema uses `oneOf`\n  if(schema.oneOf) return \"multiple\";\n});\n\n/**\n * This is a small wrapper for using JSON Editor like a typical jQuery plugin.\n */\n(function() {\n  if(window.jQuery || window.Zepto) {\n    var $ = window.jQuery || window.Zepto;\n    $.jsoneditor = JSONEditor.defaults;\n    \n    $.fn.jsoneditor = function(options) {\n      var self = this;\n      var editor = this.data('jsoneditor');\n      if(options === 'value') {\n        if(!editor) throw \"Must initialize jsoneditor before getting/setting the value\";\n        \n        // Set value\n        if(arguments.length > 1) {\n          editor.setValue(arguments[1]);\n        }\n        // Get value\n        else {\n          return editor.getValue();\n        }\n      }\n      else if(options === 'validate') {\n        if(!editor) throw \"Must initialize jsoneditor before validating\";\n        \n        // Validate a specific value\n        if(arguments.length > 1) {\n          return editor.validate(arguments[1]);\n        }\n        // Validate current value\n        else {\n          return editor.validate();\n        }\n      }\n      else if(options === 'destroy') {\n        if(editor) {\n          editor.destroy();\n          this.data('jsoneditor',null);\n        }\n      }\n      else {\n        // Destroy first\n        if(editor) {\n          editor.destroy();\n        }\n        \n        // Create editor\n        editor = new JSONEditor(this.get(0),options);\n        this.data('jsoneditor',editor);\n        \n        // Setup event listeners\n        editor.on('change',function() {\n          self.trigger('change');\n        });\n        editor.on('ready',function() {\n          self.trigger('ready');\n        });\n      }\n      \n      return this;\n    };\n  }\n})();\n\n  window.JSONEditor = JSONEditor;\n})();\n","// const jexl = require(\"jexl\");\nimport _ from \"../node_modules/lodash\";\nimport ejs from \"../node_modules/ejs\";\nimport moment from \"../node_modules/moment\";\nimport '../dist/jsoneditor';\n\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\n  // promote imported libs to window scope\n  window.EJS = ejs;\n  window.moment = moment;\n  window._ = _;\n\n  const getDOBFromAge = (ageInYears) => {\n    return moment()\n      .subtract(ageInYears, \"years\")\n      .subtract(Math.round(Math.random(364)), \"days\")\n      .startOf(\"day\")\n      .format(\"YYYY-MM-DD\");\n  };\n\n  const employeesDoc = {\n    employees:\n      [{\n        first: \"Sterling\",\n        last: \"Archer\",\n        dob: getDOBFromAge(36),\n        age:  36\n      },\n        {\n          first: \"Malory\",\n          last: \"Archer\",\n          dob: getDOBFromAge(75),\n          age: 75\n        },\n        {\n          first: \"Lana\",\n          last: \"Kane\",\n          dob: getDOBFromAge(33),\n          age: 33\n        },\n        {\n          first: \"Cyril\",\n          last: \"Figgis\",\n          dob: getDOBFromAge(45),\n          age: 45\n        },\n        {\n          first: \"Cheryl\",\n          last: \"Tunt\",\n          dob: getDOBFromAge(28),\n          age: 28\n        }],\n    retireAge: 62\n  };\n  // this is just to test that jexl and lodash are loaded and working -- should log 43.4\n  // console.log(jexl.evalSync(\"employees|_(\\\"meanBy\\\",\\\"age\\\")\", employeesDoc));\n\n  // console.log(jexl.evalSync(\"inDate|moment('subtract', 1, 'year')|moment('toISOString')\", { inDate: new Date() }));\n\n\n// Initialize the editor with a JSON schema\n  var editor = new JSONEditor(document.getElementById(\"editor_holder\"), {\n    \"schema\" : {\n      \"currentState\": \"New\",\n      \"type\": \"object\",\n      \"title\": \"Timesheet\",\n      \"properties\": {\n        \"Sequence-8twadSmjsFTPLpn6y\": {\n          \"_id\": \"8twadSmjsFTPLpn6y\",\n          \"type\": \"string\",\n          \"title\": \"Sequence\",\n          \"description\": \"This value is automatically generated\",\n          \"format\": \"sequence\",\n          \"readOnly\": true,\n          \"required\": true,\n          \"options\": {\n            \"sequenceId\": \"DKv5iQ2asZuihnLqh\",\n            \"placeholder\": \"[set automatically]\",\n            \"hidden\": true\n          },\n          \"propertyOrder\": 0\n        },\n        \"Date-b3tdGzfashfHoRNfv\": {\n          \"_id\": \"b3tdGzfashfHoRNfv\",\n          \"type\": \"string\",\n          \"title\": \"Date\",\n          \"format\": \"date\",\n          \"required\": true,\n          \"propertyOrder\": 73,\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"Y-m-d\",\n              \"enableTime\": false,\n              \"noCalendar\": false,\n              \"mode\": \"single\"\n            }\n          }\n        },\n        \"Time-q96RbJREypkwDoxp3\": {\n          \"_id\": \"q96RbJREypkwDoxp3\",\n          \"type\": \"string\",\n          \"title\": \"Time\",\n          \"format\": \"time\",\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": true,\n              \"mode\": \"single\"\n            }\n          },\n          \"required\": true,\n          \"propertyOrder\": 74\n        },\n        \"Time-DjYudWTxQqnu7KjkY\": {\n          \"_id\": \"DjYudWTxQqnu7KjkY\",\n          \"type\": \"string\",\n          \"title\": \"Time\",\n          \"format\": \"time\",\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": true,\n              \"mode\": \"single\"\n            }\n          },\n          \"required\": true,\n          \"propertyOrder\": 75\n        },\n        \"Checkbox-g6HFGjYDqnbtC6eT5\": {\n          \"_id\": \"g6HFGjYDqnbtC6eT5\",\n          \"type\": \"boolean\",\n          \"title\": \"Checkbox\",\n          \"format\": \"checkbox\",\n          \"required\": true,\n          \"propertyOrder\": 76\n        },\n        \"Text-NxWuTz4Bg6i4zrC3L\": {\n          \"_id\": \"NxWuTz4Bg6i4zrC3L\",\n          \"type\": \"string\",\n          \"title\": \"Text\",\n          \"template\": `\n<%\n// EJS goes here\nconst EntryDateVal = locals[\"Date-b3tdGzfashfHoRNfv\"]\nconst EndTimeVal = locals[\"Time-DjYudWTxQqnu7KjkY\"];\nconst StartTimeVal = locals[\"Time-q96RbJREypkwDoxp3\"];\nconst LunchBreakVal = locals[\"Checkbox-g6HFGjYDqnbtC6eT5\"]\n\nif (EndTimeVal && StartTimeVal) {\n  const finishTime = moment(EndTimeVal, \"HH:mm\");\n  console.log(finishTime);\n  const startTime = moment(StartTimeVal, \"HH:mm\");\n  console.log(startTime);\n  const duration = finishTime.diff(startTime);\n  console.log(duration);\n  let hours = +((duration / 1000 / 60 / 60).toFixed(2));\n  if (LunchBreakVal) {\n    hours = hours - 0.5;\n  }\n%>\n<%= hours %>\n<% } %>\n`,\n          \"watch\": {\n            \"Time-DjYudWTxQqnu7KjkY\":\"Time-DjYudWTxQqnu7KjkY\",\n            \"Time-q96RbJREypkwDoxp3\":\"Time-q96RbJREypkwDoxp3\",\n            \"Checkbox-g6HFGjYDqnbtC6eT5\":\"Checkbox-g6HFGjYDqnbtC6eT5\"\n          },\n          \"required\": false,\n          \"propertyOrder\": 77\n        }\n      }\n    },\n\n    // schema: {\n    //   type: \"object\",\n    //   title: \"Employees\",\n    //   properties: {\n    //     retireAge: {\n    //       type: \"integer\"\n    //     },\n    //     employees: {\n    //       type: \"array\",\n    //       items: {\n    //         type: \"object\",\n    //         id: \"employee_item\",\n    //         properties: {\n    //           first: { type: \"string\" },\n    //           last: { type: \"string\" },\n    //           dob: { type: \"string\", format: \"date\", options: { flatpickr: {dateFormat: \"Y-m-d\"}} },\n    //           age: {\n    //             type: \"integer\",\n    //             template: \"<% if (typeof dob !== 'undefined') {%><%= moment().diff(dob, 'years') %><%}%>\",\n    //             watch: {\n    //               \"dob\": \"employee_item.dob\"\n    //             }\n    //           }\n    //         }\n    //       }\n    //     },\n    //     \"averageAge\": {\n    //       \"type\": \"number\",\n    //       \"label\": \"Average Age\",\n    //       \"description\": \"This is generated automatically using ejs\",\n    //       \"template\": \"<% if (typeof employees !== 'undefined') { %><%= _.meanBy(employees, 'age') %><% } %>\",\n    //       \"watch\": {\n    //         \"employees\": \"employees\"\n    //       }\n    //     }\n    //   }\n    // },\n    // startval: employeesDoc,\n    template: 'ejs'\n  });\n\n// Hook up the submit button to log to the console\n  document.getElementById(\"submit\")\n    .addEventListener(\"click\", function () {\n      // Get the value from the editor\n      console.log(editor.getValue());\n    });\n\n});\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}