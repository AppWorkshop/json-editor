{"version":3,"sources":["../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/node_modules/isarray/index.js","../node_modules/buffer/index.js","../node_modules/lodash/lodash.js","../node_modules/jexl/lib/evaluator/handlers.js","../node_modules/jexl/lib/evaluator/Evaluator.js","../node_modules/jexl/lib/Lexer.js","../node_modules/jexl/lib/parser/handlers.js","../node_modules/jexl/lib/parser/states.js","../node_modules/jexl/lib/parser/Parser.js","../node_modules/jexl/lib/PromiseSync.js","../node_modules/jexl/lib/Expression.js","../node_modules/jexl/lib/grammar.js","../node_modules/jexl/lib/Jexl.js","../node_modules/moment/moment.js","../node_modules/moment-transform/dist/moment-transform.js","../dist/jsoneditor.js","jexl.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Class","initializing","fnTest","test","window","postMessage","extend","prop","_super","prototype","name","fn","tmp","ret","apply","arguments","init","constructor","callee","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","lastTime","vendors","x","length","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","Array","isArray","arg","Object","toString","call","$isplainobject","obj","hasOwnProperty","key","$extend","destination","source","i","property","$each","$trigger","el","e","initEvent","dispatchEvent","$triggerc","$uuid","replace","c","r","random","v","$isCordova","Meteor","isCordova","JSONEditor","options","defaults","self","ready","theme_class","themes","theme","schema","template","refs","uuid","__data","icon_class","iconlibs","iconlib","root_container","getContainer","appendChild","translate","_loadExternalRefs","_getDefinitions","validator","Validator","editor_class","getEditorClass","root","createEditor","jsoneditor","required","container","preBuild","build","postBuild","startval","setValue","validation_results","validate","getValue","showValidationErrors","onReady","trigger","value","destroy","destroyed","innerHTML","on","callbacks","push","off","newcallbacks","setOption","option","show_errors","onChange","classname","expandSchema","resolvers","resolver","editors","JSON","stringify","firing_change","compileTemplate","engine","templates","compile","_data","hasAttribute","getAttribute","setAttribute","registerEditor","editor","path","unregisterEditor","getEditor","watch","watchlist","unwatch","newlist","notifyWatchers","isEnabled","enable","disable","definitions","_getExternalRefs","merge_refs","newrefs","$ref","substr","j","done","waiting","callback_fired","url","ajax","XMLHttpRequest","open","onreadystatechange","readyState","status","response","parse","responseText","console","log","send","expandRefs","ref","extendSchemas","extended","type","disallow","anyOf","dependencies","not","allOf","extends","oneOf","obj1","obj2","val","concat","reduce","p","indexOf","filter","n","languages","custom_validators","getPropByString","propString","isRelativePropertyPath","propertyPathContext","iLen","stack","split","parts","pop","firstItem","shift","unshift","join","props","candidate","_validateSchema","fullSchemaValue","errors","valid","thisEditor","stringified","requiredIf","hasError","valueMatch","showThisField","propertyPath","propPathIsRelative","propertyPathIsRelative","propValue","propertyPathMatches","matchType","regexp","RegExp","matchExpression","testValuesArray","actualValuesArray","some","testValue","index","array","actualValue","hideOtherwise","$","show","disableOtherwise","disabledEditorForPath","hide","enabledEditorForPath","message","title","disabled","format","sigVal","hasValue","error","multiple","required_by_default","enum","every","currentValue","oneof_errors","_checkType","valueToTest","multipleOf","divisibleBy","floor","overrideMaximum","exclusiveMaximum","maximum","exclusiveMinimum","minimum","maxLength","minLength","pattern","autocomplete","acSource","autocompleteData","autocompleteDataSourceID","autocompleteValidator","dataSourceID","term","isACValueValid","items","additionalItems","maxItems","minItems","uniqueItems","seen","maxProperties","minProperties","validated_properties","properties","patternProperties","regex","additionalProperties","no_additional_properties","AbstractEditor","onChildEditorChange","notify","change","parent","bubble","watch_listener","register","unregister","getNumColumns","template_engine","original_schema","formname","form_name_root","link_watchers","setContainer","setupWatchListeners","addLinks","getDefault","updateHeaderText","onWatchedFieldChange","watched","vars","watched_values","refreshWatchedFieldValues","path_parts","first","adjusted_path","targetPathParts","relativePathParts","closest","headerTemplate","header_template","no_link_holder","link_holder","getLinksHolder","links","addLink","getLink","getButton","text","icon","btnClass","getIcon","btn","className","setButtonText","button","link","data","holder","mime","mediaType","href","getBlockLinkHolder","createElement","image","createImageLink","rel","getBlockLink","media","createMediaLink","textContent","changed","getWatchedFieldValues","header","getHeaderText","title_only","header_text","getTitle","i0","i1","refreshValue","getChildEditors","parentNode","removeChild","isRequired","isRemoveDisabled","disable_remove_links","default","emptyFirstField","getDisplayText","arr","disp","used","description","descripton","inc","getOption","null","string","input","removeAttribute","initial","from_template","serialized","linkRouteIfUndefined","linkTextNode","createTextNode","linkTextIfUndefined","sanitized","sanitize","input_display","input_hidden","_flatpickr","setDate","sceditor_instance","epiceditor","importFile","ace_editor","is_dirty","min","ceil","num","input_type","compact","label","getFormInputLabel","getFormInputDescription","showHTML","divElem","hiddenInput","getFormInputField","labelElem","labelTextNode","geolocAvailable","needGeolocUpdate","JutoCordovaBridge","deviceReady","locationFixObtained","currentTime","differenceMilliseconds","lastLocationUpdateTime","toleratedDifferenceMilliseconds","locationUpdateFrequencySeconds","nodeValue","latitude","longitude","app","URL","updateCurrentPosition","navigator","geolocation","getCurrentPosition","pos","coords","err","default_format","getTextareaInput","information_only","step","getRangeInput","MobileRangeSlider","rangeDiv","mobileRangeSlider","String","rangeInput","secondaryControl","getFormControl","addEventListener","knobWidth","getElementsByClassName","offsetWidth","trackWidth","range","width","position","round","target","setKnobPosition","source_code","acDivElem","acUUID","readOnly","readonly","always_disabled","autocompleteHandler","request","select","ui","item","delay","focus","attachHandlers","preventDefault","stopPropagation","placeholder","control","info","flatpickr","flatpickrDefaults","flatpickrOptions","afterInputReady","wysiwyg","jQuery","sceditor","plugins","emoticonsEnabled","height","sceditor_options","blur","remove","html","EpicEditor","epiceditor_container","insertBefore","style","display","clientSideStorage","load","exportFile","ace","mode","ace_container","edit","setTheme","require","getSession","setMode","Mode","unload","previous_error_setting","messages","addInputError","removeInputError","number","eventName","integer","object","maxwidth","editjson_button","addproperty_button","hideEditJSON","layoutEditors","row_container","property_order","keys","sort","a","b","ordera","propertyOrder","orderb","rows","property_removed","found","hidden","offsetHeight","minh","maxh","biggest","new_width","layout","row","getGridRow","setGridColumnSize","getPropertySchema","cached_editors","object_layout","minwidth","table_row","table","defaultProperties","addObjectProperty","editor_holder","getTableCell","getHeader","editjson_holder","getModal","editjson_textarea","editjson_save","saveJSON","editjson_cancel","addproperty_holder","addproperty_list","maxHeight","padding","overflowY","overflowX","paddingLeft","addproperty_add","addproperty_input","marginBottom","alert","spacer","clear","getDescription","error_holder","getIndentedPanel","paddingBottom","getGridContainer","getGridColumn","title_controls","getHeaderButtonHolder","editjson_controls","addproperty_controls","collapsed","toggle_button","disable_collapse","toggleEditJSON","disable_edit_json","toggleAddProperty","refreshAddProperties","showEditJSON","hideAddProperty","left","offsetLeft","top","offsetTop","editing_json","json","insertPropertyControlUsingPropertyOrder","childNodes","child","addPropertyCheckbox","checkbox","labelText","getCheckbox","getCheckboxLabel","paddingTop","marginTop","checked","removeObjectProperty","addproperty_checkboxes","showAddProperty","adding_property","prebuild_only","canHaveAdditionalProperties","getChildEditorHolder","result","remove_empty_properties","disable_properties","can_add","can_remove","num_props","show_modal","my_errors","other_errors","getErrorMessage","addTableRowError","removeTableRowError","imageFile","select_options","removeProperty","disableLabel","addProperty","enableLabel","fileInput","placeholderImg","src","cordova","platformId","fileinput","querySelector","imgelem","onImageNotChosenFail","notification","obtainPicture","buttonIndex","camera","getPicture","onImageChosenSuccess","quality","sourceType","Camera","PictureSourceType","CAMERA","destinationType","DestinationType","FILE_URI","correctOrientation","allowEdit","encodingType","EncodingType","JPEG","PHOTOLIBRARY","MediaType","PICTURE","imageURI","imageObj","Image","onload","valueObj","maxWidth","confirm","File","FileReader","FileList","Blob","files","file","fr","naturalWidth","naturalHeight","size","lastModifiedDate","readAsDataURL","getItemInfo","tabs_holder","add_row_button","remove_all_rows_button","delete_last_row_button","moveup_button","movedown_button","delete_button","row_cache","hide_delete_buttons","disable_array_delete","hide_move_buttons","disable_array_reorder","hide_add_button","disable_array_add","controls","getTabHolder","row_holder","getTabContentHolder","active_tab","panel","getButtonHolder","addControls","refreshTabs","getItemTitle","item_title","getItemSchema","item_info","child_editors","title_counter_offset","getElementEditor","getTabContent","array_controls","empty","hard","tab","destroyRow","getMax","Infinity","refresh_headers","tab_text","markTabActive","markTabInactive","slice","addRow","new_active_tab","force","oldi","movedown_buttons","controls_needed","getTab","addTab","controls_holder","newval","row_holder_display","controls_display","beforeAddValidationCallback","arrayAddCallback","tabs","textAlign","noDeleteLastRowButton","noDeleteAllButton","imageFileArray","item_schema","item_default","item_has_child_editors","getTable","thead","getTableHead","header_row","getTableRow","getTableBody","th","getTableHeaderCell","controls_header_cell","getItemDefault","ignore","schema_copy","controls_cell","table_controls","margin","numrows_changed","refreshRowButtons","need_row_buttons","switcher","switchEditor","buildChildEditor","current_value","refreshHeaderText","types","switcher_options","validators","oneof","allowed_types","display_text","getSwitcher","marginLeft","getSwitcherOptions","check","new_errors","new_error","enum_titles","selected","html_values","getHTML","display_area","hide_display","afterRefresh","typecast","enum_values","forEach","thisValue","enum_options","select2","setSelectValue","longest_text","typecastValues","typecastPrimitive","enum_display","enumSource","enumValue","multipleSelect","getSelectInput","setSelectOptions","onInputChange","isMulti","selectedOptions","setupSelect2","select2_options","select_titles","new_items","item_titles","item_values","prev_value","radio","elem","radioNodeList","querySelectorAll","parentElement","classList","add","checkedElem","getRadioGroupFormControl","radios","radioList","multiselect","select_values","items_schema","option_keys","inputs","getMultiCheckboxHolder","children","new_value","updateValue","base64","uploader","refreshPreview","preview","last_preview","match","img","upload","accept","previewURLAndUploadFile","previewURL","fileObj","getProgressBar","progressBar","success","uploadSuccessCallback","failure","updateProgress","progress","updateProgressBar","updateProgressBarUnknown","picOptions","resolveLocalFileSystemURL","fileEntry","fullPath","toInternalURL","objectURL","createObjectURL","preventPreview","signature","addClass","canvas","getCanvas","SignaturePad","signaturePad","sigpad","onEnd","dataURI","toDataURL","timestamp","toLocaleString","isEmpty","buttonHolder","resizeCanvas","resize","w","h","getImageURIWithoutBlankMargins","ctx","_ctx","imgWidth","imgHeight","imageData","getImageData","getAlpha","y","scanY","fromTop","offset","scanX","fromLeft","cropTop","cropBottom","cropLeft","cropRight","referenceDim","heightDifference","heightDifferencePC","widthDifference","widthDifferencePC","newHeight","newWidth","relevantData","tempCanvas","tempctx","getContext","putImageData","datauri","drawImage","disable_output_form","containerSelector","containerSelectorSignature","last","find","sigImage","sigTimestamp","append","valParsed","fromDataURL","ratio","AbstractTheme","handler","rangeCSS","getFloatRightLinkHolder","cssFloat","backgroundColor","border","boxShadow","zIndex","disableHeader","color","enableHeader","fontWeight","getRadioLabel","getRadioInput","titles","defaultVal","radioLabel","fontStyle","getElementsByTagName","setSwitcherOptions","boxSizing","firstChild","borderLeft","getCheckboxDescription","getRadioDescription","applyStyles","styles","selector","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","f","bind","span","borderWidth","lineHeight","borderRadius","borderBottomRightRadius","borderTopRightRadius","cursor","tab_holder","opacity","background","bootstrap2","controlgroup","errmsg","bar","bootstrap3","group","emptySpan","labelHolder","infoSpan","labelToReturn","isChecked","oldActive","div","start","percentage","foundation","minWidth","paddingRight","verticalAlign","insertAdjacentHTML","meter","foundation3","fontSize","sizes","foundation4","foundation5","borderBottom","borderColor","jqueryui","materialize","tagName","pickadate","get","material_select","defaultOp","nestedInput","AbstractIconLib","mapping","collapse","expand","delete","cancel","save","moveup","movedown","icon_prefix","getIconClass","iconclass","fontawesome3","fontawesome4","foundation2","expandVars","expanded","ejs","EJS","compiled","context","__now","_","moment","handlebars","Handlebars","hogan","Hogan","render","jexl","addTransform","inputObj","lodashFuncName","args","Error","momentFnName","momentInst","isValid","HHmmString","transform","valueOf","newContext","assign","evalSync","markup","Mark","up","mustache","Mustache","view","swig","underscore","variables","lang","language","default_language","en","error_notset","error_notempty","error_enum","error_anyOf","error_oneOf","error_not","error_type_union","error_type","error_disallow_union","error_disallow","error_multipleOf","error_maximum_excl","error_maximum_incl","error_minimum_excl","error_minimum_incl","error_maxLength","error_minLength","error_pattern","error_additionalItems","error_maxItems","error_minItems","error_uniqueItems","error_maxProperties","error_minProperties","error_required","error_requiredIf","error_additional_properties","error_dependency","signature_timestamp","clear_signature_button","binaryEncoding","Zepto","getDOBFromAge","ageInYears","subtract","startOf","getElementById","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","body","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxthBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClIA;;;;;;;AAOA;;;;AAGA;AAEA,CAAC,YAAW;AAEZ;;AACA;;;;AAIA;AACA,MAAIA,KAAJ;;AACA,GAAC,YAAU;AACT,QAAIC,YAAY,GAAG,KAAnB;AAAA,QAA0BC,MAAM,GAAG,MAAMC,IAAN,CAAW,YAAU;AAACC,MAAAA,MAAM,CAACC,WAAP,CAAmB,KAAnB;AAA2B,KAAjD,IAAqD,YAArD,GAAoE,IAAvG,CADS,CAGT;;AACAL,IAAAA,KAAK,GAAG,iBAAU,CAAE,CAApB,CAJS,CAMT;;;AACAA,IAAAA,KAAK,CAACM,MAAN,GAAe,UAASC,IAAT,EAAe;AAC5B,UAAIC,MAAM,GAAG,KAAKC,SAAlB,CAD4B,CAG5B;AACA;;AACAR,MAAAA,YAAY,GAAG,IAAf;AACA,UAAIQ,SAAS,GAAG,IAAI,IAAJ,EAAhB;AACAR,MAAAA,YAAY,GAAG,KAAf,CAP4B,CAS5B;;AACA,WAAK,IAAIS,IAAT,IAAiBH,IAAjB,EAAuB;AACrB;AACAE,QAAAA,SAAS,CAACC,IAAD,CAAT,GAAkB,OAAOH,IAAI,CAACG,IAAD,CAAX,IAAqB,UAArB,IAChB,OAAOF,MAAM,CAACE,IAAD,CAAb,IAAuB,UADP,IACqBR,MAAM,CAACC,IAAP,CAAYI,IAAI,CAACG,IAAD,CAAhB,CADrB,GAEf,UAASA,IAAT,EAAeC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","file":"jexl.d23981a9.js","sourceRoot":"../examples","sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\n/**\n * Evaluates an ArrayLiteral by returning its value, with each element\n * independently run through the evaluator.\n * @param {{type: 'ObjectLiteral', value: <{}>}} ast An expression tree with an\n *      ObjectLiteral as the top node\n * @returns {Promise.<[]>} resolves to a map contained evaluated values.\n * @private\n */\nexports.ArrayLiteral = function(ast) {\n  return this.evalArray(ast.value)\n}\n\n/**\n * Evaluates a BinaryExpression node by running the Grammar's evaluator for\n * the given operator.\n * @param {{type: 'BinaryExpression', operator: <string>, left: {},\n *      right: {}}} ast An expression tree with a BinaryExpression as the top\n *      node\n * @returns {Promise<*>} resolves with the value of the BinaryExpression.\n * @private\n */\nexports.BinaryExpression = function(ast) {\n  return this.Promise.all([this.eval(ast.left), this.eval(ast.right)]).then(\n    arr => this._grammar[ast.operator].eval(arr[0], arr[1])\n  )\n}\n\n/**\n * Evaluates a ConditionalExpression node by first evaluating its test branch,\n * and resolving with the consequent branch if the test is truthy, or the\n * alternate branch if it is not. If there is no consequent branch, the test\n * result will be used instead.\n * @param {{type: 'ConditionalExpression', test: {}, consequent: {},\n *      alternate: {}}} ast An expression tree with a ConditionalExpression as\n *      the top node\n * @private\n */\nexports.ConditionalExpression = function(ast) {\n  return this.eval(ast.test).then(res => {\n    if (res) {\n      if (ast.consequent) {\n        return this.eval(ast.consequent)\n      }\n      return res\n    }\n    return this.eval(ast.alternate)\n  })\n}\n\n/**\n * Evaluates a FilterExpression by applying it to the subject value.\n * @param {{type: 'FilterExpression', relative: <boolean>, expr: {},\n *      subject: {}}} ast An expression tree with a FilterExpression as the top\n *      node\n * @returns {Promise<*>} resolves with the value of the FilterExpression.\n * @private\n */\nexports.FilterExpression = function(ast) {\n  return this.eval(ast.subject).then(subject => {\n    if (ast.relative) {\n      return this._filterRelative(subject, ast.expr)\n    }\n    return this._filterStatic(subject, ast.expr)\n  })\n}\n\n/**\n * Evaluates an Identifier by either stemming from the evaluated 'from'\n * expression tree or accessing the context provided when this Evaluator was\n * constructed.\n * @param {{type: 'Identifier', value: <string>, [from]: {}}} ast An expression\n *      tree with an Identifier as the top node\n * @returns {Promise<*>|*} either the identifier's value, or a Promise that\n *      will resolve with the identifier's value.\n * @private\n */\nexports.Identifier = function(ast) {\n  if (!ast.from) {\n    return ast.relative ? this._relContext[ast.value] : this._context[ast.value]\n  }\n  return this.eval(ast.from).then(context => {\n    if (context === undefined || context === null) {\n      return undefined\n    }\n    if (Array.isArray(context)) {\n      context = context[0]\n    }\n    return context[ast.value]\n  })\n}\n\n/**\n * Evaluates a Literal by returning its value property.\n * @param {{type: 'Literal', value: <string|number|boolean>}} ast An expression\n *      tree with a Literal as its only node\n * @returns {string|number|boolean} The value of the Literal node\n * @private\n */\nexports.Literal = function(ast) {\n  return ast.value\n}\n\n/**\n * Evaluates an ObjectLiteral by returning its value, with each key\n * independently run through the evaluator.\n * @param {{type: 'ObjectLiteral', value: <{}>}} ast An expression tree with an\n *      ObjectLiteral as the top node\n * @returns {Promise<{}>} resolves to a map contained evaluated values.\n * @private\n */\nexports.ObjectLiteral = function(ast) {\n  return this.evalMap(ast.value)\n}\n\n/**\n * Evaluates a Transform node by applying a function from the transforms map\n * to the subject value.\n * @param {{type: 'Transform', name: <string>, subject: {}}} ast An\n *      expression tree with a Transform as the top node\n * @returns {Promise<*>|*} the value of the transformation, or a Promise that\n *      will resolve with the transformed value.\n * @private\n */\nexports.Transform = function(ast) {\n  const transform = this._transforms[ast.name]\n  if (!transform) {\n    throw new Error(`Transform ${ast.name} is not defined.`)\n  }\n  return this.Promise.all([\n    this.eval(ast.subject),\n    this.evalArray(ast.args || [])\n  ]).then(arr => transform.apply(null, [arr[0]].concat(arr[1])))\n}\n\n/**\n * Evaluates a Unary expression by passing the right side through the\n * operator's eval function.\n * @param {{type: 'UnaryExpression', operator: <string>, right: {}}} ast An\n *      expression tree with a UnaryExpression as the top node\n * @returns {Promise<*>} resolves with the value of the UnaryExpression.\n * @constructor\n */\nexports.UnaryExpression = function(ast) {\n  return this.eval(ast.right).then(right =>\n    this._grammar[ast.operator].eval(right)\n  )\n}\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst handlers = require('./handlers')\n\n/**\n * The Evaluator takes a Jexl expression tree as generated by the\n * {@link Parser} and calculates its value within a given context. The\n * collection of transforms, context, and a relative context to be used as the\n * root for relative identifiers, are all specific to an Evaluator instance.\n * When any of these things change, a new instance is required.  However, a\n * single instance can be used to simultaneously evaluate many different\n * expressions, and does not have to be reinstantiated for each.\n * @param {{}} grammar A grammar map against which to evaluate the expression\n *      tree\n * @param {{}} [transforms] A map of transform names to transform functions. A\n *      transform function takes two arguments:\n *          - {*} val: A value to be transformed\n *          - {{}} args: A map of argument keys to their evaluated values, as\n *              specified in the expression string\n *      The transform function should return either the transformed value, or\n *      a Promises/A+ Promise object that resolves with the value and rejects\n *      or throws only when an unrecoverable error occurs. Transforms should\n *      generally return undefined when they don't make sense to be used on the\n *      given value type, rather than throw/reject. An error is only\n *      appropriate when the transform would normally return a value, but\n *      cannot due to some other failure.\n * @param {{}} [context] A map of variable keys to their values. This will be\n *      accessed to resolve the value of each non-relative identifier. Any\n *      Promise values will be passed to the expression as their resolved\n *      value.\n * @param {{}|Array<{}|Array>} [relativeContext] A map or array to be accessed\n *      to resolve the value of a relative identifier.\n * @param {function} promise A constructor for the Promise class to be used;\n *      probably either Promise or PromiseSync.\n */\nclass Evaluator {\n  constructor(\n    grammar,\n    transforms,\n    context,\n    relativeContext,\n    promise = Promise\n  ) {\n    this._grammar = grammar\n    this._transforms = transforms || {}\n    this._context = context || {}\n    this._relContext = relativeContext || this._context\n    this.Promise = promise\n  }\n\n  /**\n   * Evaluates an expression tree within the configured context.\n   * @param {{}} ast An expression tree object\n   * @returns {Promise<*>} resolves with the resulting value of the expression.\n   */\n  eval(ast) {\n    return this.Promise.resolve().then(() => {\n      return handlers[ast.type].call(this, ast)\n    })\n  }\n\n  /**\n   * Simultaneously evaluates each expression within an array, and delivers the\n   * response as an array with the resulting values at the same indexes as their\n   * originating expressions.\n   * @param {Array<string>} arr An array of expression strings to be evaluated\n   * @returns {Promise<Array<{}>>} resolves with the result array\n   */\n  evalArray(arr) {\n    return this.Promise.all(arr.map(elem => this.eval(elem)))\n  }\n\n  /**\n   * Simultaneously evaluates each expression within a map, and delivers the\n   * response as a map with the same keys, but with the evaluated result for each\n   * as their value.\n   * @param {{}} map A map of expression names to expression trees to be\n   *      evaluated\n   * @returns {Promise<{}>} resolves with the result map.\n   */\n  evalMap(map) {\n    const keys = Object.keys(map)\n    const result = {}\n    const asts = keys.map(key => {\n      return this.eval(map[key])\n    })\n    return this.Promise.all(asts).then(vals => {\n      vals.forEach((val, idx) => {\n        result[keys[idx]] = val\n      })\n      return result\n    })\n  }\n\n  /**\n   * Applies a filter expression with relative identifier elements to a subject.\n   * The intent is for the subject to be an array of subjects that will be\n   * individually used as the relative context against the provided expression\n   * tree. Only the elements whose expressions result in a truthy value will be\n   * included in the resulting array.\n   *\n   * If the subject is not an array of values, it will be converted to a single-\n   * element array before running the filter.\n   * @param {*} subject The value to be filtered usually an array. If this value is\n   *      not an array, it will be converted to an array with this value as the\n   *      only element.\n   * @param {{}} expr The expression tree to run against each subject. If the\n   *      tree evaluates to a truthy result, then the value will be included in\n   *      the returned array otherwise, it will be eliminated.\n   * @returns {Promise<Array>} resolves with an array of values that passed the\n   *      expression filter.\n   * @private\n   */\n  _filterRelative(subject, expr) {\n    const promises = []\n    if (!Array.isArray(subject)) {\n      subject = subject === undefined ? [] : [subject]\n    }\n    subject.forEach(elem => {\n      const evalInst = new Evaluator(\n        this._grammar,\n        this._transforms,\n        this._context,\n        elem,\n        this.Promise\n      )\n      promises.push(evalInst.eval(expr))\n    })\n    return this.Promise.all(promises).then(values => {\n      const results = []\n      values.forEach((value, idx) => {\n        if (value) {\n          results.push(subject[idx])\n        }\n      })\n      return results\n    })\n  }\n\n  /**\n   * Applies a static filter expression to a subject value.  If the filter\n   * expression evaluates to boolean true, the subject is returned if false,\n   * undefined.\n   *\n   * For any other resulting value of the expression, this function will attempt\n   * to respond with the property at that name or index of the subject.\n   * @param {*} subject The value to be filtered.  Usually an Array (for which\n   *      the expression would generally resolve to a numeric index) or an\n   *      Object (for which the expression would generally resolve to a string\n   *      indicating a property name)\n   * @param {{}} expr The expression tree to run against the subject\n   * @returns {Promise<*>} resolves with the value of the drill-down.\n   * @private\n   */\n  _filterStatic(subject, expr) {\n    return this.eval(expr).then(res => {\n      if (typeof res === 'boolean') {\n        return res ? subject : undefined\n      }\n      return subject[res]\n    })\n  }\n}\n\nmodule.exports = Evaluator\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst numericRegex = /^-?(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)$/\nconst identRegex = /^[a-zA-Z_$][a-zA-Z0-9_$]*$/\nconst escEscRegex = /\\\\\\\\/\nconst whitespaceRegex = /^\\s*$/\nconst preOpRegexElems = [\n  // Strings\n  \"'(?:(?:\\\\\\\\')|[^'])*'\",\n  '\"(?:(?:\\\\\\\\\")|[^\"])*\"',\n  // Whitespace\n  '\\\\s+',\n  // Booleans\n  '\\\\btrue\\\\b',\n  '\\\\bfalse\\\\b'\n]\nconst postOpRegexElems = [\n  // Identifiers\n  '[a-zA-Z_\\\\$][a-zA-Z0-9_\\\\$]*',\n  // Numerics (without negative symbol)\n  '(?:(?:[0-9]*\\\\.[0-9]+)|[0-9]+)'\n]\nconst minusNegatesAfter = [\n  'binaryOp',\n  'unaryOp',\n  'openParen',\n  'openBracket',\n  'question',\n  'colon'\n]\n\n/**\n * Lexer is a collection of stateless, statically-accessed functions for the\n * lexical parsing of a Jexl string.  Its responsibility is to identify the\n * \"parts of speech\" of a Jexl expression, and tokenize and label each, but\n * to do only the most minimal syntax checking; the only errors the Lexer\n * should be concerned with are if it's unable to identify the utility of\n * any of its tokens.  Errors stemming from these tokens not being in a\n * sensible configuration should be left for the Parser to handle.\n * @type {{}}\n */\nclass Lexer {\n  constructor(grammar) {\n    this._grammar = grammar\n  }\n\n  /**\n   * Splits a Jexl expression string into an array of expression elements.\n   * @param {string} str A Jexl expression string\n   * @returns {Array<string>} An array of substrings defining the functional\n   *      elements of the expression.\n   */\n  getElements(str) {\n    const regex = this._getSplitRegex()\n    return str.split(regex).filter(elem => {\n      // Remove empty strings\n      return elem\n    })\n  }\n\n  /**\n   * Converts an array of expression elements into an array of tokens.  Note that\n   * the resulting array may not equal the element array in length, as any\n   * elements that consist only of whitespace get appended to the previous\n   * token's \"raw\" property.  For the structure of a token object, please see\n   * {@link Lexer#tokenize}.\n   * @param {Array<string>} elements An array of Jexl expression elements to be\n   *      converted to tokens\n   * @returns {Array<{type, value, raw}>} an array of token objects.\n   */\n  getTokens(elements) {\n    const tokens = []\n    let negate = false\n    for (let i = 0; i < elements.length; i++) {\n      if (this._isWhitespace(elements[i])) {\n        if (tokens.length) {\n          tokens[tokens.length - 1].raw += elements[i]\n        }\n      } else if (elements[i] === '-' && this._isNegative(tokens)) {\n        negate = true\n      } else {\n        if (negate) {\n          elements[i] = '-' + elements[i]\n          negate = false\n        }\n        tokens.push(this._createToken(elements[i]))\n      }\n    }\n    // Catch a - at the end of the string. Let the parser handle that issue.\n    if (negate) {\n      tokens.push(this._createToken('-'))\n    }\n    return tokens\n  }\n\n  /**\n   * Converts a Jexl string into an array of tokens.  Each token is an object\n   * in the following format:\n   *\n   *     {\n   *         type: <string>,\n   *         [name]: <string>,\n   *         value: <boolean|number|string>,\n   *         raw: <string>\n   *     }\n   *\n   * Type is one of the following:\n   *\n   *      literal, identifier, binaryOp, unaryOp\n   *\n   * OR, if the token is a control character its type is the name of the element\n   * defined in the Grammar.\n   *\n   * Name appears only if the token is a control string found in\n   * {@link grammar#elements}, and is set to the name of the element.\n   *\n   * Value is the value of the token in the correct type (boolean or numeric as\n   * appropriate). Raw is the string representation of this value taken directly\n   * from the expression string, including any trailing spaces.\n   * @param {string} str The Jexl string to be tokenized\n   * @returns {Array<{type, value, raw}>} an array of token objects.\n   * @throws {Error} if the provided string contains an invalid token.\n   */\n  tokenize(str) {\n    const elements = this.getElements(str)\n    return this.getTokens(elements)\n  }\n\n  /**\n   * Creates a new token object from an element of a Jexl string. See\n   * {@link Lexer#tokenize} for a description of the token object.\n   * @param {string} element The element from which a token should be made\n   * @returns {{value: number|boolean|string, [name]: string, type: string,\n   *      raw: string}} a token object describing the provided element.\n   * @throws {Error} if the provided string is not a valid expression element.\n   * @private\n   */\n  _createToken(element) {\n    const token = {\n      type: 'literal',\n      value: element,\n      raw: element\n    }\n    if (element[0] === '\"' || element[0] === \"'\") {\n      token.value = this._unquote(element)\n    } else if (element.match(numericRegex)) {\n      token.value = parseFloat(element)\n    } else if (element === 'true' || element === 'false') {\n      token.value = element === 'true'\n    } else if (this._grammar[element]) {\n      token.type = this._grammar[element].type\n    } else if (element.match(identRegex)) {\n      token.type = 'identifier'\n    } else {\n      throw new Error(`Invalid expression token: ${element}`)\n    }\n    return token\n  }\n\n  /**\n   * Escapes a string so that it can be treated as a string literal within a\n   * regular expression.\n   * @param {string} str The string to be escaped\n   * @returns {string} the RegExp-escaped string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions\n   * @private\n   */\n  _escapeRegExp(str) {\n    str = str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    if (str.match(identRegex)) {\n      str = '\\\\b' + str + '\\\\b'\n    }\n    return str\n  }\n\n  /**\n   * Gets a RegEx object appropriate for splitting a Jexl string into its core\n   * elements.\n   * @returns {RegExp} An element-splitting RegExp object\n   * @private\n   */\n  _getSplitRegex() {\n    if (!this._splitRegex) {\n      // Sort by most characters to least, then regex escape each\n      const elemArray = Object.keys(this._grammar)\n        .sort((a, b) => {\n          return b.length - a.length\n        })\n        .map(elem => {\n          return this._escapeRegExp(elem)\n        }, this)\n      this._splitRegex = new RegExp(\n        '(' +\n          [\n            preOpRegexElems.join('|'),\n            elemArray.join('|'),\n            postOpRegexElems.join('|')\n          ].join('|') +\n          ')'\n      )\n    }\n    return this._splitRegex\n  }\n\n  /**\n   * Determines whether the addition of a '-' token should be interpreted as a\n   * negative symbol for an upcoming number, given an array of tokens already\n   * processed.\n   * @param {Array<Object>} tokens An array of tokens already processed\n   * @returns {boolean} true if adding a '-' should be considered a negative\n   *      symbol; false otherwise\n   * @private\n   */\n  _isNegative(tokens) {\n    if (!tokens.length) return true\n    return minusNegatesAfter.some(\n      type => type === tokens[tokens.length - 1].type\n    )\n  }\n\n  /**\n   * A utility function to determine if a string consists of only space\n   * characters.\n   * @param {string} str A string to be tested\n   * @returns {boolean} true if the string is empty or consists of only spaces;\n   *      false otherwise.\n   * @private\n   */\n  _isWhitespace(str) {\n    return !!str.match(whitespaceRegex)\n  }\n\n  /**\n   * Removes the beginning and trailing quotes from a string, unescapes any\n   * escaped quotes on its interior, and unescapes any escaped escape\n   * characters. Note that this function is not defensive; it assumes that the\n   * provided string is not empty, and that its first and last characters are\n   * actually quotes.\n   * @param {string} str A string whose first and last characters are quotes\n   * @returns {string} a string with the surrounding quotes stripped and escapes\n   *      properly processed.\n   * @private\n   */\n  _unquote(str) {\n    const quote = str[0]\n    const escQuoteRegex = new RegExp('\\\\\\\\' + quote, 'g')\n    return str\n      .substr(1, str.length - 2)\n      .replace(escQuoteRegex, quote)\n      .replace(escEscRegex, '\\\\')\n  }\n}\n\nmodule.exports = Lexer\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\n/**\n * Handles a subexpression that's used to define a transform argument's value.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.argVal = function(ast) {\n  this._cursor.args.push(ast)\n}\n\n/**\n * Handles new array literals by adding them as a new node in the AST,\n * initialized with an empty array.\n */\nexports.arrayStart = function() {\n  this._placeAtCursor({\n    type: 'ArrayLiteral',\n    value: []\n  })\n}\n\n/**\n * Handles a subexpression representing an element of an array literal.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.arrayVal = function(ast) {\n  if (ast) {\n    this._cursor.value.push(ast)\n  }\n}\n\n/**\n * Handles tokens of type 'binaryOp', indicating an operation that has two\n * inputs: a left side and a right side.\n * @param {{type: <string>}} token A token object\n */\nexports.binaryOp = function(token) {\n  const precedence = this._grammar[token.value].precedence || 0\n  let parent = this._cursor._parent\n  while (\n    parent &&\n    parent.operator &&\n    this._grammar[parent.operator].precedence >= precedence\n  ) {\n    this._cursor = parent\n    parent = parent._parent\n  }\n  const node = {\n    type: 'BinaryExpression',\n    operator: token.value,\n    left: this._cursor\n  }\n  this._setParent(this._cursor, node)\n  this._cursor = parent\n  this._placeAtCursor(node)\n}\n\n/**\n * Handles successive nodes in an identifier chain.  More specifically, it\n * sets values that determine how the following identifier gets placed in the\n * AST.\n */\nexports.dot = function() {\n  this._nextIdentEncapsulate =\n    this._cursor &&\n    this._cursor.type !== 'UnaryExpression' &&\n    (this._cursor.type !== 'BinaryExpression' ||\n      (this._cursor.type === 'BinaryExpression' && this._cursor.right))\n  this._nextIdentRelative =\n    !this._cursor || (this._cursor && !this._nextIdentEncapsulate)\n  if (this._nextIdentRelative) {\n    this._relative = true\n  }\n}\n\n/**\n * Handles a subexpression used for filtering an array returned by an\n * identifier chain.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.filter = function(ast) {\n  this._placeBeforeCursor({\n    type: 'FilterExpression',\n    expr: ast,\n    relative: this._subParser.isRelative(),\n    subject: this._cursor\n  })\n}\n\n/**\n * Handles identifier tokens by adding them as a new node in the AST.\n * @param {{type: <string>}} token A token object\n */\nexports.identifier = function(token) {\n  const node = {\n    type: 'Identifier',\n    value: token.value\n  }\n  if (this._nextIdentEncapsulate) {\n    node.from = this._cursor\n    this._placeBeforeCursor(node)\n    this._nextIdentEncapsulate = false\n  } else {\n    if (this._nextIdentRelative) {\n      node.relative = true\n      this._nextIdentRelative = false\n    }\n    this._placeAtCursor(node)\n  }\n}\n\n/**\n * Handles literal values, such as strings, booleans, and numerics, by adding\n * them as a new node in the AST.\n * @param {{type: <string>}} token A token object\n */\nexports.literal = function(token) {\n  this._placeAtCursor({\n    type: 'Literal',\n    value: token.value\n  })\n}\n\n/**\n * Queues a new object literal key to be written once a value is collected.\n * @param {{type: <string>}} token A token object\n */\nexports.objKey = function(token) {\n  this._curObjKey = token.value\n}\n\n/**\n * Handles new object literals by adding them as a new node in the AST,\n * initialized with an empty object.\n */\nexports.objStart = function() {\n  this._placeAtCursor({\n    type: 'ObjectLiteral',\n    value: {}\n  })\n}\n\n/**\n * Handles an object value by adding its AST to the queued key on the object\n * literal node currently at the cursor.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.objVal = function(ast) {\n  this._cursor.value[this._curObjKey] = ast\n}\n\n/**\n * Handles traditional subexpressions, delineated with the groupStart and\n * groupEnd elements.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.subExpression = function(ast) {\n  this._placeAtCursor(ast)\n}\n\n/**\n * Handles a completed alternate subexpression of a ternary operator.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.ternaryEnd = function(ast) {\n  this._cursor.alternate = ast\n}\n\n/**\n * Handles a completed consequent subexpression of a ternary operator.\n * @param {{type: <string>}} ast The subexpression tree\n */\nexports.ternaryMid = function(ast) {\n  this._cursor.consequent = ast\n}\n\n/**\n * Handles the start of a new ternary expression by encapsulating the entire\n * AST in a ConditionalExpression node, and using the existing tree as the\n * test element.\n */\nexports.ternaryStart = function() {\n  this._tree = {\n    type: 'ConditionalExpression',\n    test: this._tree\n  }\n  this._cursor = this._tree\n}\n\n/**\n * Handles identifier tokens when used to indicate the name of a transform to\n * be applied.\n * @param {{type: <string>}} token A token object\n */\nexports.transform = function(token) {\n  this._placeBeforeCursor({\n    type: 'Transform',\n    name: token.value,\n    args: [],\n    subject: this._cursor\n  })\n}\n\n/**\n * Handles token of type 'unaryOp', indicating that the operation has only\n * one input: a right side.\n * @param {{type: <string>}} token A token object\n */\nexports.unaryOp = function(token) {\n  this._placeAtCursor({\n    type: 'UnaryExpression',\n    operator: token.value\n  })\n}\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst h = require('./handlers')\n\n/**\n * A mapping of all states in the finite state machine to a set of instructions\n * for handling or transitioning into other states. Each state can be handled\n * in one of two schemes: a tokenType map, or a subHandler.\n *\n * Standard expression elements are handled through the tokenType object. This\n * is an object map of all legal token types to encounter in this state (and\n * any unexpected token types will generate a thrown error) to an options\n * object that defines how they're handled.  The available options are:\n *\n *      {string} toState: The name of the state to which to transition\n *          immediately after handling this token\n *      {string} handler: The handler function to call when this token type is\n *          encountered in this state.  If omitted, the default handler\n *          matching the token's \"type\" property will be called. If the handler\n *          function does not exist, no call will be made and no error will be\n *          generated.  This is useful for tokens whose sole purpose is to\n *          transition to other states.\n *\n * States that consume a subexpression should define a subHandler, the\n * function to be called with an expression tree argument when the\n * subexpression is complete. Completeness is determined through the\n * endStates object, which maps tokens on which an expression should end to the\n * state to which to transition once the subHandler function has been called.\n *\n * Additionally, any state in which it is legal to mark the AST as completed\n * should have a 'completable' property set to boolean true.  Attempting to\n * call {@link Parser#complete} in any state without this property will result\n * in a thrown Error.\n *\n * @type {{}}\n */\nexports.states = {\n  expectOperand: {\n    tokenTypes: {\n      literal: { toState: 'expectBinOp' },\n      identifier: { toState: 'identifier' },\n      unaryOp: {},\n      openParen: { toState: 'subExpression' },\n      openCurl: { toState: 'expectObjKey', handler: h.objStart },\n      dot: { toState: 'traverse' },\n      openBracket: { toState: 'arrayVal', handler: h.arrayStart }\n    }\n  },\n  expectBinOp: {\n    tokenTypes: {\n      binaryOp: { toState: 'expectOperand' },\n      pipe: { toState: 'expectTransform' },\n      dot: { toState: 'traverse' },\n      question: { toState: 'ternaryMid', handler: h.ternaryStart }\n    },\n    completable: true\n  },\n  expectTransform: {\n    tokenTypes: {\n      identifier: { toState: 'postTransform', handler: h.transform }\n    }\n  },\n  expectObjKey: {\n    tokenTypes: {\n      identifier: { toState: 'expectKeyValSep', handler: h.objKey },\n      closeCurl: { toState: 'expectBinOp' }\n    }\n  },\n  expectKeyValSep: {\n    tokenTypes: {\n      colon: { toState: 'objVal' }\n    }\n  },\n  postTransform: {\n    tokenTypes: {\n      openParen: { toState: 'argVal' },\n      binaryOp: { toState: 'expectOperand' },\n      dot: { toState: 'traverse' },\n      openBracket: { toState: 'filter' },\n      pipe: { toState: 'expectTransform' }\n    },\n    completable: true\n  },\n  postTransformArgs: {\n    tokenTypes: {\n      binaryOp: { toState: 'expectOperand' },\n      dot: { toState: 'traverse' },\n      openBracket: { toState: 'filter' },\n      pipe: { toState: 'expectTransform' }\n    },\n    completable: true\n  },\n  identifier: {\n    tokenTypes: {\n      binaryOp: { toState: 'expectOperand' },\n      dot: { toState: 'traverse' },\n      openBracket: { toState: 'filter' },\n      pipe: { toState: 'expectTransform' },\n      question: { toState: 'ternaryMid', handler: h.ternaryStart }\n    },\n    completable: true\n  },\n  traverse: {\n    tokenTypes: {\n      identifier: { toState: 'identifier' }\n    }\n  },\n  filter: {\n    subHandler: h.filter,\n    endStates: {\n      closeBracket: 'identifier'\n    }\n  },\n  subExpression: {\n    subHandler: h.subExpression,\n    endStates: {\n      closeParen: 'expectBinOp'\n    }\n  },\n  argVal: {\n    subHandler: h.argVal,\n    endStates: {\n      comma: 'argVal',\n      closeParen: 'postTransformArgs'\n    }\n  },\n  objVal: {\n    subHandler: h.objVal,\n    endStates: {\n      comma: 'expectObjKey',\n      closeCurl: 'expectBinOp'\n    }\n  },\n  arrayVal: {\n    subHandler: h.arrayVal,\n    endStates: {\n      comma: 'arrayVal',\n      closeBracket: 'expectBinOp'\n    }\n  },\n  ternaryMid: {\n    subHandler: h.ternaryMid,\n    endStates: {\n      colon: 'ternaryEnd'\n    }\n  },\n  ternaryEnd: {\n    subHandler: h.ternaryEnd,\n    completable: true\n  }\n}\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst handlers = require('./handlers')\nconst states = require('./states').states\n\n/**\n * The Parser is a state machine that converts tokens from the {@link Lexer}\n * into an Abstract Syntax Tree (AST), capable of being evaluated in any\n * context by the {@link Evaluator}.  The Parser expects that all tokens\n * provided to it are legal and typed properly according to the grammar, but\n * accepts that the tokens may still be in an invalid order or in some other\n * unparsable configuration that requires it to throw an Error.\n * @param {{}} grammar The grammar map to use to parse Jexl strings\n * @param {string} [prefix] A string prefix to prepend to the expression string\n *      for error messaging purposes.  This is useful for when a new Parser is\n *      instantiated to parse an subexpression, as the parent Parser's\n *      expression string thus far can be passed for a more user-friendly\n *      error message.\n * @param {{}} [stopMap] A mapping of token types to any truthy value. When the\n *      token type is encountered, the parser will return the mapped value\n *      instead of boolean false.\n */\nclass Parser {\n  constructor(grammar, prefix, stopMap) {\n    this._grammar = grammar\n    this._state = 'expectOperand'\n    this._tree = null\n    this._exprStr = prefix || ''\n    this._relative = false\n    this._stopMap = stopMap || {}\n  }\n\n  /**\n   * Processes a new token into the AST and manages the transitions of the state\n   * machine.\n   * @param {{type: <string>}} token A token object, as provided by the\n   *      {@link Lexer#tokenize} function.\n   * @throws {Error} if a token is added when the Parser has been marked as\n   *      complete by {@link #complete}, or if an unexpected token type is added.\n   * @returns {boolean|*} the stopState value if this parser encountered a token\n   *      in the stopState mapb false if tokens can continue.\n   */\n  addToken(token) {\n    if (this._state === 'complete') {\n      throw new Error('Cannot add a new token to a completed Parser')\n    }\n    const state = states[this._state]\n    const startExpr = this._exprStr\n    this._exprStr += token.raw\n    if (state.subHandler) {\n      if (!this._subParser) {\n        this._startSubExpression(startExpr)\n      }\n      const stopState = this._subParser.addToken(token)\n      if (stopState) {\n        this._endSubExpression()\n        if (this._parentStop) return stopState\n        this._state = stopState\n      }\n    } else if (state.tokenTypes[token.type]) {\n      const typeOpts = state.tokenTypes[token.type]\n      let handleFunc = handlers[token.type]\n      if (typeOpts.handler) {\n        handleFunc = typeOpts.handler\n      }\n      if (handleFunc) {\n        handleFunc.call(this, token)\n      }\n      if (typeOpts.toState) {\n        this._state = typeOpts.toState\n      }\n    } else if (this._stopMap[token.type]) {\n      return this._stopMap[token.type]\n    } else {\n      throw new Error(\n        `Token ${token.raw} (${token.type}) unexpected in expression: ${this._exprStr}`\n      )\n    }\n    return false\n  }\n\n  /**\n   * Processes an array of tokens iteratively through the {@link #addToken}\n   * function.\n   * @param {Array<{type: <string>}>} tokens An array of tokens, as provided by\n   *      the {@link Lexer#tokenize} function.\n   */\n  addTokens(tokens) {\n    tokens.forEach(this.addToken, this)\n  }\n\n  /**\n   * Marks this Parser instance as completed and retrieves the full AST.\n   * @returns {{}|null} a full expression tree, ready for evaluation by the\n   *      {@link Evaluator#eval} function, or null if no tokens were passed to\n   *      the parser before complete was called\n   * @throws {Error} if the parser is not in a state where it's legal to end\n   *      the expression, indicating that the expression is incomplete\n   */\n  complete() {\n    if (this._cursor && !states[this._state].completable) {\n      throw new Error(`Unexpected end of expression: ${this._exprStr}`)\n    }\n    if (this._subParser) {\n      this._endSubExpression()\n    }\n    this._state = 'complete'\n    return this._cursor ? this._tree : null\n  }\n\n  /**\n   * Indicates whether the expression tree contains a relative path identifier.\n   * @returns {boolean} true if a relative identifier exists false otherwise.\n   */\n  isRelative() {\n    return this._relative\n  }\n\n  /**\n   * Ends a subexpression by completing the subParser and passing its result\n   * to the subHandler configured in the current state.\n   * @private\n   */\n  _endSubExpression() {\n    states[this._state].subHandler.call(this, this._subParser.complete())\n    this._subParser = null\n  }\n\n  /**\n   * Places a new tree node at the current position of the cursor (to the 'right'\n   * property) and then advances the cursor to the new node. This function also\n   * handles setting the parent of the new node.\n   * @param {{type: <string>}} node A node to be added to the AST\n   * @private\n   */\n  _placeAtCursor(node) {\n    if (!this._cursor) {\n      this._tree = node\n    } else {\n      this._cursor.right = node\n      this._setParent(node, this._cursor)\n    }\n    this._cursor = node\n  }\n\n  /**\n   * Places a tree node before the current position of the cursor, replacing\n   * the node that the cursor currently points to. This should only be called in\n   * cases where the cursor is known to exist, and the provided node already\n   * contains a pointer to what's at the cursor currently.\n   * @param {{type: <string>}} node A node to be added to the AST\n   * @private\n   */\n  _placeBeforeCursor(node) {\n    this._cursor = this._cursor._parent\n    this._placeAtCursor(node)\n  }\n\n  /**\n   * Sets the parent of a node by creating a non-enumerable _parent property\n   * that points to the supplied parent argument.\n   * @param {{type: <string>}} node A node of the AST on which to set a new\n   *      parent\n   * @param {{type: <string>}} parent An existing node of the AST to serve as the\n   *      parent of the new node\n   * @private\n   */\n  _setParent(node, parent) {\n    Object.defineProperty(node, '_parent', {\n      value: parent,\n      writable: true\n    })\n  }\n\n  /**\n   * Prepares the Parser to accept a subexpression by (re)instantiating the\n   * subParser.\n   * @param {string} [exprStr] The expression string to prefix to the new Parser\n   * @private\n   */\n  _startSubExpression(exprStr) {\n    let endStates = states[this._state].endStates\n    if (!endStates) {\n      this._parentStop = true\n      endStates = this._stopMap\n    }\n    this._subParser = new Parser(this._grammar, exprStr, endStates)\n  }\n}\n\nmodule.exports = Parser\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nclass PromiseSync {\n  constructor(fn) {\n    fn(this._resolve.bind(this), this._reject.bind(this))\n  }\n\n  catch(rejected) {\n    if (this.error) {\n      try {\n        this._resolve(rejected(this.error))\n      } catch (e) {\n        this._reject(e)\n      }\n    }\n    return this\n  }\n\n  then(resolved, rejected) {\n    if (!this.error) {\n      try {\n        this._resolve(resolved(this.value))\n      } catch (e) {\n        this._reject(e)\n      }\n    }\n    if (rejected) this.catch(rejected)\n    return this\n  }\n\n  _reject(error) {\n    this.value = undefined\n    this.error = error\n  }\n\n  _resolve(val) {\n    if (val instanceof PromiseSync) {\n      if (val.error) {\n        this._reject(val.error)\n      } else {\n        this._resolve(val.value)\n      }\n    } else {\n      this.value = val\n      this.error = undefined\n    }\n  }\n}\n\nPromiseSync.all = vals =>\n  new PromiseSync(resolve => {\n    const resolved = vals.map(val => {\n      while (val instanceof PromiseSync) {\n        if (val.error) throw Error(val.error)\n        val = val.value\n      }\n      return val\n    })\n    resolve(resolved)\n  })\n\nPromiseSync.resolve = val => new PromiseSync(resolve => resolve(val))\n\nPromiseSync.reject = error =>\n  new PromiseSync((resolve, reject) => reject(error))\n\nmodule.exports = PromiseSync\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst Evaluator = require('./evaluator/Evaluator')\nconst Lexer = require('./Lexer')\nconst Parser = require('./parser/Parser')\nconst PromiseSync = require('./PromiseSync')\n\nclass Expression {\n  constructor(lang, exprStr) {\n    this._lang = lang\n    this._lexer = new Lexer(lang.grammar)\n    this._exprStr = exprStr\n    this._ast = null\n  }\n\n  /**\n   * Forces a compilation of the expression string that this Expression object\n   * was constructed with. This function can be called multiple times; useful\n   * if the language elements of the associated Jexl instance change.\n   * @returns {Expression} this Expression instance, for convenience\n   */\n  compile() {\n    const lexer = new Lexer(this._lang.grammar)\n    const parser = new Parser(this._lang.grammar)\n    const tokens = lexer.tokenize(this._exprStr)\n    parser.addTokens(tokens)\n    this._ast = parser.complete()\n    return this\n  }\n\n  /**\n   * Asynchronously evaluates the expression within an optional context.\n   * @param {Object} [context] A mapping of variables to values, which will be\n   *      made accessible to the Jexl expression when evaluating it\n   * @returns {Promise<*>} resolves with the result of the evaluation.\n   */\n  eval(context = {}) {\n    return this._eval(context, Promise)\n  }\n\n  /**\n   * Synchronously evaluates the expression within an optional context.\n   * @param {Object} [context] A mapping of variables to values, which will be\n   *      made accessible to the Jexl expression when evaluating it\n   * @returns {*} the result of the evaluation.\n   * @throws {*} on error\n   */\n  evalSync(context = {}) {\n    const res = this._eval(context, PromiseSync)\n    if (res.error) throw res.error\n    return res.value\n  }\n\n  _eval(context, promise) {\n    return promise.resolve().then(() => {\n      const ast = this._getAst()\n      const evaluator = new Evaluator(\n        this._lang.grammar,\n        this._lang.transforms,\n        context,\n        undefined,\n        promise\n      )\n      return evaluator.eval(ast)\n    })\n  }\n\n  _getAst() {\n    if (!this._ast) this.compile()\n    return this._ast\n  }\n}\n\nmodule.exports = Expression\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\n/* eslint eqeqeq:0 */\n\n/**\n * A map of all expression elements to their properties. Note that changes\n * here may require changes in the Lexer or Parser.\n * @type {{}}\n */\nexports.elements = {\n  '.': { type: 'dot' },\n  '[': { type: 'openBracket' },\n  ']': { type: 'closeBracket' },\n  '|': { type: 'pipe' },\n  '{': { type: 'openCurl' },\n  '}': { type: 'closeCurl' },\n  ':': { type: 'colon' },\n  ',': { type: 'comma' },\n  '(': { type: 'openParen' },\n  ')': { type: 'closeParen' },\n  '?': { type: 'question' },\n  '+': {\n    type: 'binaryOp',\n    precedence: 30,\n    eval: (left, right) => left + right\n  },\n  '-': {\n    type: 'binaryOp',\n    precedence: 30,\n    eval: (left, right) => left - right\n  },\n  '*': {\n    type: 'binaryOp',\n    precedence: 40,\n    eval: (left, right) => left * right\n  },\n  '/': {\n    type: 'binaryOp',\n    precedence: 40,\n    eval: (left, right) => left / right\n  },\n  '//': {\n    type: 'binaryOp',\n    precedence: 40,\n    eval: (left, right) => Math.floor(left / right)\n  },\n  '%': {\n    type: 'binaryOp',\n    precedence: 50,\n    eval: (left, right) => left % right\n  },\n  '^': {\n    type: 'binaryOp',\n    precedence: 50,\n    eval: (left, right) => Math.pow(left, right)\n  },\n  '==': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left == right\n  },\n  '!=': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left != right\n  },\n  '>': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left > right\n  },\n  '>=': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left >= right\n  },\n  '<': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left < right\n  },\n  '<=': {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => left <= right\n  },\n  '&&': {\n    type: 'binaryOp',\n    precedence: 10,\n    eval: (left, right) => left && right\n  },\n  '||': {\n    type: 'binaryOp',\n    precedence: 10,\n    eval: (left, right) => left || right\n  },\n  in: {\n    type: 'binaryOp',\n    precedence: 20,\n    eval: (left, right) => {\n      if (typeof right === 'string') {\n        return right.indexOf(left) !== -1\n      }\n      if (Array.isArray(right)) {\n        return right.some(elem => elem === left)\n      }\n      return false\n    }\n  },\n  '!': {\n    type: 'unaryOp',\n    precedence: Infinity,\n    eval: right => !right\n  }\n}\n","/*\n * Jexl\n * Copyright 2019 Tom Shawver\n */\n\nconst Expression = require('./Expression')\nconst defaultGrammar = require('./grammar').elements\n\n/**\n * Jexl is the Javascript Expression Language, capable of parsing and\n * evaluating basic to complex expression strings, combined with advanced\n * xpath-like drilldown into native Javascript objects.\n * @constructor\n */\nclass Jexl {\n  constructor() {\n    // Allow expr to be called outside of the jexl context\n    this.expr = this.expr.bind(this)\n    this._grammar = Object.assign({}, defaultGrammar)\n    this._lexer = null\n    this._transforms = {}\n  }\n\n  /**\n   * Adds a binary operator to Jexl at the specified precedence. The higher the\n   * precedence, the earlier the operator is applied in the order of operations.\n   * For example, * has a higher precedence than +, because multiplication comes\n   * before division.\n   *\n   * Please see grammar.js for a listing of all default operators and their\n   * precedence values in order to choose the appropriate precedence for the\n   * new operator.\n   * @param {string} operator The operator string to be added\n   * @param {number} precedence The operator's precedence\n   * @param {function} fn A function to run to calculate the result. The function\n   *      will be called with two arguments: left and right, denoting the values\n   *      on either side of the operator. It should return either the resulting\n   *      value, or a Promise that resolves with the resulting value.\n   */\n  addBinaryOp(operator, precedence, fn) {\n    this._addGrammarElement(operator, {\n      type: 'binaryOp',\n      precedence: precedence,\n      eval: fn\n    })\n  }\n\n  /**\n   * Adds a unary operator to Jexl. Unary operators are currently only supported\n   * on the left side of the value on which it will operate.\n   * @param {string} operator The operator string to be added\n   * @param {function} fn A function to run to calculate the result. The function\n   *      will be called with one argument: the literal value to the right of the\n   *      operator. It should return either the resulting value, or a Promise\n   *      that resolves with the resulting value.\n   */\n  addUnaryOp(operator, fn) {\n    this._addGrammarElement(operator, {\n      type: 'unaryOp',\n      weight: Infinity,\n      eval: fn\n    })\n  }\n\n  /**\n   * Adds or replaces a transform function in this Jexl instance.\n   * @param {string} name The name of the transform function, as it will be used\n   *      within Jexl expressions\n   * @param {function} fn The function to be executed when this transform is\n   *      invoked. It will be provided with at least one argument:\n   *          - {*} value: The value to be transformed\n   *          - {...*} args: The arguments for this transform\n   */\n  addTransform(name, fn) {\n    this._transforms[name] = fn\n  }\n\n  /**\n   * Syntactic sugar for calling {@link #addTransform} repeatedly.  This function\n   * accepts a map of one or more transform names to their transform function.\n   * @param {{}} map A map of transform names to transform functions\n   */\n  addTransforms(map) {\n    for (let key in map) {\n      if (map.hasOwnProperty(key)) {\n        this._transforms[key] = map[key]\n      }\n    }\n  }\n\n  /**\n   * Creates an Expression object from the given Jexl expression string, and\n   * immediately compiles it. The returned Expression object can then be\n   * evaluated multiple times with new contexts, without generating any\n   * additional string processing overhead.\n   * @param {string} expression The Jexl expression to be compiled\n   * @returns {Expression} The compiled Expression object\n   */\n  compile(expression) {\n    const exprObj = this.createExpression(expression)\n    return exprObj.compile()\n  }\n\n  /**\n   * Constructs an Expression object from a Jexl expression string.\n   * @param {string} expression The Jexl expression to be wrapped in an\n   *    Expression object\n   * @returns {Expression} The Expression object representing the given string\n   */\n  createExpression(expression) {\n    const lang = this._getLang()\n    return new Expression(lang, expression)\n  }\n\n  /**\n   * Retrieves a previously set transform function.\n   * @param {string} name The name of the transform function\n   * @returns {function} The transform function\n   */\n  getTransform(name) {\n    return this._transforms[name]\n  }\n\n  /**\n   * Asynchronously evaluates a Jexl string within an optional context.\n   * @param {string} expression The Jexl expression to be evaluated\n   * @param {Object} [context] A mapping of variables to values, which will be\n   *      made accessible to the Jexl expression when evaluating it\n   * @returns {Promise<*>} resolves with the result of the evaluation.\n   */\n  eval(expression, context = {}) {\n    const exprObj = this.createExpression(expression)\n    return exprObj.eval(context)\n  }\n\n  /**\n   * Synchronously evaluates a Jexl string within an optional context.\n   * @param {string} expression The Jexl expression to be evaluated\n   * @param {Object} [context] A mapping of variables to values, which will be\n   *      made accessible to the Jexl expression when evaluating it\n   * @returns {*} the result of the evaluation.\n   * @throws {*} on error\n   */\n  evalSync(expression, context = {}) {\n    const exprObj = this.createExpression(expression)\n    return exprObj.evalSync(context)\n  }\n\n  expr(strs, ...args) {\n    const exprStr = strs.reduce((acc, str, idx) => {\n      const arg = idx < args.length ? args[idx] : ''\n      acc += str + arg\n      return acc\n    }, '')\n    return this.createExpression(exprStr)\n  }\n\n  /**\n   * Removes a binary or unary operator from the Jexl grammar.\n   * @param {string} operator The operator string to be removed\n   */\n  removeOp(operator) {\n    if (\n      this._grammar[operator] &&\n      (this._grammar[operator].type === 'binaryOp' ||\n        this._grammar[operator].type === 'unaryOp')\n    ) {\n      delete this._grammar[operator]\n    }\n  }\n\n  /**\n   * Adds an element to the grammar map used by this Jexl instance.\n   * @param {string} str The key string to be added\n   * @param {{type: <string>}} obj A map of configuration options for this\n   *      grammar element\n   * @private\n   */\n  _addGrammarElement(str, obj) {\n    this._grammar[str] = obj\n  }\n\n  /**\n   * Gets an object defining the dynamic language elements of this Jexl\n   * instance.\n   * @returns {{ grammar: object, transforms: object }} A language definition\n   *    object\n   * @private\n   */\n  _getLang() {\n    return {\n      grammar: this._grammar,\n      transforms: this._transforms\n    }\n  }\n}\n\nmodule.exports = new Jexl()\nmodule.exports.Jexl = Jexl\n","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","/*! moment-transform 1.0.0 2015-04-30 */\n(function () {\n'use strict';\n\nvar momentLib;\nif (typeof moment !== 'undefined') {\n  momentLib = moment;\n}\nelse if (typeof require !== 'undefined') {\n  momentLib = require('moment');\n}\nelse {\n  throw new Error('Moment is not defined.');\n}\n\n(function(moment) {\n\n  var util = {\n    isArray: function(arr) {\n      return Object.prototype.toString.call(arr) === '[object Array]';\n    },\n    escapeRE: function(re) {\n      return re.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    }\n  };\n\n  var defaultPatterns = ['YYYY-MM-DD HH:mm:ss.SSS', 'YYYY-MM-DD HH:mm:ss', 'YYYY-MM-DD', 'HH:mm:ss.SSS', 'HH:mm:ss'],\n      tokenRE = /([A-Za-z])\\1*/g,\n      unitMapping = {\n        \"y\": \"y\", // year\n        \"Y\": \"y\", // year\n        \"Q\": \"Q\", // quarter\n        \"M\": \"M\", // month\n        \"w\": \"w\", // weeks\n        \"W\": \"w\", // weeks\n        \"m\": \"m\", // minutes\n        \"s\": \"s\", // seconds\n        \"S\": \"ms\" // milliseconds\n      },\n      unitMappingAddSubtract = {\n        \"d\": \"d\", // days\n        \"D\": \"d\", // days\n      },\n      unitMappingSet = {\n        \"d\": \"D\", // days\n        \"D\": \"D\", // days\n      };\n\n  var getUnit = function(token, set1, set2) {\n      return set1[token] || set2[token] || moment.normalizeUnits(token);\n    };\n\n  // Try a pattern (String) on a value with the specified Moment object.\n  // Returns the modified momentObject if it succeeded or null if it didn't.\n  var tryPattern = function (momentObject, value, pattern, strict) {\n    var tokens,\n        token,\n        tokenValues,\n        tokenValue,\n        expandedTokenValue;\n\n    // If not strict, set non-alpha characters optional.\n    if (!strict) {\n      pattern = pattern.replace(/(\\\\?\\W)/g, '(?:$1)?');\n    }\n\n    // Extract tokens, e.g. \"YYYY\"\n    tokens = pattern.match(tokenRE);\n\n    pattern = pattern.replace(tokenRE, '($1+|[+-]?\\\\d+)');\n\n    tokenValues = value.match(new RegExp('^' + pattern + '$'));\n    if (tokenValues) {\n      for (var j = 0; j < tokens.length; j++) {\n        token = tokens[j][0];\n        tokenValue = tokenValues[j + 1];\n        expandedTokenValue = tokenValue.match(/([+-]?)(\\d+)/);\n\n        if (expandedTokenValue) {\n          if (expandedTokenValue[1] === '+') {\n            momentObject.add(expandedTokenValue[2], getUnit(token, unitMappingAddSubtract, unitMapping));\n          }\n          else if (expandedTokenValue[1] === '-') {\n            momentObject.subtract(expandedTokenValue[2], getUnit(token, unitMappingAddSubtract, unitMapping));\n          }\n          else {\n            var unit = getUnit(token, unitMappingSet, unitMapping),\n                number;\n            if (unit === 'M') {\n              number = expandedTokenValue[2] - 1;\n            }\n            else {\n              number = expandedTokenValue[2];\n            }\n            momentObject.set(unit, number);\n          }\n        }\n      }\n\n      return momentObject;\n    }\n\n    return null;\n  };\n\n  moment.fn.transform = function(value, oPatterns, oStrict) {\n    var patterns = oPatterns || defaultPatterns,\n        strict = oStrict || false,\n        pattern;\n\n    if (!util.isArray(patterns)) {\n      patterns = [ patterns ];\n    }\n\n    for (var i = 0; i < patterns.length; i++) {\n      pattern = util.escapeRE(patterns[i]);\n\n      var momentObject = tryPattern(this, value, pattern, strict);\n      if(momentObject) {\n        return momentObject;\n      }\n    }\n\n    return moment.invalid();\n  };\n\n})(momentLib);\n\n\n}());\n","/*! JSON Editor v0.7.13 - JSON Schema -> HTML Editor\n * By Jeremy Dorn - https://github.com/jdorn/json-editor/\n * Released under the MIT license\n *\n * Date: 2015-01-09\n */\n\n/**\n * See README.md for requirements and usage info\n */\n/*global $:false, jQuery:false, JutoCordovaBridge:false, console:false, filter:false */\n\n(function() {\n\n/*jshint loopfunc: true */\n/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar Class;\n(function(){\n  var initializing = false, fnTest = /xyz/.test(function(){window.postMessage(\"xyz\");}) ? /\\b_super\\b/ : /.*/;\n \n  // The base Class implementation (does nothing)\n  Class = function(){};\n \n  // Create a new Class that inherits from this class\n  Class.extend = function(prop) {\n    var _super = this.prototype;\n   \n    // Instantiate a base class (but only create the instance,\n    // don't run the init constructor)\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n   \n    // Copy the properties over onto the new prototype\n    for (var name in prop) {\n      // Check if we're overwriting an existing function\n      prototype[name] = typeof prop[name] == \"function\" &&\n        typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n        (function(name, fn){\n          return function() {\n            var tmp = this._super;\n           \n            // Add a new ._super() method that is the same method\n            // but on the super-class\n            this._super = _super[name];\n           \n            // The method only need to be bound temporarily, so we\n            // remove it when we're done executing\n            var ret = fn.apply(this, arguments);        \n            this._super = tmp;\n           \n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n   \n    // The dummy class constructor\n    function Class() {\n      // All construction is actually done in the init method\n      if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n    }\n   \n    // Populate our constructed prototype object\n    Class.prototype = prototype;\n   \n    // Enforce the constructor to be what we expect\n    Class.prototype.constructor = Class;\n \n    // And make this class extendable\n    Class.extend = arguments.callee;\n   \n    return Class;\n  };\n  \n  return Class;\n})();\n\n// CustomEvent constructor polyfill\n// From MDN\n(function () {\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\n\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\n// MIT license\n(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || \n                                      window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n \n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n \n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n\n// Array.isArray polyfill\n// From MDN\n(function() {\n\tif(!Array.isArray) {\n\t  Array.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t  };\n\t}\n}());\nvar $isplainobject = function( obj ) {\n  // Not own constructor property must be Object\n  if ( obj.constructor &&\n    !obj.hasOwnProperty('constructor') &&\n    !obj.constructor.prototype.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n\n  var key;\n  for ( key in obj ) {}\n\n  return key === undefined || obj.hasOwnProperty(key);\n};\n\nvar $extend = function(destination) {\n  var source, i,property;\n  for(i=1; i<arguments.length; i++) {\n    source = arguments[i];\n    for (property in source) {\n      if(!source.hasOwnProperty(property)) continue;\n      if(source[property] && $isplainobject(source[property])) {\n        if(!destination.hasOwnProperty(property)) destination[property] = {};\n        $extend(destination[property], source[property]);\n      }\n      else {\n        destination[property] = source[property];\n      }\n    }\n  }\n  return destination;\n};\n\nvar $each = function(obj,callback) {\n  if(!obj) return;\n  var i;\n  if(typeof obj.length !== 'undefined') {\n    for(i=0; i<obj.length; i++) {\n      if(callback(i,obj[i])===false) return;\n    }\n  }\n  else {\n    for(i in obj) {\n      if(!obj.hasOwnProperty(i)) continue;\n      if(callback(i,obj[i])===false) return;\n    }\n  }\n};\n\nvar $trigger = function(el,event) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(event, true, true);\n  el.dispatchEvent(e);\n};\nvar $triggerc = function(el,event) {\n  var e = new CustomEvent(event,{\n    bubbles: true,\n    cancelable: true\n  });\n\n  el.dispatchEvent(e);\n};\nvar $uuid = function() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\nvar $isCordova = function() {\n  return typeof Meteor !== 'undefined' && Meteor.isCordova;\n};\nvar JSONEditor = function(element,options) {\n  options = $extend({},JSONEditor.defaults.options,options||{});\n  this.element = element;\n  this.options = options;\n  this.init();\n};\nJSONEditor.prototype = {\n  init: function() {\n    var self = this;\n    \n    this.ready = false;\n\n    var theme_class = JSONEditor.defaults.themes[this.options.theme || JSONEditor.defaults.theme];\n    if(!theme_class) throw \"Unknown theme \" + (this.options.theme || JSONEditor.defaults.theme);\n    \n    this.schema = this.options.schema;\n    this.theme = new theme_class();\n    this.template = this.options.template;\n    this.refs = this.options.refs || {};\n    this.uuid = 0;\n    this.__data = {};\n    \n    var icon_class = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib];\n    if(icon_class) this.iconlib = new icon_class();\n\n    this.root_container = this.theme.getContainer();\n    this.element.appendChild(this.root_container);\n    \n    this.translate = this.options.translate || JSONEditor.defaults.translate;\n\n    // Fetch all external refs via ajax\n    this._loadExternalRefs(this.schema, function() {\n      self._getDefinitions(self.schema);\n      self.validator = new JSONEditor.Validator(self);\n      \n      // Create the root editor\n      var editor_class = self.getEditorClass(self.schema);\n      self.root = self.createEditor(editor_class, {\n        jsoneditor: self,\n        schema: self.schema,\n        required: true,\n        container: self.root_container\n      });\n      \n      self.root.preBuild();\n      self.root.build();\n      self.root.postBuild();\n\n      // Starting data\n      if(self.options.startval) self.root.setValue(self.options.startval);\n\n      self.validation_results = self.validator.validate(self.root.getValue());\n      self.root.showValidationErrors(self.validation_results);\n      self.ready = true;\n\n      // Fire ready event asynchronously\n      window.requestAnimationFrame(function() {\n        if(!self.ready) return;\n\n        self.theme.onReady();\n        self.validation_results = self.validator.validate(self.root.getValue());\n        self.root.showValidationErrors(self.validation_results);\n        self.trigger('ready');\n        self.trigger('change');\n      });\n    });\n  },\n  getValue: function() {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\";\n\n    return this.root.getValue();\n  },\n  setValue: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\";\n\n    this.root.setValue(value);\n    return this;\n  },\n  validate: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before validating\";\n    \n    // Custom value\n    if(arguments.length === 1) {\n      return this.validator.validate(value);\n    }\n    // Current value (use cached result)\n    else {\n      return this.validation_results;\n    }\n  },\n  destroy: function() {\n    if(this.destroyed) return;\n    if(!this.ready) return;\n    \n    this.schema = null;\n    this.options = null;\n    this.root.destroy();\n    this.root = null;\n    this.root_container = null;\n    this.validator = null;\n    this.validation_results = null;\n    this.theme = null;\n    this.iconlib = null;\n    this.template = null;\n    this.__data = null;\n    this.ready = false;\n    this.element.innerHTML = '';\n    \n    this.destroyed = true;\n  },\n  on: function(event, callback) {\n    this.callbacks = this.callbacks || {};\n    this.callbacks[event] = this.callbacks[event] || [];\n    this.callbacks[event].push(callback);\n    \n    return this;\n  },\n  off: function(event, callback) {\n    // Specific callback\n    if(event && callback) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = this.callbacks[event] || [];\n      var newcallbacks = [];\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        if(this.callbacks[event][i]===callback) continue;\n        newcallbacks.push(this.callbacks[event][i]);\n      }\n      this.callbacks[event] = newcallbacks;\n    }\n    // All callbacks for a specific event\n    else if(event) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = [];\n    }\n    // All callbacks for all events\n    else {\n      this.callbacks = {};\n    }\n    \n    return this;\n  },\n  trigger: function(event) {\n    if(this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        this.callbacks[event][i]();\n      }\n    }\n    \n    return this;\n  },\n  setOption: function(option, value) {\n    if(option === \"show_errors\") {\n      this.options.show_errors = value;\n      this.onChange();\n    }\n    // Only the `show_errors` option is supported for now\n    else {\n      throw \"Option \"+option+\" must be set during instantiation and cannot be changed later\";\n    }\n    \n    return this;\n  },\n  getEditorClass: function(schema) {\n    var classname;\n\n    schema = this.expandSchema(schema);\n\n    $each(JSONEditor.defaults.resolvers,function(i,resolver) {\n      var tmp = resolver(schema);\n      if(tmp) {\n        if(JSONEditor.defaults.editors[tmp]) {\n          classname = tmp;\n          return false;\n        }\n      }\n    });\n\n    if(!classname) throw \"Unknown editor for schema \"+JSON.stringify(schema);\n    if(!JSONEditor.defaults.editors[classname]) throw \"Unknown editor \"+classname;\n\n    return JSONEditor.defaults.editors[classname];\n  },\n  createEditor: function(editor_class, options) {\n    options = $extend({},editor_class.options||{},options);\n    return new editor_class(options);\n  },\n  onChange: function() {\n    if(!this.ready) return;\n    \n    if(this.firing_change) return;\n    this.firing_change = true;\n    \n    var self = this;\n    \n    window.requestAnimationFrame(function() {\n      self.firing_change = false;\n      if(!self.ready) return;\n\n      // Validate and cache results\n      self.validation_results = self.validator.validate(self.root.getValue());\n      \n      if(self.options.show_errors !== \"never\") {\n        self.root.showValidationErrors(self.validation_results);\n      }\n      else {\n        self.root.showValidationErrors([]);\n      }\n      \n      // Fire change event\n      self.trigger('change');\n    });\n    \n    return this;\n  },\n  compileTemplate: function(template, name) {\n    name = name || JSONEditor.defaults.template;\n\n    var engine;\n\n    // Specifying a preset engine\n    if(typeof name === 'string') {\n      if(!JSONEditor.defaults.templates[name]) throw \"Unknown template engine \"+name;\n      engine = JSONEditor.defaults.templates[name]();\n\n      if(!engine) throw \"Template engine \"+name+\" missing required library.\";\n    }\n    // Specifying a custom engine\n    else {\n      engine = name;\n    }\n\n    if(!engine) throw \"No template engine set\";\n    if(!engine.compile) throw \"Invalid template engine set\";\n\n    return engine.compile(template);\n  },\n  _data: function(el,key,value) {\n    // Setting data\n    if(arguments.length === 3) {\n      var uuid;\n      if(el.hasAttribute('data-jsoneditor-'+key)) {\n        uuid = el.getAttribute('data-jsoneditor-'+key);\n      }\n      else {\n        uuid = this.uuid++;\n        el.setAttribute('data-jsoneditor-'+key,uuid);\n      }\n\n      this.__data[uuid] = value;\n    }\n    // Getting data\n    else {\n      // No data stored\n      if(!el.hasAttribute('data-jsoneditor-'+key)) return null;\n      \n      return this.__data[el.getAttribute('data-jsoneditor-'+key)];\n    }\n  },\n  registerEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = editor;\n    return this;\n  },\n  unregisterEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = null;\n    return this;\n  },\n  getEditor: function(path) {\n    if(!this.editors) return;\n    return this.editors[path];\n  },\n  watch: function(path,callback) {\n    this.watchlist = this.watchlist || {};\n    this.watchlist[path] = this.watchlist[path] || [];\n    this.watchlist[path].push(callback);\n    \n    return this;\n  },\n  unwatch: function(path,callback) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    // If removing all callbacks for a path\n    if(!callback) {\n      this.watchlist[path] = null;\n      return this;\n    }\n    \n    var newlist = [];\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      if(this.watchlist[path][i] === callback) continue;\n      else newlist.push(this.watchlist[path][i]);\n    }\n    this.watchlist[path] = newlist.length? newlist : null;\n    return this;\n  },\n  notifyWatchers: function(path) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      this.watchlist[path][i]();\n    }\n  },\n  isEnabled: function() {\n    return !this.root || this.root.isEnabled();\n  },\n  enable: function() {\n    this.root.enable();\n  },\n  disable: function() {\n    this.root.disable();\n  },\n  _getDefinitions: function(schema,path) {\n    path = path || '#/definitions/';\n    if(schema.definitions) {\n      for(var i in schema.definitions) {\n        if(!schema.definitions.hasOwnProperty(i)) continue;\n        this.refs[path+i] = schema.definitions[i];\n        if(schema.definitions[i].definitions) {\n          this._getDefinitions(schema.definitions[i],path+i+'/definitions/');\n        }\n      }\n    }\n  },\n  _getExternalRefs: function(schema) {\n    var refs = {};\n    var merge_refs = function(newrefs) {\n      for(var i in newrefs) {\n        if(newrefs.hasOwnProperty(i)) {\n          refs[i] = true;\n        }\n      }\n    };\n    \n    if(schema.$ref && schema.$ref.substr(0,1) !== \"#\" && !this.refs[schema.$ref]) {\n      refs[schema.$ref] = true;\n    }\n    \n    for(var i in schema) {\n      if(!schema.hasOwnProperty(i)) continue;\n      if(schema[i] && typeof schema[i] === \"object\" && Array.isArray(schema[i])) {\n        for(var j=0; j<schema[i].length; j++) {\n          if(typeof schema[i][j]===\"object\") {\n            merge_refs(this._getExternalRefs(schema[i][j]));\n          }\n        }\n      }\n      else if(schema[i] && typeof schema[i] === \"object\") {\n        merge_refs(this._getExternalRefs(schema[i]));\n      }\n    }\n    \n    return refs;\n  },\n  _loadExternalRefs: function(schema, callback) {\n    var self = this;\n    var refs = this._getExternalRefs(schema);\n    \n    var done = 0, waiting = 0, callback_fired = false;\n    \n    $each(refs,function(url) {\n      if(self.refs[url]) return;\n      if(!self.options.ajax) throw \"Must set ajax option to true to load external ref \"+url;\n      self.refs[url] = 'loading';\n      waiting++;\n\n      var r = new XMLHttpRequest(); \n      r.open(\"GET\", url, true);\n      r.onreadystatechange = function () {\n        if (r.readyState != 4) return; \n        // Request succeeded\n        if(r.status === 200) {\n          var response;\n          try {\n            response = JSON.parse(r.responseText);\n          }\n          catch(e) {\n            window.console.log(e);\n            throw \"Failed to parse external ref \"+url;\n          }\n          if(!response || typeof response !== \"object\") throw \"External ref does not contain a valid schema - \"+url;\n          \n          self.refs[url] = response;\n          self._loadExternalRefs(response,function() {\n            done++;\n            if(done >= waiting && !callback_fired) {\n              callback_fired = true;\n              callback();\n            }\n          });\n        }\n        // Request failed\n        else {\n          window.console.log(r);\n          throw \"Failed to fetch ref via ajax- \"+url;\n        }\n      };\n      r.send();\n    });\n    \n    if(!waiting) {\n      callback();\n    }\n  },\n  expandRefs: function(schema) {\n    schema = $extend({},schema);\n    \n    while (schema.$ref) {\n      var ref = schema.$ref;\n      delete schema.$ref;\n      schema = this.extendSchemas(schema,this.refs[ref]);\n    }\n    return schema;\n  },\n  expandSchema: function(schema) {\n    var self = this;\n    var extended = $extend({},schema);\n    var i;\n\n    // Version 3 `type`\n    if(typeof schema.type === 'object') {\n      // Array of types\n      if(Array.isArray(schema.type)) {\n        $each(schema.type, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.type[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.type = self.expandSchema(schema.type);\n      }\n    }\n    // Version 3 `disallow`\n    if(typeof schema.disallow === 'object') {\n      // Array of types\n      if(Array.isArray(schema.disallow)) {\n        $each(schema.disallow, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.disallow[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.disallow = self.expandSchema(schema.disallow);\n      }\n    }\n    // Version 4 `anyOf`\n    if(schema.anyOf) {\n      $each(schema.anyOf, function(key,value) {\n        schema.anyOf[key] = self.expandSchema(value);\n      });\n    }\n    // Version 4 `dependencies` (schema dependencies)\n    if(schema.dependencies) {\n      $each(schema.dependencies,function(key,value) {\n        if(typeof value === \"object\" && !(Array.isArray(value))) {\n          schema.dependencies[key] = self.expandSchema(value);\n        }\n      });\n    }\n    // Version 4 `not`\n    if(schema.not) {\n      schema.not = this.expandSchema(schema.not);\n    }\n    \n    // allOf schemas should be merged into the parent\n    if(schema.allOf) {\n      for(i=0; i<schema.allOf.length; i++) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));\n      }\n      delete extended.allOf;\n    }\n    // extends schemas should be merged into parent\n    if(schema.extends) {\n      // If extends is a schema\n      if(!(Array.isArray(schema.extends))) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema.extends));\n      }\n      // If extends is an array of schemas\n      else {\n        for(i=0; i<schema.extends.length; i++) {\n          extended = this.extendSchemas(extended,this.expandSchema(schema.extends[i]));\n        }\n      }\n      delete extended.extends;\n    }\n    // parent should be merged into oneOf schemas\n    if(schema.oneOf) {\n      var tmp = $extend({},extended);\n      delete tmp.oneOf;\n      for(i=0; i<schema.oneOf.length; i++) {\n        extended.oneOf[i] = this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp);\n      }\n    }\n    \n    return this.expandRefs(extended);\n  },\n  extendSchemas: function(obj1, obj2) {\n    obj1 = $extend({},obj1);\n    obj2 = $extend({},obj2);\n\n    var self = this;\n    var extended = {};\n    $each(obj1, function(prop,val) {\n      // If this key is also defined in obj2, merge them\n      if(typeof obj2[prop] !== \"undefined\") {\n        // Required arrays should be unioned together\n        if(prop === 'required' && typeof val === \"object\" && Array.isArray(val)) {\n          // Union arrays and unique\n          extended.required = val.concat(obj2[prop]).reduce(function(p, c) {\n            if (p.indexOf(c) < 0) p.push(c);\n            return p;\n          }, []);\n        }\n        // Type should be intersected and is either an array or string\n        else if(prop === 'type' && (typeof val === \"string\" || Array.isArray(val))) {\n          // Make sure we're dealing with arrays\n          if(typeof val === \"string\") val = [val];\n          if(typeof obj2.type === \"string\") obj2.type = [obj2.type];\n\n\n          extended.type = val.filter(function(n) {\n            return obj2.type.indexOf(n) !== -1;\n          });\n\n          // If there's only 1 type and it's a primitive, use a string instead of array\n          if(extended.type.length === 1 && typeof extended.type[0] === \"string\") {\n            extended.type = extended.type[0];\n          }\n        }\n        // All other arrays should be intersected (enum, etc.)\n        else if(typeof val === \"object\" && Array.isArray(val)){\n          extended[prop] = val.filter(function(n) {\n            return obj2[prop].indexOf(n) !== -1;\n          });\n        }\n        // Objects should be recursively merged\n        else if(typeof val === \"object\" && val !== null) {\n          extended[prop] = self.extendSchemas(val,obj2[prop]);\n        }\n        // Otherwise, use the first value\n        else {\n          extended[prop] = val;\n        }\n      }\n      // Otherwise, just use the one in obj1\n      else {\n        extended[prop] = val;\n      }\n    });\n    // Properties in obj2 that aren't in obj1\n    $each(obj2, function(prop,val) {\n      if(typeof obj1[prop] === \"undefined\") {\n        extended[prop] = val;\n      }\n    });\n\n    return extended;\n  }\n};\n\nJSONEditor.defaults = {\n  themes: {},\n  templates: {},\n  iconlibs: {},\n  editors: {},\n  languages: {},\n  resolvers: [],\n  custom_validators: []\n};\n\nJSONEditor.Validator = Class.extend({\n  init: function (jsoneditor, schema) {\n    this.jsoneditor = jsoneditor;\n    this.schema = schema || this.jsoneditor.schema;\n    this.options = {};\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n  },\n  /**\n   *\n   * @param {object} obj - the object from which to get the value\n   * @param {string} propString - a property string that describes the path to\n   * the object's property value that we are interested in, separated by dots\n   * @param {boolean} isRelativePropertyPath - true if the propString should be\n   * treated as relative\n   * @param {string} propertyPathContext - the current context from which\n   * relative property paths should be calculated\n   * @returns the value of the property, if it is found.\n   */\n  getPropByString: function (obj, propString, isRelativePropertyPath, propertyPathContext) {\n    var i, iLen;\n    //TODO: get the last 2 parameters to work.\n    if (!propString)\n      return obj;\n\n    if (isRelativePropertyPath) {\n      var stack = propertyPathContext.split(\".\"),\n        parts = propString.split(\"/\");\n      stack.pop(); // remove current file name (or empty string)\n                   // (omit if \"base\" is the current folder without trailing slash)\n      for (i = 0; i < parts.length; i++) {\n        if (parts[i] == \".\")\n          continue;\n        if (parts[i] == \"..\")\n          stack.pop();\n        else\n          stack.push(parts[i]);\n      }\n      // get rid of the first item in stack if it is \"root\"\n      var firstItem = stack.shift();\n      if (firstItem !== \"root\") {\n        stack.unshift(firstItem); // put it back again, it wasn't what we expected.\n      }\n      propString = stack.join(\".\"); // overrides the function parameter with our newly-calculated absolute property string\n    }\n    // get the target property from obj, based on the path provided by propString.\n    var prop, props = propString.split('.');\n\n    for (iLen = props.length - 1, i = 0; i < iLen; i++) {\n      prop = props[i];\n\n      var candidate = obj[prop];\n      if (candidate !== undefined) {\n        obj = candidate;\n      } else {\n        break;\n      }\n    }\n    return obj[props[i]];\n  },\n  validate: function (value) {\n    return this._validateSchema(this.schema, value, 'root', value);\n  },\n  _validateSchema: function (schema, value, path, fullSchemaValue) {\n    var errors = [];\n    var valid, i, j, thisEditor;\n    var stringified = JSON.stringify(value);\n    var self = this;\n\n    path = path || 'root';\n\n    // Work on a copy of the schema\n    schema = $extend({}, this.jsoneditor.expandRefs(schema));\n\n    /*\n     * Type Agnostic Validation\n     */\n    /* \"requiredIf\" is for cross-dependencies, when one property is required only if\n     * another property has a certain (specified) value.\n     * E.g. a cross-references between an enum \"Cheese\" and a \"cheeseDetails\" array:\n     *   \"Cheese\": {\n     *     \"type\": \"string\",\n     *      \"title\": \"Do you like cheese?\",\n     *      \"enum\":[\"yes\",\"no\"]\n     *    },\n     *    \"cheeseDetails\": {\n     *      \"type\": \"array\",\n     *      \"title\": \"Reason for liking cheese\",\n     *      \"requiredIf\": {\n     *          \"propertyPath\": \"Cheese\",\n     *          \"propertyPathMatches\": {\n     *              \"matchType\": \"string\",\n     *              \"matchExpression\": \"yes\"\n     *          },\n     *          \"hideOtherwise\": true,\n     *          \"disableOtherwise\": true\n     *      },\n     *      \"items\": {\n     *        \"type\": \"string\",\n     *        \"minLength\": 3,\n     *        \"title\": \"Reason for liking cheese\"\n     *      }\n     *    }\n     *\n     * In this case, \"Cheese Details\" is required only if Cheese is \"yes\", otherwise\n     *  it is hidden and disabled.\n     *\n     *  Or, to test for a particular value in an array property:\n     *        \"requiredIf\": {\n     *        \"propertyPath\": \"operation_type-7\",\n     *        \"propertyPathMatches\": {\n     *          \"matchType\": \"oneOfSelected\",\n     *          \"matchExpression\": [\n     *            \"other\"\n     *          ]\n     *        }\n     *\n     *  To test for a particular value using a relative path\n     *  (works with other matchTypes):\n     *        \"requiredIf\": {\n     *          \"propertyPath\": \"../operation_type-7\",\n     *          \"propertyPathMatches\": {\n     *            \"matchType\": \"oneOfSelected\",\n     *            \"matchExpression\": [\n     *              \"other\"\n     *            ]\n     *          },\n     *          \"propertyPathIsRelative\":true\n     *       }\n\n     * This will test an array of strings, defined elsewhere, to see if any items in the array have value \"other\".\n     */\n    if (schema.requiredIf) {\n      var hasError = true, // start by assuming that this is required and not supplied.\n              valueMatch = false, // start by assuming the values DONT match\n              showThisField = false; // start by assuming this field should be hidden\n\n      // we have a cross-reference requirement. Check the value of the associated path. \n      //  schema.requiredIf.propertyPath\n      if (fullSchemaValue && schema.requiredIf.propertyPath) { // make sure we have the full schema's value to validate against\n        // what type is this value?\n        var propPathIsRelative = schema.requiredIf.propertyPathIsRelative;\n        var propValue = this.getPropByString(fullSchemaValue, schema.requiredIf.propertyPath, propPathIsRelative, path);\n        var type = (typeof propValue);\n        if (type) {\n          // what type is specified in the cross-reference? Note this is a JAVASCRIPT type, or RegExp.\n          if ((schema.requiredIf.propertyPathMatches.matchType === type) ||\n                  ((\"RegExp\" === schema.requiredIf.propertyPathMatches.matchType) &&\n                          (\"string\" === type))\n                  ) {\n\n            if (\"RegExp\" === schema.requiredIf.propertyPathMatches.matchType) {\n              var regexp = new RegExp(schema.requiredIf.propertyPathMatches.matchExpression);\n              valueMatch = regexp.test(propValue);\n            } else {\n              // both the same type (probably string), now check values\n              valueMatch = (schema.requiredIf.propertyPathMatches.matchExpression === propValue);\n            }\n            if (valueMatch === true) {\n              // this one is definitely required. So check that we have it.\n              showThisField = true;\n\n              if (schema.type === \"array\") {\n                // make sure we have at least one\n                if (value && (value.length > 0)) {\n                  // we're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              } else {\n                // not an array. Check that value is \"truthy\".\n                if (!!value || schema.type === \"object\") { // if it's an object, properties get validated.\n                  // value is \"truthy\". We're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              }\n            } else {\n              // the value we have differs from the matchExpression. So it's not required. we're good. return.\n              hasError = false;\n            }\n          } else if ((schema.requiredIf.propertyPathMatches.matchType === \"oneOfSelected\")) { // javascript arrays - testing for selected values\n\n\n            // now check to see if the value we're looking for is in the set of selected values\n            var testValuesArray = schema.requiredIf.propertyPathMatches.matchExpression;\n            var actualValuesArray = propValue;\n\n            if (Array.isArray(testValuesArray)) {\n              if (Array.isArray(actualValuesArray)) {\n                // test values are an array, actual selected values are also an array.\n                // test each of our test values (defined in the schema) to see if any have been selected.\n                valueMatch = testValuesArray.some(function (testValue, index, array) {\n                  return (actualValuesArray.indexOf(testValue) !== -1);\n                }, this);\n              } else {\n                // our test values are an array, but the actual values are not.\n                var actualValue = actualValuesArray; // it's not actually an array.\n                // test each of our test values (defined in the schema) to see if any match the selected value.\n                valueMatch = (testValuesArray.indexOf(actualValue) !== -1);\n              }\n            }\n            if (valueMatch === true) {\n              // this one is definitely required. So display it.\n              showThisField = true;\n              if (schema.type === \"array\") {\n                // make sure we have at least one\n                if (value && (value.length > 0)) {\n                  // we're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              } else {\n                // not an array. Check that value is \"truthy\".\n                if (!!value || schema.type === \"object\") { // if it's an object, properties get validated.\n                  // value is \"truthy\". We're good. return.\n                  hasError = false;\n                } // else value is no good, will fall through to errors.push\n              }\n\n            } else { // the dependant value was not selected, so this field is not required.\n              hasError = false;\n            }\n          }\n\n        }\n      }\n      if (showThisField) {\n        if (schema.requiredIf.hideOtherwise) {\n          // make sure it's shown\n          $(\"[data-schemapath=\\\"\" + path + \"\\\"]\").show();\n        }\n        if (schema.requiredIf.disableOtherwise) {\n          // make sure it's enabled\n          var disabledEditorForPath = this.jsoneditor.getEditor(path);\n          if (disabledEditorForPath) {\n            disabledEditorForPath.enable();\n          }\n        }\n      } else {\n        if (schema.requiredIf.hideOtherwise) {\n          // We need to hide this one.\n          $(\"[data-schemapath=\\\"\" + path + \"\\\"]\").hide();\n        }\n        if (schema.requiredIf.disableOtherwise) {\n          // we need to disable this one.\n          var enabledEditorForPath = this.jsoneditor.getEditor(path);\n          if (enabledEditorForPath) {\n            enabledEditorForPath.disable();\n          }\n        }\n      }\n      if (hasError) {\n        // if we get to this point, it didn't work out.\n        errors.push({\n          path: path,\n          property: 'requiredIf',\n          message: this.translate(\"error_requiredIf\", [schema.title])\n        });\n      }\n    }\n    thisEditor = this.jsoneditor.getEditor(path);\n    if (thisEditor && !thisEditor.disabled) {\n      // Version 3 `required`\n      if (schema.required && schema.required === true) {\n        if (typeof value === \"undefined\") {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n\n          // Can't do any more validation at this point\n          return errors;\n        } else if (// signature is required\n                schema.format &&\n                (schema.format === \"signature\") &&\n                typeof value === \"string\") {\n          if (value.length === 0) {\n            // hasn't been signed.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          } else {\n            // we should be able to parse the value as JSON\n            try {\n              var sigVal = JSON.parse(value);\n              if (sigVal && !sigVal.hasValue) {\n                // hasn't been signed.\n                errors.push({\n                  path: path,\n                  property: 'required',\n                  message: this.translate(\"error_notset\")\n                });\n              }\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        } else if (// array of strings (select with multiple) is required\n                schema.format &&\n                (schema.format === \"string\") &&\n                (schema.type === \"array\") &&\n                schema.multiple &&\n                schema.multiple === true) {\n          // value should be an array...\n          if (value && value.length === 0) {\n            // hasn't been selected.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          }\n        } else if (schema.format &&\n          (schema.format === \"datetime-local\") &&\n          (schema.type === \"string\")) {\n          if (!value) {\n            // hasn't been selected.\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate(\"error_notset\")\n            });\n          }\n        }\n\n\n      }\n      // Value not defined\n      else if (typeof value === \"undefined\") {\n        // If required_by_default is set, all fields are required\n        if (this.jsoneditor.options.required_by_default) {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n        }\n        // Not required, no further validation needed\n        else {\n          return errors;\n        }\n      }\n\n\n      // `enum`\n      if (schema.enum) {\n        valid = false;\n        if (Array.isArray(schema.enum) && Array.isArray(value)) {\n          // check that every value appears in the schema's enum property\n          valid = value.every(function (currentValue, index, array) {\n            return (schema.enum.indexOf(currentValue) !== -1);\n          }, this);\n        } else {\n          for (i = 0; i < schema.enum.length; i++) {\n            if (stringified === JSON.stringify(schema.enum[i]))\n              valid = true;\n\n          }\n        }\n        if (!valid) {\n          errors.push({\n            path: path,\n            property: 'enum',\n            message: this.translate(\"error_enum\")\n          });\n        }\n      }\n\n      // `extends` (version 3)\n      if (schema.extends) {\n        for (i = 0; i < schema.extends.length; i++) {\n          errors = errors.concat(this._validateSchema(schema.extends[i], value, path, fullSchemaValue));\n        }\n      }\n\n      // `allOf`\n      if (schema.allOf) {\n        for (i = 0; i < schema.allOf.length; i++) {\n          errors = errors.concat(this._validateSchema(schema.allOf[i], value, path, fullSchemaValue));\n        }\n      }\n\n      // `anyOf`\n      if (schema.anyOf) {\n        valid = false;\n        for (i = 0; i < schema.anyOf.length; i++) {\n          if (!this._validateSchema(schema.anyOf[i], value, path, fullSchemaValue).length) {\n            valid = true;\n            break;\n          }\n        }\n        if (!valid) {\n          errors.push({\n            path: path,\n            property: 'anyOf',\n            message: this.translate('error_anyOf')\n          });\n        }\n      }\n\n      // `oneOf`\n      if (schema.oneOf) {\n        valid = 0;\n        var oneof_errors = [];\n        for (i = 0; i < schema.oneOf.length; i++) {\n          // Set the error paths to be path.oneOf[i].rest.of.path\n          var tmp = this._validateSchema(schema.oneOf[i], value, path, fullSchemaValue);\n          if (!tmp.length) {\n            valid++;\n          }\n\n          for (j = 0; j < tmp.length; j++) {\n            tmp[j].path = path + '.oneOf[' + i + ']' + tmp[j].path.substr(path.length);\n          }\n          oneof_errors = oneof_errors.concat(tmp);\n\n        }\n        if (valid !== 1) {\n          errors.push({\n            path: path,\n            property: 'oneOf',\n            message: this.translate('error_oneOf', [valid])\n          });\n          errors = errors.concat(oneof_errors);\n        }\n      }\n\n      // `not`\n      if (schema.not) {\n        if (!this._validateSchema(schema.not, value, path, fullSchemaValue).length) {\n          errors.push({\n            path: path,\n            property: 'not',\n            message: this.translate('error_not')\n          });\n        }\n      }\n\n      // `type` (both Version 3 and Version 4 support)\n      if (schema.type) {\n        // Union type\n        if (Array.isArray(schema.type)) {\n          valid = false;\n          for (i = 0; i < schema.type.length; i++) {\n            if (this._checkType(schema.type[i], value)) {\n              valid = true;\n              break;\n            }\n          }\n          if (!valid) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if (!this._checkType(schema.type, value)) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type', [schema.type])\n            });\n          }\n        }\n      }\n\n\n      // `disallow` (version 3)\n      if (schema.disallow) {\n        // Union type\n        if (Array.isArray(schema.disallow)) {\n          valid = true;\n          for (i = 0; i < schema.disallow.length; i++) {\n            if (this._checkType(schema.disallow[i], value)) {\n              valid = false;\n              break;\n            }\n          }\n          if (!valid) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if (this._checkType(schema.disallow, value)) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow', [schema.disallow])\n            });\n          }\n        }\n      }\n\n      /*\n       * Type Specific Validation\n       */\n\n      // Number-Range Specific Validation\n      if (typeof value === \"number\" || schema.format === \"number\" || schema.format === \"range\") {\n        var valueToTest = value;\n        // the format is a number but the type isn't...\n        if (schema.format === \"number\" && typeof valueToTest !== \"number\") {\n          // perform a type conversion\n          // if value is empty, treat it as zero\n          if (valueToTest === \"\") {\n            valueToTest = 0;\n          } else {\n            valueToTest = 1 * valueToTest; // convert to a number\n          }\n        }\n        // `multipleOf` and `divisibleBy`\n        if (schema.multipleOf || schema.divisibleBy) {\n          valid = valueToTest / (schema.multipleOf || schema.divisibleBy);\n          if (valid !== Math.floor(valid)) {\n            errors.push({\n              path: path,\n              property: schema.multipleOf ? 'multipleOf' : 'divisibleBy',\n              message: this.translate('error_multipleOf', [schema.multipleOf || schema.divisibleBy])\n            });\n          }\n        }\n\n        // `maximum`\n        if (schema.hasOwnProperty('maximum') && !schema.overrideMaximum) {\n          if (schema.exclusiveMaximum && valueToTest >= schema.maximum) {\n            errors.push({\n              path: path,\n              property: 'maximum',\n              message: this.translate('error_maximum_excl', [schema.maximum])\n            });\n          }\n          else if (!schema.exclusiveMaximum && valueToTest > schema.maximum) {\n            errors.push({\n              path: path,\n              property: 'maximum',\n              message: this.translate('error_maximum_incl', [schema.maximum])\n            });\n          }\n        }\n\n        // `minimum`\n        if (schema.hasOwnProperty('minimum')) {\n          if (schema.exclusiveMinimum && value <= schema.minimum) {\n            errors.push({\n              path: path,\n              property: 'minimum',\n              message: this.translate('error_minimum_excl', [schema.minimum])\n            });\n          }\n          else if (!schema.exclusiveMinimum && value < schema.minimum) {\n            errors.push({\n              path: path,\n              property: 'minimum',\n              message: this.translate('error_minimum_incl', [schema.minimum])\n            });\n          }\n        }\n      }\n      // String specific validation\n      if (typeof value === \"string\") {\n        // `maxLength`\n        if (schema.maxLength) {\n          if ((value + \"\").length > schema.maxLength) {\n            errors.push({\n              path: path,\n              property: 'maxLength',\n              message: this.translate('error_maxLength', [schema.maxLength])\n            });\n          }\n        }\n\n        // `minLength`\n        if (schema.minLength) {\n          if ((value + \"\").length < schema.minLength) {\n            errors.push({\n              path: path,\n              property: 'minLength',\n              message: this.translate((schema.minLength === 1 ? 'error_notempty' : 'error_minLength'), [schema.minLength])\n            });\n          }\n        }\n\n        // `pattern`\n        if (schema.pattern) {\n          if (!(new RegExp(schema.pattern)).test(value)) {\n            errors.push({\n              path: path,\n              property: 'pattern',\n              message: this.translate('error_pattern')\n            });\n          }\n        }\n\n        // `autocomplete`\n        if (schema.autocomplete) {\n          var acSource = schema.autocompleteData; // default to autocompleteData i.e. array\n          if (acSource) { // check array\n\n          } else { // if (!acSource) {\n            // Maybe we have a autocompleteDataSourceID and validator callback we can use?\n            if (schema.autocompleteDataSourceID && this.jsoneditor.options.autocompleteValidator) {\n                // use a wrapper around the designated autocomplete handler, that adds our data source ID as a parameter.\n                self.jsoneditor.options.autocompleteValidator(\n                  {\n                    dataSourceID: schema.autocompleteDataSourceID,\n                    term: value\n                  },\n                  function(isACValueValid) { // callback\n                    if (!isACValueValid) {\n                      errors.push({\n                        path: path,\n                        property: 'oneOf',\n                        message: self.translate('error_enum')\n                      });\n                    }\n                    thisEditor.showValidationErrors(errors);\n                  },\n                  thisEditor\n                );\n            } // otherwise we can't really validate\n          }\n        }\n      }\n      // Array specific validation\n      else if (typeof value === \"object\" && value !== null && Array.isArray(value)) {\n        // `items` and `additionalItems`\n        if (schema.items) {\n          // `items` is an array\n          if (Array.isArray(schema.items)) {\n            for (i = 0; i < value.length; i++) {\n              // If this item has a specific schema tied to it\n              // Validate against it\n              if (schema.items[i]) {\n                errors = errors.concat(this._validateSchema(schema.items[i], value[i], path + '.' + i, fullSchemaValue));\n              }\n              // If all additional items are allowed\n              else if (schema.additionalItems === true) {\n                break;\n              }\n              // If additional items is a schema\n              // TODO: Incompatibility between version 3 and 4 of the spec\n              else if (schema.additionalItems) {\n                errors = errors.concat(this._validateSchema(schema.additionalItems, value[i], path + '.' + i, fullSchemaValue));\n              }\n              // If no additional items are allowed\n              else if (schema.additionalItems === false) {\n                errors.push({\n                  path: path,\n                  property: 'additionalItems',\n                  message: this.translate('error_additionalItems')\n                });\n                break;\n              }\n              // Default for `additionalItems` is an empty schema\n              else {\n                break;\n              }\n            }\n          }\n          // `items` is a schema\n          else {\n            // Each item in the array must validate against the schema\n            for (i = 0; i < value.length; i++) {\n              errors = errors.concat(this._validateSchema(schema.items, value[i], path + '.' + i, fullSchemaValue));\n            }\n          }\n        }\n\n        // `maxItems`\n        if (schema.maxItems) {\n          if (value.length > schema.maxItems) {\n            errors.push({\n              path: path,\n              property: 'maxItems',\n              message: this.translate('error_maxItems', [schema.maxItems])\n            });\n          }\n        }\n\n        // `minItems`\n        if (schema.minItems) {\n          if (value.length < schema.minItems) {\n            errors.push({\n              path: path,\n              property: 'minItems',\n              message: this.translate('error_minItems', [schema.minItems])\n            });\n          }\n        }\n\n        // `uniqueItems`\n        if (schema.uniqueItems) {\n          var seen = {};\n          for (i = 0; i < value.length; i++) {\n            valid = JSON.stringify(value[i]);\n            if (seen[valid]) {\n              errors.push({\n                path: path,\n                property: 'uniqueItems',\n                message: this.translate('error_uniqueItems')\n              });\n              break;\n            }\n            seen[valid] = true;\n          }\n        }\n      }\n      // Object specific validation\n      else if (typeof value === \"object\" && value !== null) {\n        // `maxProperties`\n        if (schema.maxProperties) {\n          valid = 0;\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            valid++;\n          }\n          if (valid > schema.maxProperties) {\n            errors.push({\n              path: path,\n              property: 'maxProperties',\n              message: this.translate('error_maxProperties', [schema.maxProperties])\n            });\n          }\n        }\n\n        // `minProperties`\n        if (schema.minProperties) {\n          valid = 0;\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            valid++;\n          }\n          if (valid < schema.minProperties) {\n            errors.push({\n              path: path,\n              property: 'minProperties',\n              message: this.translate('error_minProperties', [schema.minProperties])\n            });\n          }\n        }\n\n        // Version 4 `required`\n        if (schema.required && Array.isArray(schema.required)) {\n          for (i = 0; i < schema.required.length; i++) {\n            if (typeof value[schema.required[i]] === \"undefined\") {\n              errors.push({\n                path: path,\n                property: 'required',\n                message: this.translate('error_required', [schema.required[i]])\n              });\n            }\n          }\n        }\n\n        // `properties`\n        var validated_properties = {};\n        if (schema.properties) {\n          for (i in schema.properties) {\n            if (!schema.properties.hasOwnProperty(i))\n              continue;\n            validated_properties[i] = true;\n            errors = errors.concat(this._validateSchema(schema.properties[i], value[i], path + '.' + i, fullSchemaValue));\n          }\n        }\n\n        // `patternProperties`\n        if (schema.patternProperties) {\n          for (i in schema.patternProperties) {\n            if (!schema.patternProperties.hasOwnProperty(i))\n              continue;\n\n            var regex = new RegExp(i);\n\n            // Check which properties match\n            for (j in value) {\n              if (!value.hasOwnProperty(j))\n                continue;\n              if (regex.test(j)) {\n                validated_properties[j] = true;\n                errors = errors.concat(this._validateSchema(schema.patternProperties[i], value[j], path + '.' + j, fullSchemaValue));\n              }\n            }\n          }\n        }\n\n        // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\n        if (typeof schema.additionalProperties === \"undefined\" && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\n          schema.additionalProperties = false;\n        }\n\n        // `additionalProperties`\n        if (typeof schema.additionalProperties !== \"undefined\") {\n          for (i in value) {\n            if (!value.hasOwnProperty(i))\n              continue;\n            if (!validated_properties[i]) {\n              // No extra properties allowed\n              if (!schema.additionalProperties) {\n                errors.push({\n                  path: path,\n                  property: 'additionalProperties',\n                  message: this.translate('error_additional_properties', [i])\n                });\n                break;\n              }\n              // Allowed\n              else if (schema.additionalProperties === true) {\n                break;\n              }\n              // Must match schema\n              // TODO: incompatibility between version 3 and 4 of the spec\n              else {\n                errors = errors.concat(this._validateSchema(schema.additionalProperties, value[i], path + '.' + i, fullSchemaValue));\n              }\n            }\n          }\n        }\n\n        // `dependencies`\n        if (schema.dependencies) {\n          for (i in schema.dependencies) {\n            if (!schema.dependencies.hasOwnProperty(i))\n              continue;\n\n            // Doesn't need to meet the dependency\n            if (typeof value[i] === \"undefined\")\n              continue;\n\n            // Property dependency\n            if (Array.isArray(schema.dependencies[i])) {\n              for (j = 0; j < schema.dependencies[i].length; j++) {\n                if (typeof value[schema.dependencies[i][j]] === \"undefined\") {\n                  errors.push({\n                    path: path,\n                    property: 'dependencies',\n                    message: this.translate('error_dependency', [schema.dependencies[i][j]])\n                  });\n                }\n              }\n            }\n            // Schema dependency\n            else {\n              errors = errors.concat(this._validateSchema(schema.dependencies[i], value, path, fullSchemaValue));\n            }\n          }\n        }\n      }\n\n      // Custom type validation\n      $each(JSONEditor.defaults.custom_validators, function (i, validator) {\n        errors = errors.concat(validator(schema, value, path, fullSchemaValue));\n      });\n    }\n    return errors;\n  },\n  _checkType: function (type, value) {\n    // Simple types\n    if (typeof type === \"string\") {\n      if (type === \"string\")\n        return typeof value === \"string\";\n      else if (type === \"number\")\n        return typeof value === \"number\";\n      else if (type === \"integer\")\n        return typeof value === \"number\" && value === Math.floor(value);\n      else if (type === \"boolean\")\n        return typeof value === \"boolean\";\n      else if (type === \"array\")\n        return Array.isArray(value);\n      else if (type === \"object\")\n        return value !== null && !(Array.isArray(value)) && typeof value === \"object\";\n      else if (type === \"null\")\n        return value === null;\n      else\n        return true;\n    }\n    // Schema\n    else {\n      return !this._validateSchema(type, value).length;\n    }\n  }\n});\n\n/**\n * All editors should extend from this class\n */\nJSONEditor.AbstractEditor = Class.extend({\n  onChildEditorChange: function(editor) {\n    this.onChange(true);\n  },\n  notify: function() {\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  change: function() {\n    if(this.parent) this.parent.onChildEditorChange(this);\n    else this.jsoneditor.onChange();\n  },\n  onChange: function(bubble) {\n    this.notify();\n    if(this.watch_listener) this.watch_listener();\n    if(bubble) this.change();\n  },\n  register: function() {\n    this.jsoneditor.registerEditor(this);\n    this.onChange();\n  },\n  unregister: function() {\n    if(!this.jsoneditor) return;\n    this.jsoneditor.unregisterEditor(this);\n  },\n  getNumColumns: function() {\n    return 12;\n  },\n  init: function(options) {\n    this.jsoneditor = options.jsoneditor;\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n\n    this.theme = this.jsoneditor.theme;\n    this.template_engine = this.jsoneditor.template;\n    this.iconlib = this.jsoneditor.iconlib;\n    \n    this.original_schema = options.schema;\n    this.schema = this.jsoneditor.expandSchema(this.original_schema);\n    \n    this.options = $extend({}, (this.options || {}), (options.schema.options || {}), options);\n    \n    if(!options.path && !this.schema.id) this.schema.id = 'root';\n    this.path = options.path || 'root';\n    this.formname = options.formname || this.path.replace(/\\.([^.]+)/g,'[$1]');\n    if(this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/,this.jsoneditor.options.form_name_root+'[');\n    this.key = this.path.split('.').pop();\n    this.parent = options.parent;\n    \n    this.link_watchers = [];\n    \n    if(options.container) this.setContainer(options.container);\n  },\n  setContainer: function(container) {\n    this.container = container;\n    if(this.schema.id) this.container.setAttribute('data-schemaid',this.schema.id);\n    if(this.schema.type && typeof this.schema.type === \"string\") this.container.setAttribute('data-schematype',this.schema.type);\n    this.container.setAttribute('data-schemapath',this.path);\n  },\n  \n  preBuild: function() {\n\n  },\n  build: function() {\n    \n  },\n  postBuild: function() {\n    this.setupWatchListeners();\n    this.addLinks();\n    this.setValue(this.getDefault(), true);\n    this.updateHeaderText();\n    this.register();\n    this.onWatchedFieldChange();\n  },\n  \n  setupWatchListeners: function() {\n    var self = this;\n    \n    // Watched fields\n    this.watched = {};\n    if(this.schema.vars) this.schema.watch = this.schema.vars;\n    this.watched_values = {};\n    this.watch_listener = function() {\n      if(self.refreshWatchedFieldValues()) {\n        self.onWatchedFieldChange();\n      }\n    };\n    \n    this.register();\n    if(this.schema.hasOwnProperty('watch')) {\n      var path,path_parts,first,root,adjusted_path;\n\n      for(var name in this.schema.watch) {\n        if(!this.schema.watch.hasOwnProperty(name)) continue;\n        path = this.schema.watch[name];\n\n        if(Array.isArray(path)) {\n          path_parts = [path[0]].concat(path[1].split('.'));\n        }\n        else {\n          // if the first character is a dot, the path is relative to the current path. Calculate it.\n          if (path.indexOf(\".\") === 0) {\n            // e.g. path      = \"./fbc_sent\";\n            //      self.path = \"root.initial_bleeding_treatment-1.initial_test_battery-3.fbc_timestamp\";\n            //      self.parent.path = \"root.initial_bleeding_treatment-1.initial_test_battery-3\"\n            var targetPathParts = self.parent.path.split(\".\"); // the targeted item's path begins with the parent of this one\n            var relativePathParts = path.split(\"/\"); //\n            for (i = 0; i < relativePathParts.length; i++) { // loop through parts of the relative path\n              if (relativePathParts[i] == \".\") // single dot means stay at this level\n                continue;\n              if (relativePathParts[i] == \"..\") // double dot means go up one level (remove one from the parent path)\n                targetPathParts.pop();\n              else // not single-dot or double-dot means add the item to the path\n                targetPathParts.push(relativePathParts[i]);\n            }\n            path = targetPathParts.join(\".\");\n          }\n          path_parts = path.split('.');\n          if(!self.theme.closest(self.container,'[data-schemaid=\"'+path_parts[0]+'\"]')) path_parts.unshift('#');\n        }\n        first = path_parts.shift();\n\n        if(first === '#') first = self.jsoneditor.schema.id || 'root';\n\n        // Find the root node for this template variable\n        root = self.theme.closest(self.container,'[data-schemaid=\"'+first+'\"]');\n        if(!root) throw \"Could not find ancestor node with id \"+first;\n\n        // Keep track of the root node and path for use when rendering the template\n        adjusted_path = root.getAttribute('data-schemapath') + '.' + path_parts.join('.');\n        \n        self.jsoneditor.watch(adjusted_path,self.watch_listener);\n        \n        self.watched[name] = adjusted_path;\n      }\n    }\n    \n    // Dynamic header\n    if(this.schema.headerTemplate) {\n      this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine);\n    }\n  },\n  \n  addLinks: function() {\n    // Add links\n    if(!this.no_link_holder) {\n      this.link_holder = this.theme.getLinksHolder();\n      this.container.appendChild(this.link_holder);\n      if(this.schema.links) {\n        for(var i=0; i<this.schema.links.length; i++) {\n          this.addLink(this.getLink(this.schema.links[i]));\n        }\n      }\n    }\n  },\n  \n  \n  getButton: function(text, icon, title) {\n    var btnClass = 'json-editor-btn-'+icon;\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n    \n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n    \n    var btn = this.theme.getButton(text, icon, title);\n    btn.className += ' ' + btnClass + ' ';\n    return btn;\n  },\n  setButtonText: function(button, text, icon, title) {\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n    \n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n    \n    return this.theme.setButtonText(button, text, icon, title);\n  },\n  addLink: function(link) {\n    if(this.link_holder) this.link_holder.appendChild(link);\n  },\n  getLink: function(data) {\n    var holder, link;\n        \n    // Get mime type of the link\n    var mime = data.mediaType || 'application/javascript';\n    var type = mime.split('/')[0];\n    \n    // Template to generate the link href\n    var href = this.jsoneditor.compileTemplate(data.href,this.template_engine);\n    \n    // Image links\n    if(type === 'image') {\n      holder = this.theme.getBlockLinkHolder();\n      link = document.createElement('a');\n      link.setAttribute('target','_blank');\n      var image = document.createElement('img');\n      \n      this.theme.createImageLink(holder,link,image);\n    \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        link.setAttribute('href',url);\n        link.setAttribute('title',data.rel || url);\n        image.setAttribute('src',url);\n      });\n    }\n    // Audio/Video links\n    else if(['audio','video'].indexOf(type) >=0) {\n      holder = this.theme.getBlockLinkHolder();\n      \n      link = this.theme.getBlockLink();\n      link.setAttribute('target','_blank');\n      \n      var media = document.createElement(type);\n      media.setAttribute('controls','controls');\n      \n      this.theme.createMediaLink(holder,link,media);\n      \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        link.setAttribute('href',url);\n        link.textContent = data.rel || url;\n        media.setAttribute('src',url);\n      });\n    }\n    // Text links\n    else {\n      holder = this.theme.getBlockLink();\n      holder.setAttribute('target','_blank');\n      holder.textContent = data.rel;\n      \n      // When a watched field changes, update the url  \n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        holder.setAttribute('href',url);\n        holder.textContent = data.rel || url;\n      });\n    }\n    \n    return holder;\n  },\n  refreshWatchedFieldValues: function() {\n    if(!this.watched_values) return;\n    var watched = {};\n    var changed = false;\n    var self = this;\n    \n    if(this.watched) {\n      var val,editor;\n      for(var name in this.watched) {\n        if(!this.watched.hasOwnProperty(name)) continue;\n        editor = self.jsoneditor.getEditor(this.watched[name]);\n        val = editor? editor.getValue() : null;\n        if(self.watched_values[name] !== val) changed = true;\n        watched[name] = val;\n      }\n    }\n    \n    watched.self = this.getValue();\n    if(this.watched_values.self !== watched.self) changed = true;\n    \n    this.watched_values = watched;\n    \n    return changed;\n  },\n  getWatchedFieldValues: function() {\n    return this.watched_values;\n  },\n  updateHeaderText: function() {\n    if(this.header) {\n      this.header.textContent = this.getHeaderText();\n    }\n  },\n  getHeaderText: function(title_only) {\n    if(this.header_text) return this.header_text;\n    else if(title_only) return this.schema.title;\n    else return this.getTitle();\n  },\n  onWatchedFieldChange: function() {\n    var vars;\n    if(this.header_template) {      \n      vars = $extend(this.getWatchedFieldValues(),{\n        key: this.key,\n        i: this.key,\n        i0: (this.key*1),\n        i1: (this.key*1+1),\n        title: this.getTitle()\n      });\n      var header_text = this.header_template(vars);\n      \n      if(header_text !== this.header_text) {\n        this.header_text = header_text;\n        this.updateHeaderText();\n        this.notify();\n        //this.fireChangeHeaderEvent();\n      }\n    }\n    if(this.link_watchers.length) {\n      vars = this.getWatchedFieldValues();\n      for(var i=0; i<this.link_watchers.length; i++) {\n        this.link_watchers[i](vars);\n      }\n    }\n  },\n  setValue: function(value) {\n    this.value = value;\n  },\n  getValue: function() {\n    return this.value;\n  },\n  refreshValue: function() {\n\n  },\n  getChildEditors: function() {\n    return false;\n  },\n  destroy: function() {\n    var self = this;\n    this.unregister(this);\n    $each(this.watched,function(name,adjusted_path) {\n      self.jsoneditor.unwatch(adjusted_path,self.watch_listener);\n    });\n    this.watched = null;\n    this.watched_values = null;\n    this.watch_listener = null;\n    this.header_text = null;\n    this.header_template = null;\n    this.value = null;\n    if(this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container);\n    this.container = null;\n    this.jsoneditor = null;\n    this.schema = null;\n    this.path = null;\n    this.key = null;\n    this.parent = null;\n  },\n  isRequired: function() {\n    if(typeof this.options.required !== \"undefined\") {\n      return this.options.required;\n    }\n    else if(typeof this.schema.required === \"boolean\") {\n      return this.schema.required;\n    }\n    else if(this.jsoneditor.options.required_by_default) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  },\n  isRemoveDisabled: function() {\n    return this.jsoneditor.options.disable_remove_links === true;\n  },\n  getDefault: function() {\n    if(this.schema.default) return this.schema.default;\n    if(this.schema.enum) {\n      if (!this.schema.emptyFirstField) {\n        return this.schema.enum[0];\n      }\n    }\n    \n    var type = this.schema.type || this.schema.oneOf;\n    if(type && Array.isArray(type)) type = type[0];\n    if(type && typeof type === \"object\") type = type.type;\n    if(type && Array.isArray(type)) type = type[0];\n    \n    if(typeof type === \"string\") {\n      if(type === \"number\") return 0.0;\n      if(type === \"boolean\") return false;\n      if(type === \"integer\") return 0;\n      if(type === \"string\") return \"\";\n      if(type === \"object\") return {};\n      if(type === \"array\") return [];\n    }\n    \n    return null;\n  },\n  getTitle: function() {\n    return this.schema.title || this.key;\n  },\n  enable: function() {\n    this.disabled = false;\n  },\n  disable: function() {\n    this.disabled = true;\n  },\n  isEnabled: function() {\n    return !this.disabled;\n  },\n  getDisplayText: function(arr) {\n    var disp = [];\n    var used = {};\n    \n    // Determine how many times each attribute name is used.\n    // This helps us pick the most distinct display text for the schemas.\n    $each(arr,function(i,el) {\n      if(el.title) {\n        used[el.title] = used[el.title] || 0;\n        used[el.title]++;\n      }\n      if(el.description) {\n        used[el.description] = used[el.description] || 0;\n        used[el.description]++;\n      }\n      if(el.format) {\n        used[el.format] = used[el.format] || 0;\n        used[el.format]++;\n      }\n      if(el.type) {\n        used[el.type] = used[el.type] || 0;\n        used[el.type]++;\n      }\n    });\n    \n    // Determine display text for each element of the array\n    $each(arr,function(i,el)  {\n      var name;\n      \n      // If it's a simple string\n      if(typeof el === \"string\") name = el;\n      // Object\n      else if(el.title && used[el.title]<=1) name = el.title;\n      else if(el.format && used[el.format]<=1) name = el.format;\n      else if(el.type && used[el.type]<=1) name = el.type;\n      else if(el.description && used[el.description]<=1) name = el.descripton;\n      else if(el.title) name = el.title;\n      else if(el.format) name = el.format;\n      else if(el.type) name = el.type;\n      else if(el.description) name = el.description;\n      else if(JSON.stringify(el).length < 50) name = JSON.stringify(el);\n      else name = \"type\";\n      \n      disp.push(name);\n    });\n    \n    // Replace identical display text with \"text 1\", \"text 2\", etc.\n    var inc = {};\n    $each(disp,function(i,name) {\n      inc[name] = inc[name] || 0;\n      inc[name]++;\n      \n      if(used[name] > 1) disp[i] = name + \" \" + inc[name];\n    });\n    \n    return disp;\n  },\n  getOption: function(key) {\n    try {\n      throw \"getOption is deprecated\";\n    }\n    catch(e) {\n      window.console.error(e);\n    }\n    \n    return this.options[key];\n  },\n  showValidationErrors: function(errors) {\n\n  }\n});\n\nJSONEditor.defaults.editors.null = JSONEditor.AbstractEditor.extend({\n  getValue: function() {\n    return null;\n  },\n  setValue: function() {\n    this.onChange();\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n\n/* globals flatpickr */\nJSONEditor.defaults.editors.string = JSONEditor.AbstractEditor.extend({\n  register: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.setAttribute(\"name\", this.formname);\n  },\n  unregister: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.removeAttribute(\"name\");\n  },\n  setValue: function (value, initial, from_template) {\n    // console.log(\"setValue(\" + value + \",\" + initial + \",\" + from_template + \")\");\n    // console.log(\"this.schema = \" + JSON.stringify(this.schema,null,2));\n    var self = this;\n\n    if (this.template && !from_template) {\n      return;\n    }\n\n    if (value === null) {\n      value = \"\";\n    } else if (typeof value === \"object\") {\n      value = JSON.stringify(value);\n    } else if (typeof value !== \"string\") value = \"\" + value;\n\n    if (value === this.serialized) return;\n\n    // Sanitize value before setting it\n    // we can add a link to a route if the value is not defined:\n    //    \"linkRouteIfUndefined\": Router.path(\"euroSCORE\"),\n    //    \"linkTextIfUndefined\": \" Tap here to calculate\",\n    if (this.schema.linkRouteIfUndefined) {\n      if (!value) {\n        // override the input field with a link\n        this.input = document.createElement(\"A\");\n        this.input.href = this.schema.linkRouteIfUndefined;\n        var linkTextNode = document.createTextNode(this.schema.linkTextIfUndefined);\n        this.input.appendChild(linkTextNode);\n      } else {\n        var parentNode = this.input.parentNode;\n        parentNode.removeChild(this.input);\n        this.input = document.createElement(\"INPUT\");\n        this.input.disabled = true;\n        parentNode.appendChild(this.input);\n      }\n    }\n\n    var sanitized = this.sanitize(value);\n\n    if (this.schema.autocomplete) {\n      if (value) {\n        this.input_display.value = sanitized;\n        this.input_hidden.value = sanitized;\n      }\n    }\n\n    if (this.input.value === sanitized) {\n      return;\n    }\n\n    this.input.value = sanitized;\n\n    // If using flatpickr, update the UI\n\n    if (this.schema.format &&\n      (this.schema.format === \"date\" ||\n        this.schema.format === \"time\" ||\n        this.schema.format === \"datetime\")) {\n\n      if (this.input._flatpickr) {\n        this.input._flatpickr.setDate(sanitized);\n      }\n    }\n\n    // If using SCEditor, update the WYSIWYG\n    if (this.sceditor_instance) {\n      this.sceditor_instance.val(sanitized);\n    } else if (this.epiceditor) {\n      this.epiceditor.importFile(null, sanitized);\n    } else if (this.ace_editor) {\n      this.ace_editor.setValue(sanitized);\n    }\n\n    var changed = from_template || this.getValue() !== value;\n\n    this.refreshValue();\n\n    if (initial) {\n      this.is_dirty = false;\n    } else if (this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed);\n  },\n  getNumColumns: function () {\n    var min = Math.ceil(Math.max(this.getTitle().length, this.schema.maxLength || 0, this.schema.minLength || 0) / 5);\n    var num;\n\n    if (this.input_type === \"textarea\") {\n      num = 6;\n    } else if ([\"text\", \"email\"].indexOf(this.input_type) >= 0) {\n      num = 4;\n    } else {\n      num = 2;\n    }\n\n    return Math.min(12, Math.max(min, num));\n  },\n  build: function () {\n    var self = this,\n      i;\n    if (!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description, this.schema.showHTML);\n\n    this.format = this.schema.format;\n    if (!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g, \"\");\n    }\n    // Specific format\n    if (this.format && this.format === \"geolocation\") {\n      var divElem = document.createElement(\"div\");\n      divElem.setAttribute(\"class\", \"geolocation\");\n\n      var hiddenInput = this.theme.getFormInputField(\"hidden\");\n      var uuid = $uuid();\n      hiddenInput.setAttribute(\"id\", uuid);\n\n      var labelElem = document.createElement(\"label\");\n      labelElem.setAttribute(\"for\", uuid);\n\n      var labelTextNode = document.createTextNode(\"\");\n      labelElem.appendChild(labelTextNode);\n\n      divElem.appendChild(labelElem);\n      labelElem.appendChild(hiddenInput);\n\n      this.input = divElem;\n      this.input_type = \"hidden\";\n\n      var geolocAvailable = false,\n        needGeolocUpdate = false;\n\n      if (typeof JutoCordovaBridge !== \"undefined\") {\n\n        if (JutoCordovaBridge.deviceReady) {\n\n          // flag geoloc as available; it will be handled by the native plugin.\n          geolocAvailable = true;\n\n          // see if we need to update the location\n          if (JutoCordovaBridge.locationFixObtained) {\n\n            var currentTime = new Date();\n            var differenceMilliseconds = currentTime - JutoCordovaBridge.lastLocationUpdateTime;\n            var toleratedDifferenceMilliseconds = JutoCordovaBridge.locationUpdateFrequencySeconds * 1000;\n            if (differenceMilliseconds > toleratedDifferenceMilliseconds) {\n              // time for an update.\n              needGeolocUpdate = true;\n            } else {\n\n              // old location still valid.\n\n              labelTextNode.nodeValue = \"Latitude/Longitude: \" + JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n              hiddenInput.value = JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n              self.setValue(JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude);\n            }\n          } else {\n            // we haven't yet obtained a fix. Let's add ourselves as a listener\n            // for when the device is ready.\n            needGeolocUpdate = true;\n          }\n\n        } else {\n          // the device isn't ready yet. Add ourselves as a listener for the geoloc\n          // call that will be invoked when the device is ready.\n\n          // Are we in a cordova device that we can detect? Because we *REALLY*\n          //  don't want to fall back to web, we'd get a nasty alert message.\n          var app = document.URL.indexOf(\"http://\") === -1 && document.URL.indexOf(\"https://\") === -1;\n\n          if (app) { // we are in an app.\n            geolocAvailable = true; // assume that cordova plugins WILL work, they just haven't yet.\n          }\n\n        }\n\n        if (needGeolocUpdate) {\n          // OK for some reason (above), we need an update to geolocation\n          // The function below is a callback that will occur when it's done.\n          JutoCordovaBridge.updateCurrentPosition(function () {\n\n            // success callback.\n            // update the label and hidden field value.\n            labelTextNode.nodeValue = \"Lat/Long: \" + JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n            hiddenInput.value = JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude;\n            self.setValue(JutoCordovaBridge.latitude + \",\" + JutoCordovaBridge.longitude);\n            // return true, so that we get invoked if the position gets updated again.\n            return true;\n          });\n\n        }\n      }\n\n      if (!geolocAvailable) {\n\n        // OK we haven't got it yet. Try navigator.geolocation.getCurrentPosition.\n        navigator.geolocation.getCurrentPosition(function (pos) {\n\n            hiddenInput.value = pos.coords.latitude + \",\" + pos.coords.longitude;\n            labelTextNode.nodeValue = \"Lat/Long: \" + pos.coords.latitude + \",\" + pos.coords.longitude;\n            self.setValue(pos.coords.latitude + \",\" + pos.coords.longitude);\n          },\n          function (err) {\n\n            console.log(\"couldn't get position\");\n\n            console.log(err);\n          });\n      }\n    }\n\n    if (!this.format && this.options.default_format) {\n      this.format = this.options.default_format;\n    }\n    if (this.options.format) {\n      this.format = this.options.format;\n    }\n\n    // Specific format\n    if (this.format) {\n      // Text Area\n      if (this.format === \"textarea\") {\n        this.input_type = \"textarea\";\n        this.input = this.theme.getTextareaInput();\n        if (this.schema.information_only) {\n          this.input.setAttribute(\"disabled\", \"true\");\n          self.setValue(this.schema.value);\n        }\n      }\n      // Range Input\n      else if (this.format === \"range\") {\n        this.input_type = this.format;\n        var min = this.schema.minimum || 0;\n        var max = this.schema.maximum || Math.max(100, min + 1);\n        var step = 1;\n        if (this.schema.multipleOf) {\n          if (min % this.schema.multipleOf) min = Math.ceil(min / this.schema.multipleOf) * this.schema.multipleOf;\n          if (max % this.schema.multipleOf) max = Math.floor(max / this.schema.multipleOf) * this.schema.multipleOf;\n          step = this.schema.multipleOf;\n        }\n\n        this.input = this.theme.getRangeInput(min, max, step);\n\n        // Do we have mobile range slider defined? If so use it. (https://github.com/ubilabs/mobile-range-slider)\n        if (typeof MobileRangeSlider !== \"undefined\") {\n          // set up the nessiscariry markup\n          var rangeDiv = document.createElement(\"div\");\n          rangeDiv.className = \"slider\";\n          rangeDiv.innerHTML = \"<div class=\\\"track\\\"></div><div class=\\\"knob\\\"></div>\";\n\n          // create the mobile slider\n          this.mobileRangeSlider = new MobileRangeSlider(rangeDiv, {\n            min: min,\n            max: max,\n            change: function (value) {\n              self.setValue(String(value));\n            }\n          });\n\n          this.input = rangeDiv; // set the input to the new mobile slider\n        }\n\n        // Allow an input alongside a range slider to override the maximum property\n        if (this.schema.overrideMaximum) {\n          var rangeInput = this.input; // store the range input\n          this.input = this.theme.getFormInputField(\"number\"); // make a number input the primary input\n          // create the control for the range slider\n          this.secondaryControl = this.theme.getFormControl(null, rangeInput);\n\n          // update the range slider when we change the primary input\n          this.input.addEventListener(\"change\", function (e) {\n            if (self.mobileRangeSlider) {\n              // modified from the mobile slider source\n              // sets the knob position instead of setValue which calls the change callback (we don't want that)\n              var\n                knobWidth = rangeInput.getElementsByClassName(\"knob\")[0].offsetWidth,\n                trackWidth = rangeInput.getElementsByClassName(\"track\")[0].offsetWidth,\n                range = max - min,\n                width = trackWidth - knobWidth,\n                position = Math.round((Math.min(e.target.value, max) - min) * width / range);\n\n              self.mobileRangeSlider.setKnobPosition(position);\n            } else {\n              rangeInput.value = e.target.value;\n            }\n          });\n          // update the primary input when we change the range slider\n          rangeInput.addEventListener(\"change\", function (e) {\n            self.setValue(e.target.value);\n          });\n          // set the range slider to the default value\n          rangeInput.value = this.schema.default;\n        }\n      }\n      // Source Code\n      else if ([\n        \"actionscript\",\n        \"batchfile\",\n        \"bbcode\",\n        \"c\",\n        \"c++\",\n        \"cpp\",\n        \"coffee\",\n        \"csharp\",\n        \"css\",\n        \"dart\",\n        \"django\",\n        \"ejs\",\n        \"erlang\",\n        \"golang\",\n        \"handlebars\",\n        \"haskell\",\n        \"haxe\",\n        \"html\",\n        \"ini\",\n        \"jade\",\n        \"java\",\n        \"javascript\",\n        \"json\",\n        \"less\",\n        \"lisp\",\n        \"lua\",\n        \"makefile\",\n        \"markdown\",\n        \"matlab\",\n        \"mysql\",\n        \"objectivec\",\n        \"pascal\",\n        \"perl\",\n        \"pgsql\",\n        \"php\",\n        \"python\",\n        \"r\",\n        \"ruby\",\n        \"sass\",\n        \"scala\",\n        \"scss\",\n        \"smarty\",\n        \"sql\",\n        \"stylus\",\n        \"svg\",\n        \"twig\",\n        \"vbscript\",\n        \"xml\",\n        \"yaml\"\n      ].indexOf(this.format) >= 0\n      ) {\n        this.input_type = this.format;\n        this.source_code = true;\n\n        this.input = this.theme.getTextareaInput();\n      } else if (this.format === \"hidden\") {\n        this.input_type = this.format;\n        this.input = this.theme.getFormInputField(this.input_type);\n        this.container.setAttribute(\"class\", this.container.getAttribute(\"class\") + \" hidden\");\n      }\n      // autocomplete\n      else if (this.format === \"autocomplete\" && !!$().autocomplete) {\n        var acDivElem = document.createElement(\"div\");\n        acDivElem.setAttribute(\"class\", \"autocomplete\");\n\n        this.input_hidden = this.theme.getFormInputField(\"hidden\");\n        var acUUID = $uuid();\n        this.input_hidden.setAttribute(\"id\", acUUID);\n\n        this.input_display = this.theme.getFormInputField(\"text\");\n\n        acDivElem.appendChild(this.input_hidden);\n        acDivElem.appendChild(this.input_display);\n\n        this.input = acDivElem;\n        this.input_type = \"hidden\";\n\n      }\n      // HTML5 Input type - not geolocation\n      else if (this.format !== \"geolocation\") {\n        this.input_type = this.format;\n        this.input = this.theme.getFormInputField(this.input_type);\n      }\n    }\n    // Normal text input\n    else {\n      this.input_type = \"text\";\n      this.input = this.theme.getFormInputField(this.input_type);\n    }\n\n    // minLength, maxLength, and pattern\n    if (typeof this.schema.maxLength !== \"undefined\") this.input.setAttribute(\"maxlength\", this.schema.maxLength);\n    if (typeof this.schema.pattern !== \"undefined\") {\n      this.input.setAttribute(\"pattern\", this.schema.pattern);\n    } else if (typeof this.schema.minLength !== \"undefined\") this.input.setAttribute(\"pattern\", \".{\" + this.schema.minLength + \",}\");\n\n    if (this.options.compact) this.container.setAttribute(\"class\", this.container.getAttribute(\"class\") + \" compact\");\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n    if (this.schema.autocomplete) {\n      if (typeof $ !== \"undefined\") { // if we have jquery\n        // attach autocomplete data, if it exists and JqueryUI is available\n        if (!!$(this.input).autocomplete && this.input_display) {\n          var acSource = this.schema.autocompleteData; // default to autocompleteData i.e. array\n          if (!acSource) {\n            // no autocompleteData. Maybe we have a function and a autocompleteDataSourceID we can use?\n            if (self.jsoneditor.options.autocompleteHandler) {\n              // use a wrapper around the designated autocomplete handler, that adds our data source ID as a parameter.\n              acSource = function (request, response) {\n                if (self.schema.autocompleteDataSourceID) {\n                  request.dataSourceID = self.schema.autocompleteDataSourceID;\n                }\n                self.jsoneditor.options.autocompleteHandler(request, response);\n              };\n            }\n          }\n          if (acSource) {\n            $(this.input_display)\n              .autocomplete(\n                {\n                  \"source\": acSource,\n                  select: function (event, ui) {\n                    //TODO: use item.value instead of label.\n                    // self.setValue(ui.item.value);\n                    self.setValue(ui.item.label);\n                    $(self.input_display)\n                      .val(ui.item.label);\n                    self.jsoneditor.onChange();\n                    return false;\n                  },\n                  change: function (event, ui) {\n                    self.setValue(this.value);\n                  },\n                  delay: 500,\n                  minLength: 0\n                  // focus: function( event, ui ) { // ui = {item: {label: \"00000001 - Toyota - 1AAA111\", value:\n                  // \"YTTYitnfoedz7Gaq4\"}} console.log(\"focus:\",event,ui); } search: function( event, ui) {\n                  // console.log(\"search:\",event,ui);  }, create: function( event, ui) {\n                  // console.log(\"create:\",event,ui);  }\n\n                }\n              )\n              .focus(function () {\n                $(this)\n                  .autocomplete(\"search\");\n              });\n          }\n        }\n      }\n    }\n\n    this.theme.attachHandlers(this.input, function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Don't allow changing if this field is a template\n      if (self.schema.template) {\n        this.value = self.value;\n        return;\n      }\n\n      var val = this.value;\n\n      // sanitize value\n      var sanitized = self.sanitize(val);\n      if (val !== sanitized) {\n        this.value = sanitized;\n      }\n\n      self.is_dirty = true;\n\n      self.refreshValue();\n      self.onChange(true);\n    });\n\n    if (this.format) this.input.setAttribute(\"data-schemaformat\", this.format);\n    if (this.schema.information_only) {\n      this.input.value = this.schema.value;\n      this.schema.default = this.schema.value;\n    }\n    if (this.schema.linkRouteIfUndefined) {\n      // override the input field with a link\n      this.input = document.createElement(\"A\");\n      this.input.href = this.schema.linkRouteIfUndefined;\n      var linkTextNode = document.createTextNode(this.schema.linkTextIfUndefined);\n      this.input.appendChild(linkTextNode);\n    }\n    if (this.schema.placeholder) {\n      this.input.setAttribute(\"placeholder\", this.schema.placeholder);\n\n    }\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n\n    this.container.appendChild(this.control);\n\n    if (this.secondaryControl) this.container.appendChild(this.secondaryControl);\n\n\n    // materialize date picker\n    // $(this.input).pickadate({format: 'dd/mm/yyyy'});\n    // this.input = $(this.control).find('input').get(0);\n    // $(this.input).change(function(e) {\n    //   e.preventDefault();\n    //   e.stopPropagation();\n    //   self.refreshValue();\n    //   self.onChange(true);\n    // });\n    if (window.flatpickr) {\n      if (this.format === \"time\" || this.format === \"date\" || this.format === \"datetime\") {\n        // set flatpickr defaults if none are supplied\n        var flatpickrDefaults;\n        switch (this.format) {\n          case \"date\":\n            flatpickrDefaults = {\n              \"dateFormat\": \"Y-m-d\",\n              \"enableTime\": false,\n              \"noCalendar\": false\n            };\n            break;\n          case \"time\":\n            flatpickrDefaults = {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": false\n            };\n            break;\n          // NB: datetime and default use same logic\n          case \"datetime\":\n          default:\n            flatpickrDefaults = {\n              \"dateFormat\": \"Y-m-d H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": false\n            };\n        }\n        var flatpickrOptions = flatpickrDefaults;\n        if (this.schema.options && this.schema.options.flatpickr) {\n          flatpickrOptions = this.schema.options.flatpickr;\n        }\n        flatpickr(this.input, flatpickrOptions);\n      }\n    }\n\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function () {\n      // Skip in case the input is only a temporary editor,\n      // otherwise, in the case of an ace_editor creation,\n      // it will generate an error trying to append it to the missing parentNode\n      if (self.input.parentNode) self.afterInputReady();\n    });\n\n    // Compile and store the template\n    if (this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.refreshValue();\n    } else {\n      this.refreshValue();\n    }\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n      // TODO: WYSIWYG and Markdown editors\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    // TODO: WYSIWYG and Markdown editors\n    this._super();\n  },\n  afterInputReady: function () {\n    var self = this,\n      options;\n\n    // Set the mobile range slider to the default value\n    if (this.mobileRangeSlider) this.mobileRangeSlider.setValue(this.schema.default);\n\n    // Code editor\n    if (this.source_code) {\n      // WYSIWYG html and bbcode editor\n      if (this.options.wysiwyg &&\n        [\"html\", \"bbcode\"].indexOf(this.input_type) >= 0 &&\n        window.jQuery && window.jQuery.fn && window.jQuery.fn.sceditor\n      ) {\n        options = $extend({}, {\n          plugins: self.input_type === \"html\" ? \"xhtml\" : \"bbcode\",\n          emoticonsEnabled: false,\n          width: \"100%\",\n          height: 300\n        }, JSONEditor.plugins.sceditor, self.options.sceditor_options || {});\n\n        window.jQuery(self.input)\n          .sceditor(options);\n\n        self.sceditor_instance = window.jQuery(self.input)\n          .sceditor(\"instance\");\n\n        self.sceditor_instance.blur(function () {\n          // Get editor's value\n          var val = window.jQuery(\"<div>\" + self.sceditor_instance.val() + \"</div>\");\n          // Remove sceditor spans/divs\n          window.jQuery(\"#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf\", val)\n            .remove();\n          // Set the value and update\n          self.input.value = val.html();\n          self.value = self.input.value;\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // EpicEditor for markdown (if it's loaded)\n      else if (this.input_type === \"markdown\" && window.EpicEditor) {\n        this.epiceditor_container = document.createElement(\"div\");\n        this.input.parentNode.insertBefore(this.epiceditor_container, this.input);\n        this.input.style.display = \"none\";\n\n        options = $extend({}, JSONEditor.plugins.epiceditor, {\n          container: this.epiceditor_container,\n          clientSideStorage: false\n        });\n\n        this.epiceditor = new window.EpicEditor(options).load();\n\n        this.epiceditor.importFile(null, this.getValue());\n\n        this.epiceditor.on(\"update\", function () {\n          var val = self.epiceditor.exportFile();\n          self.input.value = val;\n          self.value = val;\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // ACE editor for everything else\n      else if (window.ace) {\n        var mode = this.input_type;\n        // aliases for c/cpp\n        if (mode === \"cpp\" || mode === \"c++\" || mode === \"c\") {\n          mode = \"c_cpp\";\n        }\n\n        this.ace_container = document.createElement(\"div\");\n        this.ace_container.style.width = \"100%\";\n        this.ace_container.style.position = \"relative\";\n        this.ace_container.style.height = \"400px\";\n        this.input.parentNode.insertBefore(this.ace_container, this.input);\n        this.input.style.display = \"none\";\n        this.ace_editor = window.ace.edit(this.ace_container);\n\n        this.ace_editor.setValue(this.getValue());\n\n        // The theme\n        if (JSONEditor.plugins.ace.theme) this.ace_editor.setTheme(\"ace/theme/\" + JSONEditor.plugins.ace.theme);\n        // The mode\n        mode = window.ace.require(\"ace/mode/\" + mode);\n        if (mode) {\n          this.ace_editor.getSession()\n            .setMode(new mode.Mode());\n        }\n\n        // Listen for changes\n        this.ace_editor.on(\"change\", function () {\n          var val = self.ace_editor.getValue();\n          self.input.value = val;\n          self.refreshValue();\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n    }\n\n    self.theme.afterInputReady(self.input);\n  },\n  refreshValue: function () {\n    this.value = this.input.value;\n    if (typeof this.value !== \"string\") this.value = \"\";\n    this.serialized = this.value;\n  },\n  destroy: function () {\n    // If using SCEditor, destroy the editor instance\n    if (this.sceditor_instance) {\n      this.sceditor_instance.destroy();\n    } else if (this.epiceditor) {\n      this.epiceditor.unload();\n    } else if (this.ace_editor) {\n      this.ace_editor.destroy();\n    }\n\n\n    this.template = null;\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var self = this,\n      vars,\n      j;\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars), false, true);\n    }\n\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    if (this.jsoneditor.options.show_errors === \"always\") {\n    } else if (!this.is_dirty && this.previous_error_setting === this.jsoneditor.options.show_errors) return;\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join(\". \") + \".\");\n    } else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\nJSONEditor.defaults.editors.number = JSONEditor.defaults.editors.string.extend({\n    sanitize: function (value) {\n        return (value + \"\").replace(/[^0-9\\.\\-eE]/g, '');\n    },\n    getNumColumns: function () {\n        return 2;\n    },\n    getValue: function () {\n        return this.value * 1;\n    },\n    build: function () {\n        this._super();\n        var self = this;\n\n        var eventName = 'focus'; // use onchange for select events, onclick for checkbox\n        this.input.addEventListener(eventName, function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            //When a numeric input is given focus, select all so new values don't prefix the redundant 0, default value\n            if (self.schema.format === \"number\") {\n                self.input.select();\n            }\n        });\n\n    }\n});\n\nJSONEditor.defaults.editors.integer = JSONEditor.defaults.editors.number.extend({\n  sanitize: function(value) {\n    value = value + \"\";\n    return value.replace(/[^0-9\\-]/g,'');\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n\nJSONEditor.defaults.editors.object = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return $extend({},this.schema.default || {});\n  },\n  getChildEditors: function() {\n    return this.editors;\n  },\n  register: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.maxwidth),3);\n  },\n  enable: function() {\n    if(this.editjson_button) this.editjson_button.disabled = false;\n    if(this.addproperty_button) this.addproperty_button.disabled = false;\n    \n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].enable();\n      }\n    }\n  },\n  disable: function() {\n    if(this.editjson_button) this.editjson_button.disabled = true;\n    if(this.addproperty_button) this.addproperty_button.disabled = true;\n    this.hideEditJSON();\n    \n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].disable();\n      }\n    }\n  },\n  layoutEditors: function() {\n    var self = this, i, j;\n    \n    if(!this.row_container) return;\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n    \n    var container;\n    \n    if(this.format === 'grid') {\n      var rows = [];\n      $each(this.property_order, function(j,key) {\n        var editor = self.editors[key];\n        if(editor.property_removed) return;\n        var found = false;\n        var width = editor.options.hidden? 0 : editor.getNumColumns();\n        var height = editor.options.hidden? 0 : editor.container.offsetHeight;\n        // See if the editor will fit in any of the existing rows first\n        for(var i=0; i<rows.length; i++) {\n          // If the editor will fit in the row horizontally\n          if(rows[i].width + width <= 12) {\n            // If the editor is close to the other elements in height\n            // i.e. Don't put a really tall editor in an otherwise short row or vice versa\n            if(!height || (rows[i].minh*0.5 < height && rows[i].maxh*2 > height)) {\n              found = i;\n            }\n          }\n        }\n        \n        // If there isn't a spot in any of the existing rows, start a new row\n        if(found === false) {\n          rows.push({\n            width: 0,\n            minh: 999999,\n            maxh: 0,\n            editors: []\n          });\n          found = rows.length-1;\n        }\n        \n        rows[found].editors.push({\n          key: key,\n          //editor: editor,\n          width: width,\n          height: height\n        });\n        rows[found].width += width;\n        rows[found].minh = Math.min(rows[found].minh,height);\n        rows[found].maxh = Math.max(rows[found].maxh,height);\n      });\n      \n      // Make almost full rows width 12\n      // Do this by increasing all editors' sizes proprotionately\n      // Any left over space goes to the biggest editor\n      // Don't touch rows with a width of 6 or less\n      for(i=0; i<rows.length; i++) {\n        if(rows[i].width < 12) {\n          var biggest = false;\n          var new_width = 0;\n          for(j=0; j<rows[i].editors.length; j++) {\n            if(biggest === false) biggest = j;\n            else if(rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j;\n            rows[i].editors[j].width *= 12/rows[i].width;\n            rows[i].editors[j].width = Math.floor(rows[i].editors[j].width);\n            new_width += rows[i].editors[j].width;\n          }\n          if(new_width < 12) rows[i].editors[biggest].width += 12-new_width;\n          rows[i].width = 12;\n        }\n      }\n      \n      // layout hasn't changed\n      if(this.layout === JSON.stringify(rows)) return false;\n      this.layout = JSON.stringify(rows);\n      \n      // Layout the form\n      container = document.createElement('div');\n      for(i=0; i<rows.length; i++) {\n        var row = this.theme.getGridRow();\n        container.appendChild(row);\n        for(j=0; j<rows[i].editors.length; j++) {\n          var key = rows[i].editors[j].key;\n          var editor = this.editors[key];\n          \n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width);\n          editor.container.className += ' container-' + key;\n          row.appendChild(editor.container);\n        }\n      }\n    }\n    // Normal layout\n    else {\n      container = document.createElement('div');\n      $each(this.property_order, function(i,key) {\n        var editor = self.editors[key];\n        if(editor.property_removed) return;\n        var row = self.theme.getGridRow();\n        container.appendChild(row);\n        \n        if(editor.options.hidden) editor.container.style.display = 'none';\n        else self.theme.setGridColumnSize(editor.container,12);\n        editor.container.className += ' container-' + key;\n        row.appendChild(editor.container);\n      });\n    }\n    this.row_container.innerHTML = '';\n    this.row_container.appendChild(container);\n  },\n  getPropertySchema: function(key) {\n    // Schema declared directly in properties\n    var schema = this.schema.properties[key] || {};\n    schema = $extend({},schema);\n    \n    // Any matching patternProperties should be merged in\n    if(this.schema.patternProperties) {\n      for(var i in this.schema.patternProperties) {\n        if(!this.schema.patternProperties.hasOwnProperty(i)) continue;\n        var regex = new RegExp(i);\n        if(regex.test(key)) {\n          schema.allOf = schema.allOf || [];\n          schema.allOf.push(this.schema.patternProperties[i]);\n        }\n      }\n    }\n    \n    return schema;\n  },\n  preBuild: function() {\n    this._super();\n\n    this.editors = {};\n    this.cached_editors = {};\n    var self = this;\n\n    this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal';\n\n    this.schema.properties = this.schema.properties || {};\n\n    this.minwidth = 0;\n    this.maxwidth = 0;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      $each(this.schema.properties, function(key,schema) {\n        var editor = self.jsoneditor.getEditorClass(schema);\n        self.editors[key] = self.jsoneditor.createEditor(editor,{\n          jsoneditor: self.jsoneditor,\n          schema: schema,\n          path: self.path+'.'+key,\n          parent: self,\n          compact: true,\n          required: true\n        });\n        self.editors[key].preBuild();\n\n        var width = self.editors[key].options.hidden? 0 : self.editors[key].getNumColumns();\n\n        self.minwidth += width;\n        self.maxwidth += width;\n      });\n      this.no_link_holder = true;\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      this.defaultProperties = this.schema.defaultProperties || Object.keys(this.schema.properties);\n\n      // Increase the grid width to account for padding\n      self.maxwidth += 1;\n\n      $each(this.defaultProperties, function(i,key) {\n        self.addObjectProperty(key, true);\n\n        if(self.editors[key]) {\n          self.minwidth = Math.max(self.minwidth,self.editors[key].getNumColumns());\n          self.maxwidth += self.editors[key].getNumColumns();\n        }\n      });\n    }\n    \n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n  },\n  build: function() {\n    var self = this;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.editors, function(key,editor) {\n        var holder = self.theme.getTableCell();\n        self.editor_holder.appendChild(holder);\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n\n        if(self.editors[key].options.hidden) {\n          holder.style.display = 'none';\n        }\n      });\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      this.header = document.createElement('span');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.container.style.position = 'relative';\n      \n      // Edit JSON modal\n      this.editjson_holder = this.theme.getModal();\n      this.editjson_textarea = this.theme.getTextareaInput();\n      this.editjson_textarea.style.height = '170px';\n      this.editjson_textarea.style.width = '300px';\n      this.editjson_textarea.style.display = 'block';\n      this.editjson_save = this.getButton('Save','save','Save');\n      this.editjson_save.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.saveJSON();\n      });\n      this.editjson_cancel = this.getButton('Cancel','cancel','Cancel');\n      this.editjson_cancel.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.hideEditJSON();\n      });\n      this.editjson_holder.appendChild(this.editjson_textarea);\n      this.editjson_holder.appendChild(this.editjson_save);\n      this.editjson_holder.appendChild(this.editjson_cancel);\n      \n      // Manage Properties modal\n      this.addproperty_holder = this.theme.getModal();\n      this.addproperty_list = document.createElement('div');\n      this.addproperty_list.style.width = '295px';\n      this.addproperty_list.style.maxHeight = '160px';\n      this.addproperty_list.style.padding = '5px 0';\n      this.addproperty_list.style.overflowY = 'auto';\n      this.addproperty_list.style.overflowX = 'hidden';\n      this.addproperty_list.style.paddingLeft = '5px';\n      this.addproperty_add = this.getButton('add','add','add');\n      this.addproperty_input = this.theme.getFormInputField('text');\n      this.addproperty_input.setAttribute('placeholder','Property name...');\n      this.addproperty_input.style.width = '220px';\n      this.addproperty_input.style.marginBottom = '0';\n      this.addproperty_input.style.display = 'inline-block';\n      this.addproperty_add.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.addproperty_input.value) {\n          if(self.editors[self.addproperty_input.value]) {\n            window.alert('there is already a property with that name');\n            return;\n          }\n          \n          self.addObjectProperty(self.addproperty_input.value);\n          if(self.editors[self.addproperty_input.value]) {\n            self.editors[self.addproperty_input.value].disable();\n          }\n          self.onChange(true);\n        }\n      });\n      this.addproperty_holder.appendChild(this.addproperty_list);\n      this.addproperty_holder.appendChild(this.addproperty_input);\n      this.addproperty_holder.appendChild(this.addproperty_add);\n      var spacer = document.createElement('div');\n      spacer.style.clear = 'both';\n      this.addproperty_holder.appendChild(spacer);\n      \n      \n      // Description\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      \n      // Validation error placeholder area\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n      \n      // Container for child editor area\n      this.editor_holder = this.theme.getIndentedPanel();\n      this.editor_holder.style.paddingBottom = '0';\n      this.container.appendChild(this.editor_holder);\n\n      // Container for rows of child editors\n      this.row_container = this.theme.getGridContainer();\n      this.editor_holder.appendChild(this.row_container);\n\n      $each(this.editors, function(key,editor) {\n        var holder = self.theme.getGridColumn();\n        self.row_container.appendChild(holder);\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n      });\n\n      // Control buttons\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.editjson_controls = this.theme.getHeaderButtonHolder();\n      this.addproperty_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      this.title.appendChild(this.editjson_controls);\n      this.title.appendChild(this.addproperty_controls);\n\n      // Show/Hide button\n      this.collapsed = false;\n      this.toggle_button = this.getButton('','collapse','Collapse');\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.collapsed) {\n          self.editor_holder.style.display = '';\n          self.collapsed = false;\n          self.setButtonText(self.toggle_button,'','collapse','Collapse');\n        }\n        else {\n          self.editor_holder.style.display = 'none';\n          self.collapsed = true;\n          self.setButtonText(self.toggle_button,'','expand','Expand');\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n      \n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n      \n      // Edit JSON Button\n      this.editjson_button = this.getButton('JSON','edit','Edit JSON');\n      this.editjson_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleEditJSON();\n      });\n      this.editjson_controls.appendChild(this.editjson_button);\n      this.editjson_controls.appendChild(this.editjson_holder);\n      \n      // Edit JSON Buttton disabled\n      if(this.schema.options && typeof this.schema.options.disable_edit_json !== \"undefined\") {\n        if(this.schema.options.disable_edit_json) this.editjson_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_edit_json) {\n        this.editjson_button.style.display = 'none';\n      }\n      \n      // Object Properties Button\n      this.addproperty_button = this.getButton('Properties','edit','Object Properties');\n      this.addproperty_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleAddProperty();\n      });\n      this.addproperty_controls.appendChild(this.addproperty_button);\n      this.addproperty_controls.appendChild(this.addproperty_holder);\n      this.refreshAddProperties();\n    }\n    \n    // Fix table cell ordering\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.property_order,function(i,key) {\n        self.editor_holder.appendChild(self.editors[key].container);\n      });\n    }\n    // Layout object editors in grid if needed\n    else {\n      // Initial layout\n      this.layoutEditors();\n      // Do it again now that we know the approximate heights of elements\n      this.layoutEditors();\n    }\n  },\n  showEditJSON: function() {\n    if(!this.editjson_holder) return;\n    this.hideAddProperty();\n    \n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.editjson_holder.style.left = this.editjson_button.offsetLeft+\"px\";\n    this.editjson_holder.style.top = this.editjson_button.offsetTop + this.editjson_button.offsetHeight+\"px\";\n    \n    // Start the textarea with the current value\n    this.editjson_textarea.value = JSON.stringify(this.getValue(),null,2);\n    \n    // Disable the rest of the form while editing JSON\n    this.disable();\n    \n    this.editjson_holder.style.display = '';\n    this.editjson_button.disabled = false;\n    this.editing_json = true;\n  },\n  hideEditJSON: function() {\n    if(!this.editjson_holder) return;\n    if(!this.editing_json) return;\n    \n    this.editjson_holder.style.display = 'none';\n    this.enable();\n    this.editing_json = false;\n  },\n  saveJSON: function() {\n    if(!this.editjson_holder) return;\n    \n    try {\n      var json = JSON.parse(this.editjson_textarea.value);\n      this.setValue(json);\n      this.hideEditJSON();\n    }\n    catch(e) {\n      window.alert('invalid JSON');\n      throw e;\n    }\n  },\n  toggleEditJSON: function() {\n    if(this.editing_json) this.hideEditJSON();\n    else this.showEditJSON();\n  },\n  insertPropertyControlUsingPropertyOrder: function (property, control, container) {\n    var propertyOrder = this.schema.properties[property].propertyOrder;\n    if (typeof propertyOrder !== \"number\") propertyOrder = 1000;\n    control.propertyOrder = propertyOrder;\n\n    for (var i = 0; i < container.childNodes.length; i++) {\n      var child = container.childNodes[i];\n      if (control.propertyOrder < child.propertyOrder) {\n        this.addproperty_list.insertBefore(control, child);\n        control = null;\n        break;\n      }\n    }\n    if (control) {\n      this.addproperty_list.appendChild(control);\n    }\n  },\n  addPropertyCheckbox: function(key) {\n    var self = this;\n    var checkbox, label, labelText, control;\n\n    checkbox = self.theme.getCheckbox();\n    checkbox.style.width = 'auto';\n\n    labelText = this.schema.properties[key].title ? this.schema.properties[key].title : key;\n    label = self.theme.getCheckboxLabel(labelText);\n\n    control = self.theme.getFormControl(label,checkbox,null,this.schema.info);\n    control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0;\n    control.style.height = 'auto';\n    //control.style.overflowY = 'hidden';\n\n    this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list);\n\n    checkbox.checked = key in this.editors;\n    checkbox.addEventListener('change',function() {\n      if(checkbox.checked) {\n        self.addObjectProperty(key);\n      }\n      else {\n        self.removeObjectProperty(key);\n      }\n      self.onChange(true);\n    });\n    self.addproperty_checkboxes[key] = checkbox;\n    \n    return checkbox;\n  },\n  showAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    this.hideEditJSON();\n    \n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.addproperty_holder.style.left = this.addproperty_button.offsetLeft+\"px\";\n    this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight+\"px\";\n    \n    // Disable the rest of the form while editing JSON\n    this.disable();\n    \n    this.adding_property = true;\n    this.addproperty_button.disabled = false;\n    this.addproperty_holder.style.display = '';\n    this.refreshAddProperties();\n  },\n  hideAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    if(!this.adding_property) return;\n    \n    this.addproperty_holder.style.display = 'none';\n    this.enable();\n    \n    this.adding_property = false;\n  },\n  toggleAddProperty: function() {\n    if(this.adding_property) this.hideAddProperty();\n    else this.showAddProperty();\n  },\n  removeObjectProperty: function(property) {\n    if(this.editors[property]) {\n      this.editors[property].unregister();\n      delete this.editors[property];\n      \n      this.refreshValue();\n      this.layoutEditors();\n    }\n  },\n  addObjectProperty: function(name, prebuild_only) {\n    var self = this;\n    \n    // Property is already added\n    if(this.editors[name]) return;\n    \n    // Property was added before and is cached\n    if(this.cached_editors[name]) {\n      this.editors[name] = this.cached_editors[name];\n      if(prebuild_only) return;\n      this.editors[name].register();\n    }\n    // New property\n    else {\n      if(!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\n        return;\n      }\n\n      var schema = self.getPropertySchema(name);\n      \n            \n      // Add the property\n      var editor = self.jsoneditor.getEditorClass(schema);\n\n      self.editors[name] = self.jsoneditor.createEditor(editor,{\n        jsoneditor: self.jsoneditor,\n        schema: schema,\n        path: self.path+'.'+name,\n        parent: self\n      });\n      self.editors[name].preBuild();\n      \n      if(!prebuild_only) {\n        var holder = self.theme.getChildEditorHolder();\n        self.editor_holder.appendChild(holder);\n        self.editors[name].setContainer(holder);\n        self.editors[name].build();\n        self.editors[name].postBuild();\n      }\n      \n      self.cached_editors[name] = self.editors[name];\n    }\n    \n    // If we're only prebuilding the editors, don't refresh values\n    if(!prebuild_only) {\n      self.refreshValue();\n      self.layoutEditors();\n    }\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super(editor);\n  },\n  canHaveAdditionalProperties: function() {\n    return (this.schema.additionalProperties === true) || !this.jsoneditor.options.no_additional_properties;\n  },\n  destroy: function() {\n    $each(this.cached_editors, function(i,el) {\n      el.destroy();\n    });\n    if(this.editor_holder) this.editor_holder.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder);\n\n    this.editors = null;\n    this.cached_editors = null;\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    this.editor_holder = null;\n\n    this._super();\n  },\n  getValue: function() {\n    var result = this._super();\n    if(this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\n      for(var i in result) {\n        if(result.hasOwnProperty(i)) {\n          if(!result[i]) delete result[i];\n        }\n      }\n    }\n    return result;\n  },\n  refreshValue: function() {\n    this.value = {};\n    var self = this;\n    \n    for(var i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      this.value[i] = this.editors[i].getValue();\n    }\n    \n    if(this.adding_property) this.refreshAddProperties();\n  },\n  refreshAddProperties: function() {\n    if(this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\n      this.addproperty_controls.style.display = 'none';\n      return;\n    }\n\n    var can_add = false, can_remove = false, num_props = 0, i, show_modal = false;\n    \n    // Get number of editors\n    for(i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      num_props++;\n    }\n    \n    // Determine if we can add back removed properties\n    can_add = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== \"undefined\" && num_props >= this.schema.maxProperties);\n    \n    if(this.addproperty_checkboxes) {\n      this.addproperty_list.innerHTML = '';\n    }\n    this.addproperty_checkboxes = {};\n    \n    // Check for which editors can't be removed or added back\n    for(i in this.cached_editors) {\n      if(!this.cached_editors.hasOwnProperty(i)) continue;\n      \n      this.addPropertyCheckbox(i);\n      \n      if(this.isRequired(this.cached_editors[i]) && i in this.editors) {\n        this.addproperty_checkboxes[i].disabled = true;\n      }\n      \n      if(typeof this.schema.minProperties !== \"undefined\" && num_props <= this.schema.minProperties) {\n        this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked;\n        if(!this.addproperty_checkboxes[i].checked) show_modal = true;\n      }\n      else if(!(i in this.editors)) {\n        if(!can_add  && !this.schema.properties.hasOwnProperty(i)) {\n          this.addproperty_checkboxes[i].disabled = true;\n        }\n        else {\n          this.addproperty_checkboxes[i].disabled = false;\n          show_modal = true;\n        }\n      }\n      else {\n        show_modal = true;\n        can_remove = true;\n      }\n    }\n    \n    if(this.canHaveAdditionalProperties()) {\n      show_modal = true;\n    }\n    \n    // Additional addproperty checkboxes not tied to a current editor\n    for(i in this.schema.properties) {\n      if(!this.schema.properties.hasOwnProperty(i)) continue;\n      if(this.cached_editors[i]) continue;\n      show_modal = true;\n      this.addPropertyCheckbox(i);\n    }\n    \n    // If no editors can be added or removed, hide the modal button\n    if(!show_modal) {\n      this.hideAddProperty();\n      this.addproperty_controls.style.display = 'none';\n    }\n    // If additional properties are disabled\n    else if(!this.canHaveAdditionalProperties()) {\n      this.addproperty_add.style.display = 'none';\n      this.addproperty_input.style.display = 'none';\n    }\n    // If no new properties can be added\n    else if(!can_add) {\n      this.addproperty_add.disabled = true;\n    }\n    // If new properties can be added\n    else {\n      this.addproperty_add.disabled = false;\n    }\n  },\n  isRequired: function(editor) {\n    if(typeof editor.schema.required === \"boolean\") return editor.schema.required;\n    else if(Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1;\n    else if(this.jsoneditor.options.required_by_default) return true;\n    else return false;\n  },\n  setValue: function(value, initial) {\n    var self = this;\n    value = value || {};\n    \n    if(typeof value !== \"object\" || Array.isArray(value)) value = {};\n\n    // First, set the values for all of the defined properties\n    $each(this.cached_editors, function(i,editor) {\n      // Value explicitly set\n      if(typeof value[i] !== \"undefined\") {\n        self.addObjectProperty(i);\n        editor.setValue(value[i],initial);\n      }\n      // Otherwise, remove value unless this is the initial set or it's required\n//      else if(!initial && !self.isRequired(editor)) {\n//        self.removeObjectProperty(i);\n//      }\n      // Otherwise, set the value to the default\n      else {\n        editor.setValue(editor.getDefault(),initial);\n      }\n    });\n\n    $each(value, function(i,val) {\n      if(!self.cached_editors[i]) {\n        self.addObjectProperty(i);\n        if(self.editors[i]) self.editors[i].setValue(val,initial);\n      }\n    });\n    \n    this.refreshValue();\n    this.layoutEditors();\n    this.onChange();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show error for the table row if this is inside a table\n    if(this.options.table_row) {\n      if(my_errors.length) {\n        this.theme.addTableRowError(this.container);\n      }\n      else {\n        this.theme.removeTableRowError(this.container);\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.editors, function(i,editor) {\n      editor.showValidationErrors(other_errors);\n    });\n  }\n});\n\n/* global cordova, Camera */ // jsHint global declarations\nJSONEditor.defaults.editors.imageFile = JSONEditor.AbstractEditor.extend({\n  getDefault: function () {\n    return this.schema.default || '';\n  },\n  setValue: function (value, initial, from_template) {\n    var self = this;\n\n    if (this.template && !from_template) {\n      return;\n    }\n\n    value = value || '';\n    if (typeof value === \"object\")\n      value = JSON.stringify(value);\n    if (typeof value !== \"string\")\n      value = \"\" + value;\n    if (value === this.serialized)\n      return;\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value);\n    if (this.select_options && this.select_options.indexOf(sanitized) < 0) {\n      sanitized = this.select_options[0];\n    }\n\n    if (this.input.value === sanitized) {\n      return;\n    }\n\n\n    this.input.value = sanitized;\n\n    var changed = from_template || this.getValue() !== value;\n\n    this.refreshValue();\n\n    if (changed) {\n      if (self.parent)\n        self.parent.onChildEditorChange(self);\n      else\n        self.jsoneditor.onChange();\n    }\n\n    this.watch_listener();\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  removeProperty: function () {\n    this._super();\n    this.input.style.display = 'none';\n    if (this.description)\n      this.description.style.display = 'none';\n    this.theme.disableLabel(this.label);\n  },\n  addProperty: function () {\n    this._super();\n    this.input.style.display = '';\n    if (this.description)\n      this.description.style.display = '';\n    this.theme.enableLabel(this.label);\n  },\n  build: function () {\n    var self = this;\n    if (!this.getOption('compact', false))\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    this.format = this.schema.format;\n    if (!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g, '');\n    }\n\n    // Specific format\n    if (this.format) {\n      // input type=file accept=image/*\n      if (this.format === 'imageFile') {\n        // inspired by:\n        //  http://stackoverflow.com/a/18803568/956779\n        var divElem = document.createElement('div');\n        divElem.setAttribute(\"class\", \"image-upload\");\n\n        var fileInput = this.theme.getFormInputField('file');\n        fileInput.setAttribute(\"accept\", \"image/*\");\n        fileInput.setAttribute(\"class\", \"hidden\");\n        var uuid = $uuid();\n        fileInput.setAttribute(\"id\", uuid);\n\n        var labelElem = document.createElement('label');\n        labelElem.setAttribute(\"for\", uuid);\n        var placeholderImg = document.createElement('img');\n        //TODO make this an option rather than a hard-coded image.\n        // An add-image image. stops us getting nasty broken image icons. This becomes a button.\n        placeholderImg.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBoZWlnaHQ9IjQ4cHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjQ4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxnPgogICAgPGc+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0yNTYgNDhDMTQxLjEgNDggNDggMTQxLjEgNDggMjU2czkzLjEgMjA4IDIwOCAyMDhjMTE0LjkgMCAyMDgtOTMuMSAyMDgtMjA4UzM3MC45IDQ4IDI1NiA0OHogTTI1NiA0NDYuNyBjLTEwNS4xIDAtMTkwLjctODUuNS0xOTAuNy0xOTAuN1MxNTAuOSA2NS4zIDI1NiA2NS4zUzQ0Ni43IDE1MC45IDQ0Ni43IDI1NlMzNjEuMSA0NDYuNyAyNTYgNDQ2Ljd6Ii8+CiAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjI2NC4xLDEyOCAyNDcuMywxMjggMjQ3LjMsMjQ3LjkgMTI4LDI0Ny45IDEyOCwyNjQuNyAyNDcuMywyNjQuNyAyNDcuMywzODQgMjY0LjEsMzg0IDI2NC4xLDI2NC43IDM4NCwyNjQuNyAzODQsMjQ3LjkgMjY0LjEsMjQ3LjkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\";\n\n        labelElem.appendChild(placeholderImg);\n\n        divElem.appendChild(labelElem);\n        divElem.appendChild(fileInput);\n\n        this.input = divElem;\n        this.input_type = 'file';\n      }\n    }\n\n\n    // minLength, maxLength, and pattern\n    if (typeof this.schema.maxLength !== \"undefined\")\n      this.input.setAttribute('maxlength', this.schema.maxLength);\n    if (typeof this.schema.pattern !== \"undefined\")\n      this.input.setAttribute('pattern', this.schema.pattern);\n    else if (typeof this.schema.minLength !== \"undefined\")\n      this.input.setAttribute('pattern', '.{' + this.schema.minLength + ',}');\n\n    if (this.getOption('compact'))\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    var eventName = 'change';\n    if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n      // the 'change' event doesn't seem to fire on android\n      eventName = 'click';\n    }\n\n    this.input\n            .addEventListener(eventName, function (e) {\n              var val = this.value,\n                      sanitized = self.sanitize(val), // sanitize value\n                      fileinput = this.querySelector(\"input[type=file]\"),\n                      imgelem = this.querySelector(\"img\");\n\n              e.preventDefault();\n              e.stopPropagation();\n\n              // Don't allow changing if this field is a template\n              if (self.schema.template) {\n                this.value = self.value;\n                return;\n              }\n\n              // sanitize value\n              if (val !== sanitized) {\n                this.value = sanitized;\n              }\n\n              // use cordova camera and notification plugins\n              function onImageNotChosenFail(message) {\n                navigator.notification.alert(\n                        'Failed because: ' + message, // message\n                        function () {\n                        }, // callback that does nothing\n                        'Failed', // title\n                        'OK'                  // buttonName\n                        );\n              }\n\n// process the confirmation dialog result\n              function obtainPicture(buttonIndex) {\n                if (buttonIndex === 1) {\n                  // take a new photo\n                  navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, {\n                    quality: 75, \n                    sourceType: Camera.PictureSourceType.CAMERA,\n                    destinationType: Camera.DestinationType.FILE_URI,\n                    correctOrientation: true,\n                    allowEdit: true,\n                    encodingType: Camera.EncodingType.JPEG\n                  });\n\n                } else {\n                  // Choose one from the library\n                  navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, {\n                    quality: 75,\n                    correctOrientation: true,\n                    destinationType: Camera.DestinationType.FILE_URI,\n                    sourceType: Camera.PictureSourceType.PHOTOLIBRARY,\n                    encodingType: Camera.EncodingType.JPEG,\n                    mediaType: Camera.MediaType.PICTURE\n                  }\n                  );\n                }\n              }\n\n\n              function onImageChosenSuccess(imageURI) {\n                // use the data URI as the result.\n                imgelem.src = imageURI;\n                // the value will be an object, with the dataURI and metadata\n                // set it up once the thumbnail has been loaded.\n                var imageObj = new Image();\n                imageObj.onload = function () {\n                  var type, name = this.src; \n\n                  var valueObj = {\n                    \"dataURI\": this.src,\n                    \"width\": this.width,\n                    \"name\": imageURI,\n                    \"height\": this.height //,\n//                        \"name\": file.name,\n//                        \"size\": file.size,\n//                        \"type\": file.type,\n//                        \"lastModificationDate\": file.lastModifiedDate\n                  };\n                  // try to derive image type from file name\n                  if (name.indexOf('.') !== -1) {\n                    // has an extension; use it for type\n                    valueObj.type = name.split('.')[1];\n                  }\n                  // if filename doesn't have an extension, try to derive one from the file type\n//                      if (file.name.indexOf(\".\") === -1) {\n//                        if (file.type.indexOf(\"/\") !== -1) {\n//                          valueObj.name += \".\" + file.type.split(\"/\")[1];\n//                        }\n//                      }\n                  self.setValue(valueObj);\n                };\n                imageObj.src = imageURI;\n\n                //TODO: Move this to theme and make it more flexible.\n                imgelem.style.maxWidth = \"25%\";\n                imgelem.style.maxHeight = \"25%\";\n\n              }\n\n\n              if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n                // Show a custom confirmation dialog\n                //\n                navigator.notification.confirm(\n                        'Where should the image come from?', // message\n                        obtainPicture, // callback to invoke with index of button pressed\n                        'Choose Image Source', // title\n                        ['Take Photo', 'Choose Existing']         // buttonLabels\n                        );\n              } else { // iOS or HTML\n                console.log(\"not android\");\n                if (window.File && window.FileReader && window.FileList && window.Blob) {\n\n                } else {\n                  console.error('The File APIs are not fully supported in this browser.');\n                  return;\n                }\n\n                if (!this) {\n                  console.error(\"Um, couldn't find the fileinput element.\");\n                }\n                else if (!fileinput.files) {\n                  console.error(\"This browser doesn't seem to support the `files` property of file inputs.\");\n                }\n                else if (!fileinput.files[0]) {\n                  console.error(\"Please select a file before clicking 'Load'\");\n                }\n                else {\n                  var file = fileinput.files[0];\n                  var fr = new FileReader();\n                  fr.onload = function (params) {\n                    // use the data URI as the result.\n                    imgelem.src = fr.result;\n                    // the value will be an object, with the dataURI and metadata\n                    // set it up once the thumbnail has been loaded.\n                    var imageObj = new Image();\n                    imageObj.onload = function () {\n                      var width = this.width;\n                      var height = this.height;\n                      // chrome doesn't seem to want to set a width and height.\n                      // get them from the thumbnail if we can.\n                      if (!width && !height) {\n                        width = imgelem.naturalWidth;\n                        height = imgelem.naturalHeight;\n                      }\n                      var valueObj = {\n                        \"dataURI\": this.src,\n                        \"width\": width,\n                        \"height\": height,\n                        \"name\": file.name,\n                        \"size\": file.size,\n                        \"type\": file.type,\n                        \"lastModificationDate\": file.lastModifiedDate\n                      };\n                      // if filename doesn't have an extension, try to derive one from the file type\n                      if (file.name.indexOf(\".\") === -1) {\n                        if (file.type.indexOf(\"/\") !== -1) {\n                          valueObj.name += \".\" + file.type.split(\"/\")[1];\n                        }\n                      }\n                      self.setValue(valueObj);\n                    };\n                    imageObj.src = fr.result;\n\n                    //TODO: Move this to theme and make it more flexible.\n                    imgelem.style.maxWidth = \"25%\";\n                    imgelem.style.maxHeight = \"25%\";\n                  };\n\n                  fr.readAsDataURL(file);\n                }\n              }\n\n              self.refreshValue();\n              self.watch_listener();\n              self.jsoneditor.notifyWatchers(self.path);\n              if (self.parent)\n                self.parent.onChildEditorChange(self);\n              else\n                self.jsoneditor.onChange();\n            });\n\n    if (this.format)\n      this.input.setAttribute('data-schemaformat', this.format);\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    this.container.appendChild(this.control);\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    requestAnimationFrame(function () {\n      self.afterInputReady();\n    });\n\n    this.refreshValue();\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    this._super();\n  },\n  afterInputReady: function () {\n    var self = this;\n\n    // Code editor\n    self.theme.afterInputReady(self.input);\n  },\n  refreshValue: function () {\n    this.value = this.input.value;\n    if (typeof this.value !== \"string\")\n      this.value = '';\n    this.serialized = this.value;\n  },\n  destroy: function () {\n\n\n    this.template = null;\n    this.input.parentNode.removeChild(this.input);\n    if (this.label)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description)\n      this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var self = this;\n    var vars;\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars), false, true);\n    }\n\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\nJSONEditor.defaults.editors.array = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return this.schema.default || [];\n  },\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    var info = this.getItemInfo(0);\n    // Tabs require extra horizontal space\n    if(this.tabs_holder) {\n      return Math.max(Math.min(12,info.width+2),4);\n    }\n    else {\n      return info.width;\n    }\n  },\n  enable: function() {\n    if(this.add_row_button) this.add_row_button.disabled = false;\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = false;\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = false;\n    \n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].enable();\n        \n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false;\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false;\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = false;\n      }\n    }\n    this._super();\n  },\n  disable: function() {\n    if(this.add_row_button) this.add_row_button.disabled = true;\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = true;\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = true;\n\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].disable();\n        \n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true;\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true;\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = true;\n      }\n    }\n    this._super();\n  },\n  preBuild: function() {\n    this._super();\n    \n    this.rows = [];\n    this.row_cache = [];\n\n    this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete;\n    this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder;\n    this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add;\n  },\n  build: function() {\n    var self = this;\n\n    if(!this.options.compact) {\n      this.header = document.createElement('span');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n\n      if(this.schema.format === 'tabs') {\n        this.controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.controls);\n        this.tabs_holder = this.theme.getTabHolder();\n        this.container.appendChild(this.tabs_holder);\n        this.row_holder = this.theme.getTabContentHolder(this.tabs_holder);\n\n        this.active_tab = null;\n      }\n      else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n        this.controls = this.theme.getButtonHolder();\n        this.panel.appendChild(this.controls);\n      }\n    }\n    else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.controls = this.theme.getButtonHolder();\n        this.panel.appendChild(this.controls);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n    }\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this.refreshTabs(true);\n    this._super(editor);\n  },\n  getItemTitle: function() {\n    if(!this.item_title) {\n      if(this.schema.items && !Array.isArray(this.schema.items)) {\n        var tmp = this.jsoneditor.expandRefs(this.schema.items);\n        this.item_title = tmp.title || 'item';\n      }\n      else {\n        this.item_title = 'item';\n      }\n    }\n    return this.item_title;\n  },\n  getItemSchema: function(i) {\n    if(Array.isArray(this.schema.items)) {\n      if(i >= this.schema.items.length) {\n        if(this.schema.additionalItems===true) {\n          return {};\n        }\n        else if(this.schema.additionalItems) {\n          return $extend({},this.schema.additionalItems);\n        }\n      }\n      else {\n        return $extend({},this.schema.items[i]);\n      }\n    }\n    else if(this.schema.items) {\n      return $extend({},this.schema.items);\n    }\n    else {\n      return {};\n    }\n  },\n  getItemInfo: function(i) {\n    var schema = this.getItemSchema(i);\n    \n    // Check if it's cached\n    this.item_info = this.item_info || {};\n    var stringified = JSON.stringify(schema);\n    if(typeof this.item_info[stringified] !== \"undefined\") return this.item_info[stringified];\n    \n    // Get the schema for this item\n    schema = this.jsoneditor.expandRefs(schema);\n      \n    this.item_info[stringified] = {\n      title: schema.title || \"item\",\n      'default': schema.default,\n      width: 12,\n      child_editors: schema.properties || schema.items,\n      title_counter_offset: schema.title_counter_offset || 0\n    };\n    \n    return this.item_info[stringified];\n  },\n  getElementEditor: function(i) {\n    var item_info = this.getItemInfo(i);\n    var schema = this.getItemSchema(i);\n    schema = this.jsoneditor.expandRefs(schema);\n    if (item_info.title_counter_offset) {\n      schema.title = item_info.title+' '+(i+1+item_info.title_counter_offset);\n    } else {\n      schema.title = item_info.title+' '+(i+1);\n    }\n    var editor = this.jsoneditor.getEditorClass(schema);\n\n    var holder;\n    if(this.tabs_holder) {\n      holder = this.theme.getTabContent();\n    }\n    else if(item_info.child_editors) {\n      holder = this.theme.getChildEditorHolder();\n    }\n    else {\n      holder = this.theme.getIndentedPanel();\n    }\n\n    this.row_holder.appendChild(holder);\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      required: true\n    });\n    ret.preBuild();\n    ret.build();\n    ret.postBuild();\n\n    if(!ret.title_controls) {\n      ret.array_controls = this.theme.getButtonHolder();\n      holder.appendChild(ret.array_controls);\n    }\n    \n    return ret;\n  },\n  destroy: function() {\n    this.empty(true);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n    \n    this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null;\n\n    this._super();\n  },\n  empty: function(hard) {\n    if(!this.rows) return;\n    var self = this;\n    $each(this.rows,function(i,row) {\n      if(hard) {\n        if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n        self.destroyRow(row,true);\n        self.row_cache[i] = null;\n      }\n      self.rows[i] = null;\n    });\n    self.rows = [];\n    if(hard) self.row_cache = [];\n  },\n  destroyRow: function(row,hard) {\n    var holder = row.container;\n    if(hard) {\n      row.destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n    }\n    else {\n      if(row.tab) row.tab.style.display = 'none';\n      holder.style.display = 'none';\n      row.unregister();\n    }\n  },\n  getMax: function() {\n    if((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\n      return Math.min(this.schema.items.length,this.schema.maxItems || Infinity);\n    }\n    else {\n      return this.schema.maxItems || Infinity;\n    }\n  },\n  refreshTabs: function(refresh_headers) {\n    var self = this;\n    $each(this.rows, function(i,row) {\n      if(!row.tab) return;\n\n      if(refresh_headers) {\n        row.tab_text.textContent = row.getHeaderText();\n      }\n      else {\n        if(row.tab === self.active_tab) {\n          self.theme.markTabActive(row.tab);\n          row.container.style.display = '';\n        }\n        else {\n          self.theme.markTabInactive(row.tab);\n          row.container.style.display = 'none';\n        }\n      }\n    });\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n    \n    if(!(Array.isArray(value))) value = [value];\n    \n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemInfo(value.length).default);\n      }\n    }\n    if(this.getMax() && value.length > this.getMax()) {\n      value = value.slice(0,this.getMax());\n    }\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val,initial);\n      }\n      else if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].setValue(val,initial);\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow(val,initial);\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      self.destroyRow(self.rows[j]);\n      self.rows[j] = null;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    // Set the active tab\n    var new_active_tab = null;\n    $each(self.rows, function(i,row) {\n      if(row.tab === self.active_tab) {\n        new_active_tab = row.tab;\n        return false;\n      }\n    });\n    if(!new_active_tab && self.rows.length) new_active_tab = self.rows[0].tab;\n\n    self.active_tab = new_active_tab;\n\n    self.refreshValue(initial);\n    self.refreshTabs();\n\n    self.onChange();\n    \n    // TODO: sortable\n  },\n  refreshValue: function(force) {\n    var self = this;\n    var oldi = this.value? this.value.length : 0;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n    \n    if(oldi !== this.value.length || force) {\n      // If we currently have minItems items in the array\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n      \n      $each(this.rows,function(i,editor) {\n        // Hide the move down button for the last row\n        if(editor.movedown_buttons) {\n          if(i === self.rows.length - 1) {\n            editor.movedown_button.style.display = 'none';\n          }\n          else {\n            editor.movedown_button.style.display = '';\n          }\n        }\n\n        // Hide the delete button if we have minItems items\n        if(editor.delete_button) {\n          if(minItems) {\n            editor.delete_button.style.display = 'none';\n          }\n          else {\n            editor.delete_button.style.display = '';\n          }\n        }\n\n        // Get the value for this editor\n        self.value[i] = editor.getValue();\n      });\n      \n      var controls_needed = false;\n      \n      if(!this.value.length) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else if(this.value.length === 1) {      \n        this.remove_all_rows_button.style.display = 'none';  \n\n        // If there are minItems items in the array, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n      else {\n        // If there are minItems items in the array, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n          this.remove_all_rows_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          this.remove_all_rows_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n\n      // If there are maxItems in the array, hide the add button beneath the rows\n      if((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button){\n        this.add_row_button.style.display = 'none';\n      }\n      else {\n        this.add_row_button.style.display = '';\n        controls_needed = true;\n      } \n      \n      if(!this.collapsed && controls_needed) {\n        this.controls.style.display = 'inline-block';\n      }\n      else {\n        this.controls.style.display = 'none';\n      }\n    }\n  },\n  addRow: function(value, initial) {\n    var self = this;\n    var i = this.rows.length;\n    \n    self.rows[i] = this.getElementEditor(i);\n    self.row_cache[i] = self.rows[i];\n\n    if(self.tabs_holder) {\n      self.rows[i].tab_text = document.createElement('span');\n      self.rows[i].tab_text.textContent = self.rows[i].getHeaderText();\n      self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text);\n      self.rows[i].tab.addEventListener('click', function(e) {\n        self.active_tab = self.rows[i].tab;\n        self.refreshTabs();\n        e.preventDefault();\n        e.stopPropagation();\n      });\n\n      self.theme.addTab(self.tabs_holder, self.rows[i].tab);\n    }\n    \n    var controls_holder = self.rows[i].title_controls || self.rows[i].array_controls;\n    \n    // Buttons to delete row, move row up, and move row down\n    if(!self.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton(self.getItemTitle(),'delete','Delete '+self.getItemTitle());\n      self.rows[i].delete_button.className += ' delete';\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var value = self.getValue();\n\n        var newval = [];\n        var new_active_tab = null;\n        $each(value,function(j,row) {\n          if(j===i) {\n            // If the one we're deleting is the active tab\n            if(self.rows[j].tab === self.active_tab) {\n              // Make the next tab active if there is one\n              // Note: the next tab is going to be the current tab after deletion\n              if(self.rows[j+1]) new_active_tab = self.rows[j].tab;\n              // Otherwise, make the previous tab active if there is one\n              else if(j) new_active_tab = self.rows[j-1].tab;\n            }\n            \n            return; // If this is the one we're deleting\n          }\n          newval.push(row);\n        });\n        self.setValue(newval);\n        if(new_active_tab) {\n          self.active_tab = new_active_tab;\n          self.refreshTabs();\n        }\n\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].delete_button);\n      }\n    }\n    \n    if(i && !self.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup','Move up');\n      self.rows[i].moveup_button.className += ' moveup';\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i-1].tab;\n        self.refreshTabs();\n\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].moveup_button);\n      }\n    }\n    \n    if(!self.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown','Move down');\n      self.rows[i].movedown_button.className += ' movedown';\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i+1].tab;\n        self.refreshTabs();\n        self.onChange(true);\n      });\n      \n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].movedown_button);\n      }\n    }\n\n    if(value) self.rows[i].setValue(value, initial);\n    self.refreshTabs();\n  },\n  addControls: function() {\n    var self = this;\n    \n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse','Collapse');\n    this.title_controls.appendChild(this.toggle_button);\n    var row_holder_display = self.row_holder.style.display;\n    var controls_display = self.controls.style.display;\n    this.toggle_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if(self.collapsed) {\n        self.collapsed = false;\n        if(self.panel) self.panel.style.display = '';\n        self.row_holder.style.display = row_holder_display;\n        if(self.tabs_holder) self.tabs_holder.style.display = '';\n        self.controls.style.display = controls_display;\n        self.setButtonText(this,'','collapse','Collapse');\n      }\n      else {\n        self.collapsed = true;\n        self.row_holder.style.display = 'none';\n        if(self.tabs_holder) self.tabs_holder.style.display = 'none';\n        self.controls.style.display = 'none';\n        if(self.panel) self.panel.style.display = 'none';\n        self.setButtonText(this,'','expand','Expand');\n      }\n    });\n\n    // If it should start collapsed\n    if(this.options.collapsed) {\n      $trigger(this.toggle_button,'click');\n    }\n    \n    // Collapse button disabled\n    if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n      if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n    }\n    else if(this.jsoneditor.options.disable_collapse) {\n      this.toggle_button.style.display = 'none';\n    }\n    \n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add','Add '+this.getItemTitle());\n    \n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      // Custom validation callback when the user hits the \"add item\" button.\n      if (self.schema.beforeAddValidationCallback && (typeof self.schema.beforeAddValidationCallback === \"function\")) {\n        if (!self.schema.beforeAddValidationCallback(self.rows)) {\n          // validation failed.\n          return;\n        }\n      }\n      var i = self.rows.length;\n      if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow();\n      }\n      self.active_tab = self.rows[i].tab;\n      self.refreshTabs();\n      self.refreshValue();\n      // Custom callback when the user hits the \"add item\" button.\n      if (self.schema.arrayAddCallback && (typeof self.schema.arrayAddCallback === \"function\")) {\n        self.schema.arrayAddCallback(self.rows);\n      }       \n      self.onChange(true);\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton('Last '+this.getItemTitle(),'delete','Delete Last '+this.getItemTitle());\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var rows = self.getValue();\n      \n      var new_active_tab = null;\n      if(self.rows.length > 1 && self.rows[self.rows.length-1].tab === self.active_tab) new_active_tab = self.rows[self.rows.length-2].tab;\n      \n      rows.pop();\n      self.setValue(rows);\n      if(new_active_tab) {\n        self.active_tab = new_active_tab;\n        self.refreshTabs();\n      }\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton('All','delete','Delete All');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.setValue([]);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n\n    if(self.tabs) {\n      this.add_row_button.style.width = '100%';\n      this.add_row_button.style.textAlign = 'left';\n      this.add_row_button.style.marginBottom = '3px';\n      if (!this.schema.noDeleteLastRowButton) {\n      \n      this.delete_last_row_button.style.width = '100%';\n      this.delete_last_row_button.style.textAlign = 'left';\n      this.delete_last_row_button.style.marginBottom = '3px';\n      }\n      if (!this.schema.noDeleteAllButton) {\n      this.remove_all_rows_button.style.width = '100%';\n      this.remove_all_rows_button.style.textAlign = 'left';\n      this.remove_all_rows_button.style.marginBottom = '3px';\n    }\n    }\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.rows, function(i,row) {\n      row.showValidationErrors(other_errors);\n    });\n  }\n});\n\nJSONEditor.defaults.editors.imageFileArray = JSONEditor.defaults.editors.array.extend({\n  addControls: function() {\n    return this._super();\n  }\n});\nJSONEditor.defaults.editors.table = JSONEditor.defaults.editors.array.extend({\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.width),3);\n  },\n  preBuild: function() {\n    var item_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    this.item_title = item_schema.title || 'row';\n    this.item_default = item_schema.default || null;\n    this.item_has_child_editors = item_schema.properties || item_schema.items;\n    this.width = 12;\n    this._super();\n  },\n  build: function() {\n    var self = this;\n    this.table = this.theme.getTable();\n    this.container.appendChild(this.table);\n    this.thead = this.theme.getTableHead();\n    this.table.appendChild(this.thead);\n    this.header_row = this.theme.getTableRow();\n    this.thead.appendChild(this.header_row);\n    this.row_holder = this.theme.getTableBody();\n    this.table.appendChild(this.row_holder);\n\n    // Determine the default value of array element\n    var tmp = this.getElementEditor(0,true);\n    this.item_default = tmp.getDefault();\n    this.width = tmp.getNumColumns() + 2;\n    \n    if(!this.options.compact) {\n      this.title = this.theme.getHeader(this.getTitle());\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.panel = this.theme.getIndentedPanel();\n      this.container.appendChild(this.panel);\n      this.error_holder = document.createElement('div');\n      this.panel.appendChild(this.error_holder);\n    }\n    else {\n      this.panel = document.createElement('div');\n      this.container.appendChild(this.panel);\n    }\n\n    this.panel.appendChild(this.table);\n    this.controls = this.theme.getButtonHolder();\n    this.panel.appendChild(this.controls);\n\n    if(this.item_has_child_editors) {\n      $each(tmp.getChildEditors(), function(i,editor) {\n        var th = self.theme.getTableHeaderCell(editor.getTitle());\n        if(editor.options.hidden) th.style.display = 'none';\n        self.header_row.appendChild(th);\n      });\n    }\n    else {\n      self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));\n    }\n\n    tmp.destroy();\n    this.row_holder.innerHTML = '';\n\n    // Row Controls column\n    this.controls_header_cell = self.theme.getTableHeaderCell(\" \");\n    self.header_row.appendChild(this.controls_header_cell);\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super();\n  },\n  getItemDefault: function() {\n    return $extend({},{default:this.item_default}).default;\n  },\n  getItemTitle: function() {\n    return this.item_title;\n  },\n  getElementEditor: function(i,ignore) {\n    var schema_copy = $extend({},this.schema.items);\n    var editor = this.jsoneditor.getEditorClass(schema_copy, this.jsoneditor);\n    var row = this.row_holder.appendChild(this.theme.getTableRow());\n    var holder = row;\n    if(!this.item_has_child_editors) {\n      holder = this.theme.getTableCell();\n      row.appendChild(holder);\n    }\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema_copy,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      compact: true,\n      table_row: true\n    });\n    \n    ret.preBuild();\n    if(!ignore) {\n      ret.build();\n      ret.postBuild();\n\n      ret.controls_cell = row.appendChild(this.theme.getTableCell());\n      ret.row = row;\n      ret.table_controls = this.theme.getButtonHolder();\n      ret.controls_cell.appendChild(ret.table_controls);\n      ret.table_controls.style.margin = 0;\n      ret.table_controls.style.padding = 0;\n    }\n    \n    return ret;\n  },\n  destroy: function() {\n    this.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n\n    this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null;\n\n    this._super();\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemDefault());\n      }\n    }\n    if(this.schema.maxItems && value.length > this.schema.maxItems) {\n      value = value.slice(0,this.schema.maxItems);\n    }\n    \n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    var numrows_changed = false;\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val);\n      }\n      else {\n        self.addRow(val);\n        numrows_changed = true;\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      var holder = self.rows[j].container;\n      if(!self.item_has_child_editors) {\n        self.rows[j].row.parentNode.removeChild(self.rows[j].row);\n      }\n      self.rows[j].destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      self.rows[j] = null;\n      numrows_changed = true;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    self.refreshValue();\n    if(numrows_changed || initial) self.refreshRowButtons();\n\n    self.onChange();\n          \n    // TODO: sortable\n  },\n  refreshRowButtons: function() {\n    var self = this;\n    \n    // If we currently have minItems items in the array\n    var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n    \n    var need_row_buttons = false;\n    $each(this.rows,function(i,editor) {\n      // Hide the move down button for the last row\n      if(editor.movedown_button) {\n        if(i === self.rows.length - 1) {\n          editor.movedown_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.movedown_button.style.display = '';\n        }\n      }\n\n      // Hide the delete button if we have minItems items\n      if(editor.delete_button) {\n        if(minItems) {\n          editor.delete_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.delete_button.style.display = '';\n        }\n      }\n      \n      if(editor.moveup_button) {\n        need_row_buttons = true;\n      }\n    });\n    \n    // Show/hide controls column in table\n    $each(this.rows,function(i,editor) {\n      if(need_row_buttons) {\n        editor.controls_cell.style.display = '';\n      }\n      else {\n        editor.controls_cell.style.display = 'none';\n      }\n    });\n    if(need_row_buttons) {\n      this.controls_header_cell.style.display = '';\n    }\n    else {\n      this.controls_header_cell.style.display = 'none';\n    }\n    \n    var controls_needed = false;\n  \n    if(!this.value.length) {\n      this.delete_last_row_button.style.display = 'none';\n      this.remove_all_rows_button.style.display = 'none';\n      this.table.style.display = 'none';\n    }\n    else if(this.value.length === 1  || this.hide_delete_buttons) {\n      this.table.style.display = '';\n      this.remove_all_rows_button.style.display = 'none';\n\n      // If there are minItems items in the array, hide the delete button beneath the rows\n      if(minItems || this.hide_delete_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n    else {\n      this.table.style.display = '';\n      // If there are minItems items in the array, hide the delete button beneath the rows\n      if(minItems || this.hide_delete_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        this.remove_all_rows_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n\n    // If there are maxItems in the array, hide the add button beneath the rows\n    if((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\n      this.add_row_button.style.display = 'none';\n    }\n    else {\n      this.add_row_button.style.display = '';\n      controls_needed = true;\n    }\n    \n    if(!controls_needed) {\n      this.controls.style.display = 'none';\n    }\n    else {\n      this.controls.style.display = '';\n    }\n  },\n  refreshValue: function() {\n    var self = this;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n    this.serialized = JSON.stringify(this.value);\n  },\n  addRow: function(value) {\n    var self = this;\n    var i = this.rows.length;\n\n    self.rows[i] = this.getElementEditor(i);\n\n    var controls_holder = self.rows[i].table_controls;\n\n    // Buttons to delete row, move row up, and move row down\n    if(!this.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton('','delete','Delete');\n      self.rows[i].delete_button.className += ' delete';\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var value = self.getValue();\n\n        var newval = [];\n        $each(value,function(j,row) {\n          if(j===i) return; // If this is the one we're deleting\n          newval.push(row);\n        });\n        self.setValue(newval);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].delete_button);\n    }\n\n    \n    if(i && !this.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup','Move up');\n      self.rows[i].moveup_button.className += ' moveup';\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].moveup_button);\n    }\n    \n    if(!this.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown','Move down');\n      self.rows[i].movedown_button.className += ' movedown';\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].movedown_button);\n    }\n\n    if(value) self.rows[i].setValue(value);\n  },\n  addControls: function() {\n    var self = this;\n\n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse','Collapse');\n    if(this.title_controls) {\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if(self.collapsed) {\n          self.collapsed = false;\n          self.panel.style.display = '';\n          self.setButtonText(this,'','collapse','Collapse');\n        }\n        else {\n          self.collapsed = true;\n          self.panel.style.display = 'none';\n          self.setButtonText(this,'','expand','Expand');\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n\n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add','Add '+this.getItemTitle());\n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.addRow();\n      self.refreshValue();\n      self.refreshRowButtons();\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton('Last '+this.getItemTitle(),'delete','Delete Last '+this.getItemTitle());\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      var rows = self.getValue();\n      rows.pop();\n      self.setValue(rows);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton('All','delete','Delete All');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.setValue([]);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n  }\n});\n\n// Multiple Editor (for when `type` is an array)\nJSONEditor.defaults.editors.multiple = JSONEditor.AbstractEditor.extend({\n  register: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n      if(this.editors[this.type]) this.editors[this.type].register();\n    }\n    this._super();\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    if(!this.editors[this.type]) return 4;\n    return Math.max(this.editors[this.type].getNumColumns(),4);\n  },\n  enable: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].enable();\n      }\n    }\n    this.switcher.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].disable();\n      }\n    }\n    this.switcher.disabled = true;\n    this._super();\n  },\n  switchEditor: function(i) {\n    var self = this;\n    \n    if(!this.editors[i]) {\n      this.buildChildEditor(i);\n    }\n    \n    self.type = i;\n\n    self.register();\n\n    var current_value = self.getValue();\n\n    $each(self.editors,function(type,editor) {\n      if(!editor) return;\n      if(self.type === type) {\n        editor.setValue(current_value,true);\n        editor.container.style.display = '';\n      }\n      else editor.container.style.display = 'none';\n    });\n    self.refreshValue();\n    self.refreshHeaderText();\n  },\n  buildChildEditor: function(i) {\n    var self = this;\n    var type = this.types[i];\n    var holder = self.theme.getChildEditorHolder();\n    self.editor_holder.appendChild(holder);\n\n    var schema;\n    \n    if(typeof type === \"string\") {\n      schema = $extend({},self.schema);\n      schema.type = type;\n    }\n    else {\n      schema = $extend({},self.schema,type);\n      schema = self.jsoneditor.expandRefs(schema);\n\n      // If we need to merge `required` arrays\n      if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n        schema.required = self.schema.required.concat(type.required);\n      }\n    }\n\n    var editor = self.jsoneditor.getEditorClass(schema);\n\n    self.editors[i] = self.jsoneditor.createEditor(editor,{\n      jsoneditor: self.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: self.path,\n      parent: self,\n      required: true\n    });\n    self.editors[i].preBuild();\n    self.editors[i].build();\n    self.editors[i].postBuild();\n    \n    if(self.editors[i].header) self.editors[i].header.style.display = 'none';\n    \n    self.editors[i].option = self.switcher_options[i];\n    \n    holder.addEventListener('change_header_text',function() {\n      self.refreshHeaderText();\n    });\n\n    if(i !== self.type) holder.style.display = 'none';\n  },\n  preBuild: function() {\n    var self = this;\n\n    this.types = [];\n    this.type = 0;\n    this.editors = [];\n    this.validators = [];\n\n    if(this.schema.oneOf) {\n      this.oneOf = true;\n      this.types = this.schema.oneOf;\n      $each(this.types,function(i,oneof) {\n        //self.types[i] = self.jsoneditor.expandSchema(oneof);\n      });\n      delete this.schema.oneOf;\n    }\n    else {\n      if(!this.schema.type || this.schema.type === \"any\") {\n        this.types = ['string','number','integer','boolean','object','array','null'];\n\n        // If any of these primitive types are disallowed\n        if(this.schema.disallow) {\n          var disallow = this.schema.disallow;\n          if(typeof disallow !== 'object' || !(Array.isArray(disallow))) {\n            disallow = [disallow];\n          }\n          var allowed_types = [];\n          $each(this.types,function(i,type) {\n            if(disallow.indexOf(type) === -1) allowed_types.push(type);\n          });\n          this.types = allowed_types;\n        }\n      }\n      else if(Array.isArray(this.schema.type)) {\n        this.types = this.schema.type;\n      }\n      else {\n        this.types = [this.schema.type];\n      }\n      delete this.schema.type;\n    }\n\n    this.display_text = this.getDisplayText(this.types);\n  },\n  build: function() {\n    var self = this;\n    var container = this.container;\n\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.header);\n\n    this.switcher = this.theme.getSwitcher(this.display_text);\n    container.appendChild(this.switcher);\n    this.switcher.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      self.switchEditor(self.display_text.indexOf(this.value));\n      self.onChange(true);\n    });\n    this.switcher.style.marginBottom = 0;\n    this.switcher.style.width = 'auto';\n    this.switcher.style.display = 'inline-block';\n    this.switcher.style.marginLeft = '5px';\n\n    this.editor_holder = document.createElement('div');\n    container.appendChild(this.editor_holder);\n\n    this.switcher_options = this.theme.getSwitcherOptions(this.switcher);\n    $each(this.types,function(i,type) {\n      self.editors[i] = false;\n      \n      var schema;\n      \n      if(typeof type === \"string\") {\n        schema = $extend({},self.schema);\n        schema.type = type;\n      }\n      else {\n        schema = $extend({},self.schema,type);\n\n        // If we need to merge `required` arrays\n        if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n          schema.required = self.schema.required.concat(type.required);\n        }\n      }\n\n      self.validators[i] = new JSONEditor.Validator(self.jsoneditor,schema);\n    });\n    \n    this.switchEditor(0);\n  },\n  onChildEditorChange: function(editor) {\n    if(this.editors[this.type]) {\n      this.refreshValue();\n      this.refreshHeaderText();\n    }\n    \n    this._super();\n  },\n  refreshHeaderText: function() {\n    var display_text = this.getDisplayText(this.types);\n    $each(this.switcher_options, function(i,option) {\n      option.textContent = display_text[i];\n    });\n  },\n  refreshValue: function() {\n    this.value = this.editors[this.type].getValue();\n  },\n  setValue: function(val,initial) {\n    // Determine type by getting the first one that validates\n    var self = this;\n    $each(this.validators, function(i,validator) {\n      if(!validator.validate(val).length) {\n        self.type = i;\n        self.switcher.value = self.display_text[i];\n        return false;\n      }\n    });\n    \n    this.switchEditor(this.type);\n\n    this.editors[this.type].setValue(val,initial);\n\n    this.refreshValue();\n    self.onChange();\n  },\n  destroy: function() {\n    $each(this.editors, function(type,editor) {\n      if(editor) editor.destroy();\n    });\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n    this._super();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n    \n    // oneOf error paths need to remove the oneOf[i] part before passing to child editors\n    if(this.oneOf) {\n      $each(this.editors,function(i,editor) {\n        if(!editor) return;\n        var check = self.path+'.oneOf['+i+']';\n        var new_errors = [];\n        $each(errors, function(j,error) {\n          if(error.path.substr(0,check.length)===check) {\n            var new_error = $extend({},error);\n            new_error.path = self.path+new_error.path.substr(check.length);\n            new_errors.push(new_error);\n          }\n        });\n        \n        editor.showValidationErrors(new_errors);\n      });\n    }\n    else {\n      $each(this.editors,function(type,editor) {\n        if(!editor) return;\n        editor.showValidationErrors(errors);\n      });\n    }\n  }\n});\n\n// Enum Editor (used for objects and arrays with enumerated values)\nJSONEditor.defaults.editors.enum = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {\n    var container = this.container;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.title);\n\n    this.options.enum_titles = this.options.enum_titles || [];\n\n    this.enum = this.schema.enum;\n    this.selected = 0;\n    this.select_options = [];\n    this.html_values = [];\n\n    var self = this;\n    for(var i=0; i<this.enum.length; i++) {\n      this.select_options[i] = this.options.enum_titles[i] || \"Value \"+(i+1);\n      this.html_values[i] = this.getHTML(this.enum[i]);\n    }\n\n    // Switcher\n    this.switcher = this.theme.getSwitcher(this.select_options);\n    this.container.appendChild(this.switcher);\n    this.switcher.style.width = 'auto';\n    this.switcher.style.display = 'inline-block';\n    this.switcher.style.marginLeft = '5px';\n    this.switcher.style.marginBottom = 0;\n\n    // Display area\n    this.display_area = this.theme.getIndentedPanel();\n    this.display_area.style.paddingTop = 0;\n    this.display_area.style.paddingBottom = 0;\n    this.container.appendChild(this.display_area);\n    \n    if(this.options.hide_display) this.display_area.style.display = \"none\";\n\n    this.theme.attachHandlers(this.switcher, function() {\n      self.selected = self.select_options.indexOf(this.value);\n      self.value = self.enum[self.selected];\n      self.refreshValue();\n      self.onChange(true);\n    });\n\n    this.value = this.enum[0];\n    this.refreshValue();\n    this.theme.afterRefresh(this.switcher);\n\n    if(this.enum.length === 1) this.switcher.style.display = 'none';\n  },\n  refreshValue: function() {\n    var self = this;\n    self.selected = -1;\n    var stringified = JSON.stringify(this.value);\n    $each(this.enum, function(i, el) {\n      if(stringified === JSON.stringify(el)) {\n        self.selected = i;\n        return false;\n      }\n    });\n\n    if(self.selected<0) {\n      self.setValue(self.enum[0]);\n      return;\n    }\n\n    this.switcher.value = this.select_options[this.selected];\n    this.display_area.innerHTML = this.html_values[this.selected];\n  },\n  enable: function() {\n    if(!this.always_disabled) this.switcher.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    this.switcher.disabled = true;\n    this._super();\n  },\n  getHTML: function(el) {\n    var self = this;\n\n    if(el === null) {\n      return '<em>null</em>';\n    }\n    // Array or Object\n    else if(typeof el === \"object\") {\n      // TODO: use theme\n      var ret = '';\n\n      $each(el,function(i,child) {\n        var html = self.getHTML(child);\n\n        // Add the keys to object children\n        if(!(Array.isArray(el))) {\n          // TODO: use theme\n          html = '<div><em>'+i+'</em>: '+html+'</div>';\n        }\n\n        // TODO: use theme\n        ret += '<li>'+html+'</li>';\n      });\n      \n      if(Array.isArray(el)) ret = '<ol>'+ret+'</ol>';\n      else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\"+ret+'</ul>';\n\n      return ret;\n    }\n    // Boolean\n    else if(typeof el === \"boolean\") {\n      return el? 'true' : 'false';\n    }\n    // String\n    else if(typeof el === \"string\") {\n      return el.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n    }\n    // Number\n    else {\n      return el;\n    }\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.refreshValue();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.checkbox = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return this.schema.default || '';\n  },\n  setValue: function(value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (this.enum_values.indexOf(sanitized) < 0) {\n      sanitized = this.enum_values[0];\n    }\n\n\n    // set value straight from the \"checked\" property.\n    this.value = sanitized;\n    this.input.checked = sanitized;\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  typecast: function(value) {\n    if (this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if (this.schema.type === \"number\") {\n      return 1 * value;\n    }\n    else if (this.schema.type === \"integer\") {\n      return Math.floor(value * 1);\n    }\n    else {\n      return \"\" + value;\n    }\n  },\n  getValue: function() {\n    return this.value;\n  },\n  removeProperty: function() {\n    this._super();\n    this.input.style.display = 'none';\n    if (this.description)\n      this.description.style.display = 'none';\n    this.theme.disableLabel(this.label);\n  },\n  addProperty: function() {\n    this._super();\n    this.input.style.display = '';\n    if (this.description)\n      this.description.style.display = '';\n    this.theme.enableLabel(this.label);\n  },\n  // override updateHeaderText as it destroys our checkboxes\n  updateHeaderText: function() {\n    if (this.header && this.schema.format !== \"checkbox\") {\n      this.header.textContent = this.getHeaderText();\n    }\n  },\n  build: function() {\n    var self = this;\n    // if (!this.getOption('compact', false))\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    this.input_type = 'checkbox';\n    this.enum_values = [];\n\n    self.enum_values = [true, false];\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n    if (this.schema.format === \"checkbox\" && this.schema.type === \"boolean\") {\n      this.input = this.theme.getCheckbox(this.path, this.schema.default);\n    }\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    var eventName = 'change'; // use onchange for select events, onclick for checkbox\n    this.input.addEventListener(eventName, function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (self.schema.format === \"checkbox\") {\n        // set the value to be the \"checked\" property of the checkbox\n        self.value = this.checked;\n      }\n      if (self.parent)\n        self.parent.onChildEditorChange(self);\n      else\n        self.jsoneditor.onChange();\n      self.jsoneditor.notifyWatchers(self.path);\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\n    this.container.appendChild(this.control);\n\n    self.theme.afterInputReady(self.input);\n    this.jsoneditor.notifyWatchers(this.path);\n  },\n  enable: function() {\n    if (!this.always_disabled)\n      this.input.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    this.input.disabled = true;\n    this._super();\n  },\n  destroy: function() {\n    if (this.label)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description)\n      this.description.parentNode.removeChild(this.description);\n    this.input.parentNode.removeChild(this.input);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.select = JSONEditor.AbstractEditor.extend({\n  setValue: function (value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (Array.isArray(sanitized)) {\n      if ((this.schema.multiple === true) && (!!value)) { // we want multiple values, and we have some sort of value\n        sanitized = sanitized.filter(function (element) {\n          return (this.enum_values.indexOf(element) >= 0);\n        }, this);\n      }\n    } else if (this.enum_values.indexOf(sanitized) < 0) { // not an array\n      sanitized = this.enum_values[0];\n    }\n\n    if (this.value === sanitized) {\n      return;\n    }\n\n    if (Array.isArray(sanitized)) {\n      // loop through all the <option> values, deselecting them.\n      this.enum_values.forEach(function (thisValue, index) {\n        this.input.options[index].selected = false;\n      }, this);\n      // loop through our selected values, setting the corresponding <option> elements.\n      sanitized.forEach(function (currentValue) {\n        this.input.options[this.enum_values.indexOf(currentValue)].selected = true;\n      }, this);\n    } else { // a single-value (i.e. normal) select. Set its value.\n      this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n    }\n    if (this.select2)\n      this.select2.select2('val', this.input.value);\n    this.value = sanitized;\n    this.theme.setSelectValue(this.input);\n    this.onChange();\n  },\n  register: function () {\n    this._super();\n    if (!this.input)\n      return;\n    this.input.setAttribute('name', this.formname);\n  },\n  unregister: function () {\n    this._super();\n    if (!this.input)\n      return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function () {\n    if (!this.enum_options)\n      return 3;\n    var longest_text = this.getTitle().length;\n    for (var i = 0; i < this.enum_options.length; i++) {\n      longest_text = Math.max(longest_text, this.enum_options[i].length + 4);\n    }\n    return Math.min(12, Math.max(longest_text / 7, 2));\n  },\n  typecast: function (value) {\n    // check if this is an array\n    if (Array.isArray(value)) {\n      if ((this.schema.multiple === true) && (!!value)) { // we want multiple values, and we have some sort of value\n        // typecast the array components\n        var typecastValues = [];\n        for (var i = 0; i < value.length; i++) {\n          typecastValues.push(this.typecastPrimitive(value[i]));\n        }\n        return typecastValues;\n\n      }\n    }\n    return this.typecastPrimitive(value);\n\n  },\n  typecastPrimitive: function (value) {\n    if (this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if (this.schema.type === \"number\") {\n      return 1 * value;\n    }\n    else if (this.schema.type === \"integer\") {\n      return Math.floor(value * 1);\n    }\n    else {\n      return \"\" + value;\n    }\n  },\n  getValue: function () {\n    return this.value;\n  },\n  preBuild: function () {\n    var self = this;\n    this.input_type = 'select';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n\n    // Enum options enumerated\n    if (this.schema.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.enum, function (i, option) {\n        self.enum_options[i] = \"\" + option;\n        self.enum_display[i] = \"\" + (display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n\n      if ( this.schema.emptyFirstField ) {\n        self.enum_options.unshift(\"\" + \"__null__\");\n        self.enum_display.unshift(\"\" + \"Choose your option\");\n        self.enum_values.unshift(\"\" + \"__null__\");\n      }\n    }\n    // Boolean\n    else if (this.schema.type === \"boolean\") {\n      self.enum_display = ['true', 'false'];\n      self.enum_options = ['1', ''];\n      self.enum_values = [true, false];\n    }\n    // Dynamic Enum\n    else if (this.schema.enumSource) {\n      this.enumSource = [];\n      this.enum_display = [];\n      this.enum_options = [];\n      this.enum_values = [];\n\n      // Shortcut declaration for using a single array\n      if (!(Array.isArray(this.schema.enumSource))) {\n        if (this.schema.enumValue) {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource,\n              value: this.schema.enumValue\n            }\n          ];\n        }\n        else {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource\n            }\n          ];\n        }\n      }\n      else {\n        for (i = 0; i < this.schema.enumSource.length; i++) {\n          // Shorthand for watched variable\n          if (typeof this.schema.enumSource[i] === \"string\") {\n            this.enumSource[i] = {\n              source: this.schema.enumSource[i]\n            };\n          }\n          // Make a copy of the schema\n          else if (!(Array.isArray(this.schema.enumSource[i]))) {\n            this.enumSource[i] = $extend({}, this.schema.enumSource[i]);\n          }\n          else {\n            this.enumSource[i] = this.schema.enumSource[i];\n          }\n        }\n      }\n\n      // Now, enumSource is an array of sources\n      // Walk through this array and fix up the values\n      for (i = 0; i < this.enumSource.length; i++) {\n        if (this.enumSource[i].value) {\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n        }\n        if (this.enumSource[i].title) {\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n        }\n        if (this.enumSource[i].filter) {\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n        }\n      }\n    }\n    // Other, not supported\n    else {\n      throw \"'select' editor requires the enum property to be set.\";\n    }\n  },\n  build: function () {\n    var multipleSelect;\n    var self = this;\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    this.input = this.theme.getSelectInput(this.enum_options);\n    this.theme.setSelectOptions(this.input, this.enum_options, this.enum_display);\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    multipleSelect = (this.schema.multiple) || false;\n    this.input.multiple = multipleSelect;\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n\n    this.container.appendChild(this.control);\n\n    this.theme.attachHandlers(this.input, function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.value = this.enum_values[0];\n  },\n  onInputChange: function () {\n    var sanitized, isMulti;\n    \n    isMulti = this.schema.multiple || false;\n    if (this.input.selectedOptions && isMulti) { // we're dealing with a select, otherwise it might be a radio\n      sanitized = [];\n      for (var i = 0; i < this.input.selectedOptions.length; i++) {\n        if (this.enum_options.indexOf(this.input.selectedOptions[i].value) !== -1) {\n          sanitized.push(this.input.selectedOptions[i].value);\n        }\n      }\n    } else { // radio (or some other extension of this class)\n      var val = this.input.value;\n\n      sanitized = val;\n      if (this.enum_options.indexOf(val) === -1) { // illegal value. default to first.\n        sanitized = this.enum_options[0];\n\n      }\n    }\n    this.value = sanitized;\n    this.onChange(true);\n  },\n  setupSelect2: function () {\n    // If the Select2 library is loaded use it when we have lots of items\n    if (window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && (this.enum_options.length > 2 || (this.enum_options.length && this.enumSource))) {\n      var options = $extend({}, JSONEditor.plugins.select2);\n      if (this.schema.options && this.schema.options.select2_options)\n        options = $extend(options, this.schema.options.select2_options);\n      this.select2 = window.jQuery(this.input).select2(options);\n      var self = this;\n      this.select2.on('select2-blur', function () {\n        self.input.value = self.select2.select2('val');\n        self.onInputChange();\n      });\n    }\n    else {\n      this.select2 = null;\n    }\n  },\n  postBuild: function () {\n    this._super();\n    this.theme.afterInputReady(this.input);\n    this.setupSelect2();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n    \n    if(this.jsoneditor.options.show_errors === \"always\") {}\n    else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\n    \n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors,function(i,error) {\n      if(error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if(messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ')+'.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  },  \n  onWatchedFieldChange: function () {\n    var self = this, vars, j;\n\n    // If this editor uses a dynamic select box\n    if (this.enumSource) {\n      vars = this.getWatchedFieldValues();\n      var select_options = [];\n      var select_titles = [];\n\n      for (var i = 0; i < this.enumSource.length; i++) {\n        // Constant values\n        if (Array.isArray(this.enumSource[i])) {\n          select_options = select_options.concat(this.enumSource[i]);\n          select_titles = select_titles.concat(this.enumSource[i]);\n        }\n        // A watched field\n        else if (vars[this.enumSource[i].source]) {\n          var items = vars[this.enumSource[i].source];\n\n          // Only use a predefined part of the array\n          if (this.enumSource[i].slice) {\n            items = Array.prototype.slice.apply(items, this.enumSource[i].slice);\n          }\n          // Filter the items\n          if (this.enumSource[i].filter) {\n            var new_items = [];\n            for (j = 0; j < items.length; j++) {\n              if (this.enumSource[i].filter({i: j, item: items[j]}))\n                new_items.push(items[j]);\n            }\n            items = new_items;\n          }\n\n          var item_titles = [];\n          var item_values = [];\n          for (j = 0; j < items.length; j++) {\n            var item = items[j];\n\n            // Rendered value\n            if (this.enumSource[i].value) {\n              item_values[j] = this.enumSource[i].value({\n                i: j,\n                item: item\n              });\n            }\n            // Use value directly\n            else {\n              item_values[j] = items[j];\n            }\n\n            // Rendered title\n            if (this.enumSource[i].title) {\n              item_titles[j] = this.enumSource[i].title({\n                i: j,\n                item: item\n              });\n            }\n            // Use value as the title also\n            else {\n              item_titles[j] = item_values[j];\n            }\n          }\n\n          // TODO: sort\n\n          select_options = select_options.concat(item_values);\n          select_titles = select_titles.concat(item_titles);\n        }\n      }\n\n      var prev_value = this.value;\n\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\n      this.enum_options = select_options;\n      this.enum_display = select_titles;\n      this.enum_values = select_options;\n\n      if (this.select2) {\n        this.select2.select2('destroy');\n      }\n\n      // If the previous value is still in the new select options, stick with it\n      if (select_options.indexOf(prev_value) !== -1) {\n        this.input.value = prev_value;\n        this.value = prev_value;\n      }\n      // Otherwise, set the value to the first select option\n      else {\n        this.input.value = select_options[0];\n        this.value = select_options[0] || \"\";\n        if (this.parent)\n          this.parent.onChildEditorChange(this);\n        else\n          this.jsoneditor.onChange();\n        this.jsoneditor.notifyWatchers(this.path);\n      }\n\n      this.setupSelect2();\n    }\n\n    this._super();\n  },\n  enable: function () {\n    if (!this.always_disabled) {\n      this.input.disabled = false;\n      if (this.select2)\n        this.select2.select2(\"enable\", true);\n    }\n    this._super();\n  },\n  disable: function () {\n    this.input.disabled = true;\n    if (this.select2)\n      this.select2.select2(\"enable\", false);\n    this._super();\n  },\n  destroy: function () {\n    if (this.label && this.label.parentNode)\n      this.label.parentNode.removeChild(this.label);\n    if (this.description && this.description.parentNode)\n      this.description.parentNode.removeChild(this.description);\n    if (this.input && this.input.parentNode)\n      this.input.parentNode.removeChild(this.input);\n    if (this.select2) {\n      this.select2.select2('destroy');\n      this.select2 = null;\n    }\n\n    this._super();\n  }\n});\n\n/* global _ */\nJSONEditor.defaults.editors.radio = JSONEditor.defaults.editors.select.extend({\n  setValue: function (value, initial) {\n    value = this.typecast(value || '');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if (this.enum_values.indexOf(sanitized) < 0) { // not found, default to first\n      this.input.value = \"\";\n      this.value = \"\";\n      return;\n    }\n\n    if (this.value === sanitized) {\n      return;\n    }\n\n    this.value = sanitized;\n    var elem = this.input.querySelector('input[type=radio][value=\"' + value + '\"]');\n    elem.checked = true;\n    var radioNodeList = this.input.querySelectorAll('input[type=radio]');\n    for (var i = 0; i<radioNodeList.length; i++) {\n      var item = radioNodeList[i];\n      item.parentElement.classList.remove(\"active\");\n    }\n\n\n    elem.parentElement.classList.add(\"active\"); // add the active CSS class to the label\n\n    this.input.value = sanitized;\n    this.onChange();\n\n  },\n  getDefault: function() {\n    if(this.schema.default) return this.schema.default;\n    return; // return undefined\n  },\n  register: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].unregister();\n      }\n      if (this.editors[this.type])\n        this.editors[this.type].register();\n    }\n    this._super();\n  },\n  unregister: function () {\n    this._super();\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function () {\n    return this._super();\n  },\n  typecast: function (value) {\n    return this._super(value);\n  },\n  getValue: function () {\n    var checkedElem = document.querySelector(\"input[name=\\\"\" + this.path + \"\\\"]:checked\");\n    if (checkedElem) {\n      this.value = checkedElem.value;\n    }\n    return this.value;\n  },\n  preBuild: function () {\n    var self = this;\n    this.input_type = 'radio';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n    this.editors = [];\n    this.validators = [];\n\n    // \"type\":\"radio\",\n    // \"options\": { \"enum_titles\": [\"Swiss Cheese\",\"Cheddar Cheese\",\"Gouda Cheese\"] },\n    // \"enum\": [\"swiss\",\"cheddar\",\"gouda\"],\n    // \"default\": \"gouda\"\n    // Enum options enumerated\n    if (this.schema.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.enum, function (i, option) {\n        self.enum_options[i] = \"\" + option;\n        self.enum_display[i] = \"\" + (display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n    }\n  },\n  build: function () {\n    var self = this;\n    var container = this.container;\n\n\n    if (!this.options.compact)\n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.header);\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    this.input = this.theme.getRadioGroupFormControl(this.path, self.enum_options, self.enum_display, this.schema.default);\n\n\n    if (this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    this.input.addEventListener('change', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description,this.schema.info);\n    this.container.appendChild(this.control);\n\n    this.value = this.schema.default;\n  },\n  onInputChange: function () {\n    this._super();\n  },\n  setupSelect2: function () {\n    this._super();\n  },\n  postBuild: function () {\n    this._super();\n  },\n  onWatchedFieldChange: function () {\n    this._super();\n  },\n  enable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].enable();\n      }\n    }\n    var radios = document.querySelectorAll(\"input[name=\\\"\" + this.path + \"\\\"]\");\n    var radioList = Array.prototype.slice.call(radios);\n    if (radioList && radioList.length > 0) { // loop through each radio and enable it.\n      radioList.forEach(\n              function (item) {\n                item.disabled = false;\n              }\n      );\n    }\n    this._super();\n  },\n  disable: function () {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i])\n          continue;\n        this.editors[i].disable();\n      }\n      var radios = document.querySelectorAll(\"input[name=\\\"\" + this.path + \"\\\"]\");\n      var radioList = Array.prototype.slice.call(radios);\n      if (radioList && radioList.length > 0) { // loop through each radio and disable it.\n        radioList.forEach(\n                function (item) {\n                  item.disabled = true;\n                }\n        );\n      }\n\n    }\n    this._super();\n  },\n  destroy: function () {\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.multiselect = JSONEditor.AbstractEditor.extend({\n  preBuild: function() {\n    this._super();\n\n    this.select_options = {};\n    this.select_values = {};\n\n    var items_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    var e = items_schema.enum || [];\n    this.option_keys = [];\n    for(i=0; i<e.length; i++) {\n      // If the sanitized value is different from the enum value, don't include it\n      if(this.sanitize(e[i]) !== e[i]) continue;\n\n      this.option_keys.push(e[i]+\"\");\n      this.select_values[e[i]+\"\"] = e[i];\n    }\n  },\n  build: function() {\n    var self = this, i;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if((!this.schema.format && this.option_keys.length < 8) || this.schema.format === \"checkbox\") {\n      this.input_type = 'checkboxes';\n\n      this.inputs = {};\n      this.controls = {};\n      for(i=0; i<this.option_keys.length; i++) {\n        this.inputs[this.option_keys[i]] = this.theme.getCheckbox();\n        this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]];\n        var label = this.theme.getCheckboxLabel(this.option_keys[i]);\n        this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]]);\n      }\n\n      this.control = this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description);\n      this.schema.multiple = true;\n    }\n    else {\n      this.input_type = 'select';\n      this.input = this.theme.getSelectInput(this.option_keys);\n      this.input.multiple = true;\n      this.input.size = Math.min(10,this.option_keys.length);\n\n      for(i=0; i<this.option_keys.length; i++) {\n        this.select_options[this.option_keys[i]] = this.input.children[i];\n      }\n\n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n\n      this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    }\n\n    this.container.appendChild(this.control);\n    this.control.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var new_value = [];\n      for(i = 0; i<self.option_keys.length; i++) {\n        if(self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked) new_value.push(self.select_values[self.option_keys[i]]);\n      }\n\n      self.updateValue(new_value);\n      self.onChange(true);\n    });\n  },\n  setValue: function(value, initial) {\n    var i;\n    value = value || [];\n    if(typeof value !== \"object\") value = [value];\n    else if(!(Array.isArray(value))) value = [];\n\n    // Make sure we are dealing with an array of strings so we can check for strict equality\n    for(i=0; i<value.length; i++) {\n      if(typeof value[i] !== \"string\") value[i] += \"\";\n    }\n\n    // Update selected status of options\n    for(i in this.select_options) {\n      if(!this.select_options.hasOwnProperty(i)) continue;\n\n      this.select_options[i][this.input_type === \"select\"? \"selected\" : \"checked\"] = (value.indexOf(i) !== -1);\n    }\n\n    this.updateValue(value);\n    this.onChange();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    var longest_text = this.getTitle().length;\n    for(var i in this.select_values) {\n      if(!this.select_values.hasOwnProperty(i)) continue;\n      longest_text = Math.max(longest_text,(this.select_values[i]+\"\").length+4);\n    }\n\n    return Math.min(12,Math.max(longest_text/7,2));\n  },\n  updateValue: function(value) {\n    var changed = false;\n    var new_value = [];\n    for(var i=0; i<value.length; i++) {\n      if(!this.select_options[value[i]+\"\"]) {\n        changed = true;\n        continue;\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]]);\n      new_value.push(sanitized);\n      if(sanitized !== value[i]) changed = true;\n    }\n    this.value = new_value;\n    return changed;\n  },\n  sanitize: function(value) {\n    if(this.schema.items.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.items.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.input) {\n        this.input.disabled = false;\n      }\n      else if(this.inputs) {\n        for(var i in this.inputs) {\n          if(!this.inputs.hasOwnProperty(i)) continue;\n          this.inputs[i].disabled = false;\n        }\n      }\n    }\n    this._super();\n  },\n  disable: function() {\n    if(this.input) {\n      this.input.disabled = true;\n    }\n    else if(this.inputs) {\n      for(var i in this.inputs) {\n        if(!this.inputs.hasOwnProperty(i)) continue;\n        this.inputs[i].disabled = true;\n      }\n    }\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.base64 = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {    \n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n    \n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n      if(!window.FileReader) throw \"FileReader required for base64 editor\";\n      \n      // File uploader\n      this.uploader = this.theme.getFormInputField('file');\n      \n      this.uploader.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if(this.files && this.files.length) {\n          var fr = new FileReader();\n          fr.onload = function(evt) {\n            self.value = evt.target.result;\n            self.refreshPreview();\n            self.onChange(true);\n            fr = null;\n          };\n          fr.readAsDataURL(this.files[0]);\n        }\n      });\n    }\n\n    this.preview = this.theme.getFormInputDescription(this.schema.description);\n    this.container.appendChild(this.preview);\n\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n    this.container.appendChild(this.control);\n  },\n  refreshPreview: function() {\n    if(this.last_preview === this.value) return;\n    this.last_preview = this.value;\n    \n    this.preview.innerHTML = '';\n    \n    if(!this.value) return;\n    \n    var mime = this.value.match(/^data:([^;,]+)[;,]/);\n    if(mime) mime = mime[1];\n    \n    if(!mime) {\n      this.preview.innerHTML = '<em>Invalid data URI</em>';\n    }\n    else {\n      this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+Math.floor((this.value.length-this.value.split(',')[0].length-1)/1.33333)+' bytes';\n      if(mime.substr(0,5)===\"image\") {\n        this.preview.innerHTML += '<br>';\n        var img = document.createElement('img');\n        img.style.maxWidth = '100%';\n        img.style.maxHeight = '100px';\n        img.src = this.value;\n        this.preview.appendChild(img);\n      }\n    }\n  },\n  enable: function() {\n    if(this.uploader) this.uploader.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.refreshPreview();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n\nJSONEditor.defaults.editors.upload = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {    \n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n\n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n\n      if(!this.jsoneditor.options.upload) throw \"Upload handler required for upload editor\";\n\n      // inspired by:\n      //  http://stackoverflow.com/a/18803568/956779\n      var divElem = document.createElement('div');\n      divElem.setAttribute(\"class\", \"image-upload\");\n\n      var fileInput = this.theme.getFormInputField('file');\n      this.uploader = fileInput;\n      var accept = \"image/*\";\n      if (this.schema.options && this.schema.options.accept) {\n        accept = this.schema.options.accept;\n      }\n      fileInput.setAttribute(\"accept\", accept);\n      fileInput.setAttribute(\"class\", \"hidden\");\n      var uuid = $uuid();\n      fileInput.setAttribute(\"id\", uuid);\n\n      var labelElem = document.createElement('label');\n      labelElem.setAttribute(\"for\", uuid);\n      var placeholderImg = document.createElement('img');\n      //TODO make this an option rather than a hard-coded image.\n      // An add-image image. stops us getting nasty broken image icons. This becomes a button.\n      placeholderImg.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBoZWlnaHQ9IjQ4cHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjQ4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxnPgogICAgPGc+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0yNTYgNDhDMTQxLjEgNDggNDggMTQxLjEgNDggMjU2czkzLjEgMjA4IDIwOCAyMDhjMTE0LjkgMCAyMDgtOTMuMSAyMDgtMjA4UzM3MC45IDQ4IDI1NiA0OHogTTI1NiA0NDYuNyBjLTEwNS4xIDAtMTkwLjctODUuNS0xOTAuNy0xOTAuN1MxNTAuOSA2NS4zIDI1NiA2NS4zUzQ0Ni43IDE1MC45IDQ0Ni43IDI1NlMzNjEuMSA0NDYuNyAyNTYgNDQ2Ljd6Ii8+CiAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjI2NC4xLDEyOCAyNDcuMywxMjggMjQ3LjMsMjQ3LjkgMTI4LDI0Ny45IDEyOCwyNjQuNyAyNDcuMywyNjQuNyAyNDcuMywzODQgMjY0LjEsMzg0IDI2NC4xLDI2NC43IDM4NCwyNjQuNyAzODQsMjQ3LjkgMjY0LjEsMjQ3LjkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=\";\n\n      labelElem.appendChild(placeholderImg);\n\n      divElem.appendChild(labelElem);\n      divElem.appendChild(fileInput);\n\n      this.input = divElem;\n      this.input_type = 'file';\n\n      // File uploader\n      // this.uploader = this.theme.getFormInputField('file');\n\n      if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n\n      var eventName = 'change';\n      // if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n      //   // the 'change' event doesn't seem to fire on android\n      //   eventName = 'click';\n      // }\n\n      this.uploader.addEventListener(eventName,function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        function previewURLAndUploadFile(previewURL, fileObj) {\n          // var fr = new FileReader();\n          // fr.onload = function(evt) {\n          // self.preview_value = e.target.result;\n          self.refreshPreview(previewURL);\n          self.onChange(true);\n          // fr = null;\n\n          self.theme.removeInputError(self.uploader);\n\n          if (self.theme.getProgressBar) {\n            self.progressBar = self.theme.getProgressBar();\n            self.preview.appendChild(self.progressBar);\n          }\n\n          self.jsoneditor.options.upload(self.path, fileObj, {\n            success: function (url) {\n              self.setValue(url);\n              if (self.jsoneditor.options.uploadSuccessCallback) {\n                self.jsoneditor.options.uploadSuccessCallback(self.path, fileObj, url);\n              }\n\n              if (self.parent) self.parent.onChildEditorChange(self);\n              else self.jsoneditor.onChange();\n\n              if (self.progressBar) self.preview.removeChild(self.progressBar);\n            },\n            failure: function (error) {\n              self.theme.addInputError(self.uploader, error);\n              if (self.progressBar) self.preview.removeChild(self.progressBar);\n            },\n            updateProgress: function (progress) {\n              if (self.progressBar) {\n                if (progress) self.theme.updateProgressBar(self.progressBar, progress);\n                else self.theme.updateProgressBarUnknown(self.progressBar);\n              }\n            }\n          });\n        }\n\n\n        // use cordova camera and notification plugins\n        function onImageNotChosenFail(message) {\n          navigator.notification.alert(\n            'Failed because: ' + message, // message\n            function () {\n            }, // callback that does nothing\n            'Failed', // title\n            'OK'                  // buttonName\n          );\n        }\n\n// process the confirmation dialog result\n        function obtainPicture(buttonIndex) {\n          var picOptions = {\n            quality: 75,\n            destinationType: Camera.DestinationType.FILE_URI,\n            correctOrientation: true,\n            encodingType: Camera.EncodingType.JPEG\n          };\n\n          if (buttonIndex === 1) {\n\n            picOptions.sourceType = Camera.PictureSourceType.CAMERA;\n            // picOptions.allowEdit = true;\n\n\n          } else {\n            picOptions.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n            picOptions.mediaType = Camera.MediaType.PICTURE;\n\n          }\n          // take a new photo\n          navigator.camera.getPicture(onImageChosenSuccess, onImageNotChosenFail, picOptions);\n        }\n\n\n        function onImageChosenSuccess(imageURI) {\n\n          window.resolveLocalFileSystemURL(imageURI, function success(fileEntry) {\n\n            // Do something with the FileEntry object, like write to it, upload it, etc.\n            // writeFile(fileEntry, imgUri);\n            console.log(\"got file: \" + fileEntry.fullPath);\n            // displayFileData(fileEntry.nativeURL, \"Native URL\");\n            // use mule uploader with fileEntry.file\n            fileEntry.file(function (file) {\n\n              previewURLAndUploadFile(fileEntry.toInternalURL(), file);\n            }, function (error) {\n              console.error(error);\n            });\n\n          });\n\n\n        }\n\n        // if ((typeof cordova !== \"undefined\") && (cordova.platformId === \"android\")) {\n        //   // Show a custom confirmation dialog\n        //   //\n        //   navigator.notification.confirm(\n        //     'Where should the image come from?', // message\n        //     obtainPicture, // callback to invoke with index of button pressed\n        //     'Choose Image Source', // title\n        //     ['Take Photo', 'Choose Existing']         // buttonLabels\n        //   );\n        // } else if(this.files && this.files.length) {\n          var objectURL = window.URL.createObjectURL(this.files[0]);\n\n          previewURLAndUploadFile(objectURL, this.files[0]);\n\n\n\n          // }\n\n        // }\n      });\n    }\n\n    var description = this.schema.description;\n    if (!description) description = '';\n\n\n    // this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.schema.info);\n    this.container.appendChild(this.control);\n    this.preview = this.theme.getFormInputDescription(description);\n    this.container.appendChild(this.preview);\n  },\n  refreshPreview: function(objectURL) {\n    // if(this.last_preview === this.preview_value) return;\n    // this.last_preview = this.preview_value;\n    if (!this.options || !this.options.preventPreview) {\n\n      var imgelem = this.container.querySelector(\"img\");\n      imgelem.src = objectURL;\n      //TODO: Move this to theme and make it more flexible.\n      imgelem.style.maxWidth = \"25%\";\n      imgelem.style.maxHeight = \"25%\";\n    }\n  },\n  enable: function() {\n    if(this.uploader) this.uploader.disabled = false;\n    this._super();\n  },\n  disable: function() {\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n\n/* global SignaturePad */\nJSONEditor.defaults.editors.signature = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function () {\n    return 4;\n  },\n  build: function () {\n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if (this.schema.description)\n      this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    // Input that holds the base64 string\n\n    var divElem = this.theme.getContainer();\n    $(divElem).addClass(\"signature\");\n    var uuid = $uuid();\n\n    var canvas = this.theme.getCanvas();\n    canvas.setAttribute(\"id\", uuid);\n\n    divElem.appendChild(canvas);\n    self.input = divElem;\n\n    if (SignaturePad) {\n      this.signaturePad = new SignaturePad(canvas);\n      var sigpad = this.signaturePad;\n      sigpad.onEnd = function () {\n        self.setValue(\n                {\n                  dataURI: sigpad.toDataURL(),\n                  height: canvas.height,\n                  width: canvas.width,\n                  timestamp: self.translate(\"signature_timestamp\", [(new Date()).toLocaleString()]),\n                  hasValue: !self.signaturePad.isEmpty()\n                }\n        );\n        self.jsoneditor.notifyWatchers(self.path);\n        if (self.parent)\n          self.parent.onChildEditorChange(self);\n        else\n          self.jsoneditor.onChange();\n      };\n      var buttonHolder = this.theme.getButtonHolder();\n      var button = this.getButton(self.translate(\"clear_signature_button\"), 'cancel');\n      buttonHolder.appendChild(button);\n      button.addEventListener(\"click\",\n              function () {\n                self.signaturePad.clear();\n                self.setValue(\"\");\n                self.jsoneditor.notifyWatchers(self.path);\n              }); // clear signature on press.\n      divElem.appendChild(buttonHolder);\n    } else {\n      this.signaturePad = undefined;\n    }\n\n\n    if (this.options.compact)\n      this.container.setAttribute('class', this.container.getAttribute('class') + ' compact');\n\n    if (this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n    }\n\n    // Compile and store the template\n    if (this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.jsoneditor.notifyWatchers(this.path);\n    }\n    else {\n      this.jsoneditor.notifyWatchers(this.path);\n    }\n\n    this.control = this.theme.getFormControl(this.label, divElem, this.description);\n    this.container.appendChild(this.control);\n\n    function resizeCanvas() {\n      var parent = $(canvas).parent();\n      if ( parent.width() > 0 && parent.height() > 0 ) {\n        // resize to fill the parent, apart from the \"clear signature\" button at the bottom.\n        resize(parent.width(), (parent.height() - parent.children('.btn-group').height()));\n      }\n    }\n    function resize(w, h){\n\n// add a \"getImageDataWithoutBlankMargins\" function to the signature.\n// from https://github.com/szimek/signature_pad/issues/49#issue-29108215\n\n      var getImageURIWithoutBlankMargins = function (sigpad) {\n        var ctx = sigpad._ctx,\n          canvas = sigpad._ctx.canvas;\n        var imgWidth = canvas.width;\n        var imgHeight = canvas.height;\n        if (imgWidth > 0 && imgHeight > 0) {\n          var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight),\n            data = imageData.data,\n            getAlpha = function(x, y) {\n              return data[(imgWidth*y + x) * 4 + 3];\n            },\n            scanY = function (fromTop) {\n              var offset = fromTop ? 1 : -1;\n\n              // loop through each row\n              for(var y = fromTop ? 0 : imgHeight - 1; fromTop ? (y < imgHeight) : (y > -1); y += offset) {\n\n                // loop through each column\n                for(var x = 0; x < imgWidth; x++) {\n                  if (getAlpha(x, y)) {\n                    return y;\n                  }\n                }\n              }\n              return null; // all image is white\n            },\n            scanX = function (fromLeft) {\n              var offset = fromLeft? 1 : -1;\n\n              // loop through each column\n              for(var x = fromLeft ? 0 : imgWidth - 1; fromLeft ? (x < imgWidth) : (x > -1); x += offset) {\n\n                // loop through each row\n                for(var y = 0; y < imgHeight; y++) {\n                  if (getAlpha(x, y)) {\n                    return x;\n                  }\n                }\n              }\n              return null; // all image is white\n            };\n\n          var cropTop = scanY(true),\n            cropBottom = scanY(false),\n            cropLeft = scanX(true),\n            cropRight = scanX(false);\n\n          // figure out which dimension is larger\n          var referenceDim,\n            heightDifference,\n            heightDifferencePC,\n            widthDifference,\n            widthDifferencePC,\n            newHeight,\n            newWidth;\n\n          // how much smaller is the (desired) new canvas?\n          widthDifference = canvas.width - (cropRight-cropLeft) - 2 ; // could be negative if it's been reduced in size.\n          heightDifference = canvas.height - (cropBottom-cropTop) - 2; // ditto\n\n          widthDifferencePC = (widthDifference / canvas.width); // e.g. 10% smaller would give us 0.1\n          heightDifferencePC = (heightDifference / canvas.height);\n\n          // calculate how our image needs to scale, keeping aspect ratio of its data\n          referenceDim = Math.min(widthDifferencePC, heightDifferencePC);\n          newHeight = canvas.height - (referenceDim * canvas.height);\n          newWidth = canvas.width - (referenceDim * canvas.width);\n\n\n          var relevantData = sigpad._ctx.getImageData(cropLeft, cropTop, (cropRight-cropLeft+2), (cropBottom-cropTop+2));\n          // create an off-screen canvas of the requisite size, to get imagedata as a data uri\n          var tempCanvas = document.createElement('canvas');\n          tempCanvas.width = newWidth;\n          tempCanvas.height = newHeight;\n          var tempctx = tempCanvas.getContext('2d');\n          tempctx.putImageData(relevantData, 0, 0);\n          return tempCanvas.toDataURL(\"image/png\");\n        }\n        return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\"/>'; // empty SVG data uri\n\n      };\n\n      // which one's been reduced by more: height, or width?\n      var referenceDim,\n        heightDifference,\n        heightDifferencePC,\n        widthDifference,\n        widthDifferencePC,\n        newHeight,\n        newWidth;\n      // how much bigger is the (desired) new canvas?\n      widthDifference = w - canvas.width ; // could be negative if it's been reduced in size.\n      heightDifference = h - canvas.height; // ditto\n\n      widthDifferencePC = (widthDifference / canvas.width); // e.g. 10% larger would give us 0.1\n      heightDifferencePC = (heightDifference / canvas.height);\n\n      // calculate how our image needs to scale, keeping aspect ratio of its data\n      referenceDim = Math.min(widthDifferencePC, heightDifferencePC);\n      newHeight = canvas.height + (referenceDim * canvas.height);\n      newWidth = canvas.width + (referenceDim * canvas.width);\n\n      if (!self.signaturePad.isEmpty()) {\n        var datauri = getImageURIWithoutBlankMargins(self.signaturePad);\n\n        canvas.width = w;\n        canvas.height = h;\n\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        img.onload = function () {\n          // scale the image.\n          ctx.drawImage(img, 0, 0, newWidth, newHeight); // Or at whatever offset you like\n        };\n        img.src = datauri;\n      } else {\n        canvas.width = w;\n        canvas.height = h;\n      }\n    }\n    window.addEventListener(\"resize\", resizeCanvas);\n    resizeCanvas();\n\n  },\n  enable: function () {\n    this._super();\n  },\n  disable: function () {\n    this._super();\n  },\n  setValue: function (val) {\n    if (val === null)\n      val = \"\";\n    else if (typeof val === \"object\")\n      val = JSON.stringify(val);\n    else if (typeof val !== \"string\")\n      val = \"\" + val;\n\n    if (val === this.serialized)\n      return;\n\n    if ( this.jsoneditor.options.disable_output_form ) {\n      // If the form is set as disabled, replace the signature canvas element with an image\n      // Check that we have data as string\n      if (typeof val === \"string\" && val.length > 0) {\n        val = JSON.parse(val);\n\n        // Each canvas container has a unique ID which we can use to create a css selector\n        var self = this;\n        var containerSelector = '.container-' + self.key;\n        var containerSelectorSignature = containerSelector + ' .signature';\n\n        // After parsing the value, make sure it is an object with what we expect\n        if (typeof val === \"object\" && val.hasValue) {\n          // Check if we have a list element that is being repeated\n          if (containerSelector.length > 1) {\n            // We only want to replace the last element in it\n            $(containerSelector).last().find('.signature').remove();\n          } else {\n            // get rid of the created canvas holding our signature object\n            $(containerSelectorSignature).remove();\n          }\n          // Create the image container with the appropriate theme markup\n          var divElem = this.theme.getContainer();\n          $(divElem).addClass(\"signature\");\n\n          // Create the image element and add the source, height and width\n          var sigImage = document.createElement(\"img\");\n          sigImage.src = val.dataURI;\n          sigImage.height = val.height;\n          sigImage.width = val.width;\n\n          // Create the span element that holds the timestamp and assign that as inner text\n          var sigTimestamp = document.createElement(\"span\");\n          $(sigTimestamp).addClass(\"signature-timestamp\");\n          sigTimestamp.textContent = val.timestamp;\n\n          // Append the image and timestamp to the container element\n          divElem.appendChild(sigImage);\n          divElem.appendChild(sigTimestamp);\n          // Append the image to the main container instead of the canvas\n          self.container.append(divElem);\n        }\n      }\n    } else {\n      // Normal behavior - Used when filling in or editing a signature\n\n      // Is the value parsed (val) different from the current value (this.getValue)?\n      var changed = this.getValue() !== val;\n\n      if (changed && this.getValue() === \"\") {\n        this.signaturePad.clear();\n        window.dispatchEvent(new Event('resize')); // trigger resize handler\n      }\n\n      if (typeof val === \"string\" && val.length > 0) {\n        this.signaturePad.clear(); // Looks like fromDataURL does not clean up existing values\n        var valParsed = JSON.parse(val);\n        this.signaturePad.fromDataURL(valParsed.dataURI, {ratio: 1}); // Ratio!\n      }\n      this.value = val;\n\n      // Bubble this setValue to parents if the value changed\n      this.onChange(changed);\n    }\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n\n\n\nJSONEditor.AbstractTheme = Class.extend({\n  onReady: function() {\n    // Called when the json-editor instance is ready.\n  },\n  // TODO: make all editors use this\n  attachHandlers: function(input, handler) {\n    input.addEventListener('change', handler);\n  },\n  getContainer: function() {\n    // attach stylesheet for mobile range slider\n    var style = document.createElement('style');\n    var rangeCSS =\n      \"/* Mobile Range Slider */\\n\" +\n      \".slider {position: relative; margin: 10px 0; width: 100%; height: 40px;}\" +\n      \".track {position: absolute; top: 19px; left: 0; right: 0; height: 3px; background-color: #AAA;}\" +\n      \".knob {position: absolute; margin: 0; padding: 0; height: 40px; width: 25px; border-radius: 10px;\" +\n      \"background: rgb(253,253,253); border: 1px solid rgb(160,160,160); cursor: pointer;}\";\n\n    style.textContent = rangeCSS;\n\n    var container = document.createElement('div');\n    container.appendChild(style);\n\n    return container;\n  },\n  getCanvas: function() {\n    return document.createElement('canvas');\n  },\n  getFloatRightLinkHolder: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.cssFloat = 'right';\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getModal: function() {\n    var el = document.createElement('div');\n    el.style.backgroundColor = 'white';\n    el.style.border = '1px solid black';\n    el.style.boxShadow = '3px 3px black';\n    el.style.position = 'absolute';\n    el.style.zIndex = '10';\n    el.style.display = 'none';\n    return el;\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.className = 'row';\n    return el;\n  },\n  getGridColumn: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    \n  },\n  getLink: function(text) {\n    var el = document.createElement('a');\n    el.setAttribute('href','#');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  disableHeader: function(header) {\n    header.style.color = '#ccc';\n  },\n  disableLabel: function(label) {\n    label.style.color = '#ccc';\n  },\n  enableHeader: function(header) {\n    header.style.color = '';\n  },\n  enableLabel: function(label) {\n    label.style.color = '';\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  getCheckboxLabel: function(text) {\n    var el = this.getFormInputLabel(text);\n    el.style.fontWeight = 'normal';\n    return el;\n  },\n  getRadioLabel: function(text) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"radioLabel\");\n    return el;\n  },\n  getHeader: function(text) {\n    var el = document.createElement('h3');\n    if(typeof text === \"string\") {\n      el.textContent = text;\n    }\n    else {\n      el.appendChild(text);\n    }\n    \n    return el;\n  },\n  getCheckbox: function(name, checked) {\n    var checkbox = this.getFormInputField('checkbox');\n    checkbox.setAttribute(\"name\",name);\n    checkbox.setAttribute(\"value\",\"true\");\n    if (checked) {\n      checkbox.setAttribute(\"checked\",false); \n    }\n    return checkbox;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    radio.setAttribute(\"class\",\"radio\");\n    if (checked) {\n     radio.setAttribute(\"checked\",true); \n    }\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder\");\n    for(var i=0; i<options.length; i++) {\n      var radio = this.getRadioInput(name, options[i], (options[i] === defaultVal));\n      var radioLabel = this.getRadioLabel(titles[i] || options[i]);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      \n      holder.appendChild(radioLabel);\n      holder.appendChild(radio);\n    }\n    return holder;\n  },\n  getMultiCheckboxHolder: function(controls,label,description) {\n    var el = document.createElement('div');\n\n    if(label) {\n      // label.style.display = 'block';\n      el.appendChild(label);\n    }\n\n    for(var i in controls) {\n      if(!controls.hasOwnProperty(i)) continue;\n      // controls[i].style.display = 'inline-block';\n      // controls[i].style.marginRight = '20px';\n      el.appendChild(controls[i]);\n    }\n\n    if(description) el.appendChild(description);\n\n    return el;\n  },\n  getSelectInput: function(options) {\n    var select = document.createElement('select');\n    if(options) this.setSelectOptions(select, options);\n    return select;\n  },\n  getSwitcher: function(options) {\n    var switcher = this.getSelectInput(options);\n    switcher.style.backgroundColor = 'transparent';\n    switcher.style.height = 'auto';\n    switcher.style.fontStyle = 'italic';\n    switcher.style.fontWeight = 'normal';\n    switcher.style.padding = '0 0 0 3px';\n    return switcher;\n  },\n  getSwitcherOptions: function(switcher) {\n    return switcher.getElementsByTagName('option');\n  },\n  setSwitcherOptions: function(switcher, options, titles) {\n    this.setSelectOptions(switcher, options, titles);\n  },\n  setSelectOptions: function(select, options, titles) {\n    titles = titles || [];\n    select.innerHTML = '';\n    for(var i=0; i<options.length; i++) {\n      var option = document.createElement('option');\n      if (options[i] === \"__null__\") {\n        option.setAttribute('disabled', true);\n        option.setAttribute('selected', true);\n      } else {\n        option.setAttribute('value',options[i]);\n      }\n      option.textContent = titles[i] || options[i];\n      select.appendChild(option);\n    }\n  },\n  setSelectValue: function(input) {\n\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.style = el.style || {};\n    el.style.width = '100%';\n    el.style.height = '300px';\n    el.style.boxSizing = 'border-box';\n    return el;\n  },\n  getRangeInput: function(min,max,step) {\n    var el = this.getFormInputField('range');\n    el.setAttribute('min',min);\n    el.setAttribute('max',max);\n    el.setAttribute('step',step);\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = document.createElement('input');\n    el.setAttribute('type',type);\n    return el;\n  },\n  afterInputReady: function(input) {\n    \n  },\n  getFormControl: function(label, input, description) {\n    var el = document.createElement('div');\n    el.className = 'form-control';\n    if(label) el.appendChild(label);\n    if(input.type === 'checkbox') {\n      label.insertBefore(input,label.firstChild);\n    }\n    else {\n      el.appendChild(input);\n    }\n    \n    if(description) el.appendChild(description);\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.paddingLeft = '10px';\n    el.style.marginLeft = '10px';\n    el.style.borderLeft = '1px solid #ccc';\n    return el;\n  },\n  getChildEditorHolder: function() {\n    return document.createElement('div');\n  },\n  getDescription: function(text) {\n    var el = document.createElement('p');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  getCheckboxDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getRadioDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getFormInputDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getHeaderButtonHolder: function() {\n    return this.getButtonHolder();\n  },\n  getButtonHolder: function() {\n    return document.createElement('div');\n  },\n  getButton: function(text, icon, title) {\n    var el = document.createElement('button');\n    this.setButtonText(el,text,icon,title);\n    return el;\n  },\n  setButtonText: function(button, text, icon, title) {\n    button.innerHTML = '';\n    if(icon) {\n      button.appendChild(icon);\n      button.innerHTML += ' ';\n    }\n    button.appendChild(document.createTextNode(text));\n    if(title) button.setAttribute('title',title);\n  },\n  getTable: function() {\n    return document.createElement('table');\n  },\n  getTableRow: function() {\n    return document.createElement('tr');\n  },\n  getTableHead: function() {\n    return document.createElement('thead');\n  },\n  getTableBody: function() {\n    return document.createElement('tbody');\n  },\n  getTableHeaderCell: function(text) {\n    var el = document.createElement('th');\n    el.textContent = text;\n    return el;\n  },\n  getTableCell: function() {\n    var el = document.createElement('td');\n    return el;\n  },\n  getErrorMessage: function(text) {\n    var el = document.createElement('p');\n    el.style = el.style || {};\n    el.style.color = 'red';\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  addInputError: function(input, text) {\n  },\n  removeInputError: function(input) {\n  },\n  addTableRowError: function(row) {\n  },\n  removeTableRowError: function(row) {\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>\";\n    return el;\n  },\n  applyStyles: function(el,styles) {\n    el.style = el.style || {};\n    for(var i in styles) {\n      if(!styles.hasOwnProperty(i)) continue;\n      el.style[i] = styles[i];\n    }\n  },\n  closest: function(elem, selector) {\n    var matchesSelector = elem.matches || elem.webkitMatchesSelector || elem.mozMatchesSelector || elem.msMatchesSelector;\n\n    while (elem && elem !== document) {\n      try {\n        var f = matchesSelector.bind(elem);\n        if (f(selector)) {\n          return elem;\n        } else {\n          elem = elem.parentNode;\n        }\n      }\n      catch(e) {\n        return false;\n      }\n    }\n    return false;\n  },\n  getTab: function(span) {\n    var el = document.createElement('div');\n    el.appendChild(span);\n    el.style = el.style || {};\n    this.applyStyles(el,{\n      border: '1px solid #ccc',\n      borderWidth: '1px 0 1px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      borderBottomRightRadius: 0,\n      borderTopRightRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    });\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    return this.getIndentedPanel();\n  },\n  markTabActive: function(tab) {\n    this.applyStyles(tab,{\n      opacity: 1,\n      background: 'white'\n    });\n  },\n  markTabInactive: function(tab) {\n    this.applyStyles(tab,{\n      opacity:0.5,\n      background: ''\n    });\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getBlockLink: function() {\n    var link = document.createElement('a');\n    link.style.display = 'block';\n    return link;\n  },\n  getBlockLinkHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getLinksHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  createMediaLink: function(holder,link,media) {\n    holder.appendChild(link);\n    media.style.width='100%';\n    holder.appendChild(media);\n  },\n  createImageLink: function(holder,link,image) {\n    holder.appendChild(link);\n    link.appendChild(image);\n  }\n});\n\nJSONEditor.defaults.themes.bootstrap2 = JSONEditor.AbstractTheme.extend({\n  getRangeInput: function(min, max, step) {\n    // TODO: use bootstrap slider\n    return this._super(min, max, step);\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    el.className = 'container-fluid';\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.className = 'row-fluid';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'span'+size;\n  },\n  getSelectInput: function(options) {\n    var input = this._super(options);\n    input.style.width = 'auto';\n    input.style.maxWidth = '98%';\n    return input;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '98%';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.control-group');\n    input.controls = this.closest(input,'.controls');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.className = input.controlgroup.className.replace(/control-group/g,'').replace(/[ ]{2,}/g,' ');\n      input.controls.className = input.controlgroup.className.replace(/controls/g,'').replace(/[ ]{2,}/g,' ');\n      input.style.marginBottom = 0;\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'well well-small';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.className = 'help-inline';\n    el.textContent = text;\n    return el;\n  },\n  getFormControl: function(label, input, description) {\n    var ret = document.createElement('div');\n    ret.className = 'control-group';\n\n    var controls = document.createElement('div');\n    controls.className = 'controls';\n\n    if(label && input.getAttribute('type') === 'checkbox') {\n      label.className += ' checkbox';\n      label.appendChild(input);\n      controls.appendChild(label);\n      controls.style.height = '30px';\n    }\n    else {\n      if(label) {\n        label.className += ' control-label';\n        ret.appendChild(label);\n      }\n      controls.appendChild(input);\n    }\n      ret.appendChild(controls);\n\n    if(description) controls.appendChild(description);\n\n    return ret;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'btn-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el =  this._super(text, icon, title);\n    el.className += ' btn btn-default';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.controlgroup || !input.controls) return;\n    input.controlgroup.className += ' error';\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.className = 'help-block errormsg';\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?error/g,'');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'tabbable tabs-left';\n    el.innerHTML = \"<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>\";\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('li');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'tab-pane active';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getProgressBar: function() {\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'bar';\n    bar.style.width = '0%';\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    progressBar.firstChild.style.width = progress + \"%\";\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    progressBar.className = 'progress progress-striped active';\n    progressBar.firstChild.style.width = '100%';\n  }\n});\n\nJSONEditor.defaults.themes.bootstrap3 = JSONEditor.AbstractTheme.extend({\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.className += 'form-control';\n    //el.style.width = 'auto';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = el.className + ' col-md-'+size;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.form-group');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.style.marginBottom = 0;\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.className = 'form-control';\n    return el;\n  },\n  getRangeInput: function(min, max, step) {\n    // TODO: use better slider\n    return this._super(min, max, step);\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    if(type !== 'checkbox') {\n      el.className += 'form-control';\n    }\n    return el;\n  },\n  getFormControl: function(label, input, description, info) {\n    var group = document.createElement('div');\n\n    if(label && input.getAttribute('type') === 'checkbox') {\n      label.className += ' checkbox';\n      // add an empty span inside the label, alongside the checkbox.\n      var emptySpan = document.createElement('span');\n      emptySpan.setAttribute('class','checkbox-target');\n      label.insertBefore(emptySpan, label.firstChild);\n      label.insertBefore(input, label.firstChild);\n      group.appendChild(label);\n//      input.style.position = 'relative';\n//      input.style.cssFloat = 'left';\n    } \n    else {\n      group.className += ' form-group';\n      if(label) {\n        var labelHolder = document.createElement(\"div\");\n        labelHolder.setAttribute(\"class\",\"jutoLabelHolder\");\n        label.className += ' control-label';\n        if (info) {\n          var infoSpan = document.createElement(\"i\");\n          infoSpan.setAttribute(\"class\", \"fa fa-info jutoInfoLabel\");\n          infoSpan.info = info;\n          labelHolder.appendChild(label);\n          labelHolder.appendChild(infoSpan);\n        } else {\n          labelHolder.appendChild(label);\n        }\n        group.appendChild(labelHolder);\n      }\n      group.appendChild(input);\n    }\n\n\n\n    if(description) group.appendChild(description);\n\n    return group;\n  },\n  getFormInputLabel: function(text) {\n    var labelToReturn = this._super(text);\n    return labelToReturn;\n  },\n  // <div class=\"btn-group\" data-toggle=\"buttons\">\n  //  <label class=\"btn btn-primary active\">\n  //    <input type=\"radio\" name=\"options\" id=\"option1\" checked> Option 1 (preselected)\n  //  </label>\n  //  <label class=\"btn btn-primary\">\n  //    <input type=\"radio\" name=\"options\" id=\"option2\"> Option 2\n  //  </label>\n  //  <label class=\"btn btn-primary\">\n  //    <input type=\"radio\" name=\"options\" id=\"option3\"> Option 3\n  //  </label>\n  //</div>\n  \n  getRadioLabel: function(text, isChecked) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"btn btn-primary radioLabel\" + (isChecked?\" active\":\"\"));\n    return el;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    if (checked) {\n     radio.setAttribute(\"checked\",true);\n    }\n    radio.setAttribute(\"class\",\"radio\");\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder btn-group\");\n    for(var i=0; i<options.length; i++) {\n      var isChecked = (options[i] === defaultVal);\n      var radio = this.getRadioInput(name, options[i], isChecked);\n      var radioLabel = this.getRadioLabel(titles[i] || options[i], isChecked);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      radioLabel.appendChild(radio);\n      holder.appendChild(radioLabel);\n    }\n    holder.addEventListener(\"change\",\n      function (evt) {\n          var oldActive = holder.querySelector('.btn.active');\n          if (oldActive) {\n              oldActive.classList.remove('active');\n          }\n          evt.target.parentElement.classList.add('active');\n      });\n    return holder;\n  },  \n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'well well-sm';\n    return el;\n  },\n  getFormInputDescription: function(text, html) {\n    if (html) {\n      var div = document.createElement('div');\n      div.innerHTML = text;\n      return div;\n    }\n    var el = document.createElement('p');\n    el.className = 'help-block';\n    el.textContent = text;\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'btn-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += 'btn btn-default';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n\n  addInputError: function(input,text) {\n    if(!input.controlgroup) return;\n    input.controlgroup.className += ' has-error';\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.className = 'help-block errormsg';\n      input.controlgroup.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?has-error/g,'');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>\";\n    el.className = 'rows';\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('a');\n    el.className = 'list-group-item';\n    el.setAttribute('href','#');\n    el.appendChild(text);\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  getProgressBar: function() {\n    var min = 0, max = 100, start = 0;\n\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'progress-bar';\n    bar.setAttribute('role', 'progressbar');\n    bar.setAttribute('aria-valuenow', start);\n    bar.setAttribute('aria-valuemin', min);\n    bar.setAttribute('aria-valuenax', max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute('aria-valuenow', progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.className = 'progress progress-striped active';\n    bar.removeAttribute('aria-valuenow');\n    bar.style.width = '100%';\n    bar.innerHTML = '';\n  }\n});\n\n// Base Foundation theme\nJSONEditor.defaults.themes.foundation = JSONEditor.AbstractTheme.extend({\n  getChildEditorHolder: function() {\n    var el = document.createElement('div');\n    el.style.marginBottom = '15px';\n    return el;\n  },\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.style.minWidth = 'none';\n    el.style.padding = '5px';\n    el.style.marginTop = '3px';\n    return el;\n  },\n  getSwitcher: function(options) {\n    var el = this._super(options);\n    el.style.paddingRight = '8px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(this.closest(input,'.compact')) {\n      input.style.marginBottom = 0;\n    }\n    input.group = this.closest(input,'.form-control');\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '100%';\n    el.style.marginBottom = type==='checkbox'? '0' : '12px';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.textContent = text;\n    el.style.marginTop = '-10px';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'panel';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'button-group';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += ' small button';\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.group) return;\n    input.group.className += ' error';\n    \n    if(!input.errmsg) {\n      input.insertAdjacentHTML('afterend','<small class=\"error\"></small>');\n      input.errmsg = input.parentNode.getElementsByClassName('error')[0];\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n    \n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.group.className = input.group.className.replace(/ error/g,'');\n    input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var progressBar = document.createElement('div');\n    progressBar.className = 'progress';\n\n    var meter = document.createElement('span');\n    meter.className = 'meter';\n    meter.style.width = '0%';\n    progressBar.appendChild(meter);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = progress + '%';\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = '100%';\n  }\n});\n\n// Foundation 3 Specific Theme\nJSONEditor.defaults.themes.foundation3 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'row';\n    el.innerHTML = \"<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>\";\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    var sizes = ['zero','one','two','three','four','five','six','seven','eight','nine','ten','eleven','twelve'];\n    el.className = 'columns '+sizes[size];\n  },\n  getTab: function(text) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'content active';\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n});\n\n// Foundation 4 Specific Theme\nJSONEditor.defaults.themes.foundation4 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'columns large-'+size;\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  }\n});\n\n// Foundation 5 Specific Theme\nJSONEditor.defaults.themes.foundation5 = JSONEditor.defaults.themes.foundation.extend({\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.className = 'columns medium-'+size;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text,icon,title);\n    el.className = el.className.replace(/\\s*small/g,'') + ' tiny';\n    return el;\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<dl class='tabs vertical'></dl><div class='tabs-content'></div>\";\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.className = 'content active';\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*active/g,'');\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n});\n\nJSONEditor.defaults.themes.html = JSONEditor.AbstractTheme.extend({\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'block';\n    el.style.marginBottom = '3px';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8em';\n    el.style.margin = 0;\n    el.style.display = 'inline-block';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = this._super();\n    el.style.border = '1px solid #ddd';\n    el.style.padding = '5px';\n    el.style.margin = '5px';\n    el.style.borderRadius = '3px';\n    return el;\n  },\n  getChildEditorHolder: function() {\n    var el = this._super();\n    el.style.marginBottom = '8px';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.8em';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getTable: function() {\n    var el = this._super();\n    el.style.borderBottom = '1px solid #ccc';\n    el.style.marginBottom = '5px';\n    return el;\n  },\n  addInputError: function(input, text) {\n    input.style.borderColor = 'red';\n    \n    if(!input.errmsg) {\n      var group = this.closest(input,'.form-control');\n      input.errmsg = document.createElement('div');\n      input.errmsg.setAttribute('class','errmsg');\n      input.errmsg.style = input.errmsg.style || {};\n      input.errmsg.style.color = 'red';\n      group.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = 'block';\n    }\n    \n    input.errmsg.innerHTML = '';\n    input.errmsg.appendChild(document.createTextNode(text));\n  },\n  removeInputError: function(input) {\n    input.style.borderColor = '';\n    if(input.errmsg) input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var max = 100, start = 0;\n\n    var progressBar = document.createElement('progress');\n    progressBar.setAttribute('max', max);\n    progressBar.setAttribute('value', start);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.setAttribute('value', progress);\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.removeAttribute('value');\n  }\n});\n\nJSONEditor.defaults.themes.jqueryui = JSONEditor.AbstractTheme.extend({\n  getTable: function() {\n    var el = this._super();\n    el.setAttribute('cellpadding',5);\n    el.setAttribute('cellspacing',0);\n    return el;\n  },\n  getTableHeaderCell: function(text) {\n    var el = this._super(text);\n    el.className = 'ui-state-active';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTableCell: function() {\n    var el = this._super();\n    el.className = 'ui-widget-content';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.6em';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this.getDescription(text);\n    el.style.marginLeft = '10px';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormControl: function(label, input, description) {\n    var el = this._super(label,input,description);\n    if(input.type === 'checkbox') {\n      el.style.lineHeight = '25px';\n      \n      el.style.padding = '3px 0';\n    }\n    else {\n      el.style.padding = '4px 0 8px 0';\n    }\n    return el;\n  },\n  getDescription: function(text) {\n    var el = document.createElement('span');\n    el.style.fontSize = '.8em';\n    el.style.fontStyle = 'italic';\n    el.textContent = text;\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.className = 'ui-buttonset';\n    el.style.fontSize = '.7em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.style.fontWeight = 'bold';\n    el.style.display = 'block';\n    el.textContent = text;\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var button = document.createElement(\"button\");\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n    // Icon only\n    if(icon && !text) {\n      button.className += ' ui-button-icon-only';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.className += ' ui-button-text-icon-primary';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.className += ' ui-button-text-only';\n    }\n\n    var el = document.createElement('span');\n    el.className = 'ui-button-text';\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n    \n    return button;\n  },\n  setButtonText: function(button,text, icon, title) {\n    button.innerHTML = '';\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n    // Icon only\n    if(icon && !text) {\n      button.className += ' ui-button-icon-only';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.className += ' ui-button-text-icon-primary';\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.className += ' ui-button-text-only';\n    }\n\n    var el = document.createElement('span');\n    el.className = 'ui-button-text';\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'ui-widget-content ui-corner-all';\n    el.style.padding = '1em 1.4em';\n    el.style.marginBottom = '20px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controls) return;\n    input.controls = this.closest(input,'.form-control');\n  },\n  addInputError: function(input,text) {\n    if(!input.controls) return;\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('div');\n      input.errmsg.className = 'ui-state-error';\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n  },\n  markTabActive: function(tab) {\n    tab.className = tab.className.replace(/\\s*ui-widget-header/g,'')+' ui-state-active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s*ui-state-active/g,'')+' ui-widget-header';\n  }\n});\n\nJSONEditor.defaults.themes.materialize = JSONEditor.AbstractTheme.extend({\n  attachHandlers: function(input, handler) {\n    // materialize datepicker\n    if (input.tagName === 'INPUT' && input.getAttribute('type') === 'date') {\n      if (!$isCordova()) { // don't use on mobile\n        $(input).pickadate({format: 'dd/mm/yyyy'});\n        input = $(input.parentNode).find('input').get(0);\n      }\n      $(input).change(handler); // only triggers through jquery\n    }\n    // materialize selects\n    else if (input.tagName === 'SELECT') {\n      if (!$isCordova()) { // don't use on mobile\n        $(input).material_select();\n        input = $(input.parentNode).find('select').get(0);\n      }\n      $(input).change(handler); // only triggers through jquery\n    }\n    else this._super(input, handler);\n  },\n  setGridColumnSize: function(el,size) {\n    el.className += ' col s'+size;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input, '.input-container');\n  },\n  setSelectValue: function(input) {\n    $(input).material_select(); // re-initialise when the value is programmatically changed\n  },\n  setSelectOptions: function(select, options, titles) {\n    titles = titles || [];\n    if ($isCordova()) select.className += ' browser-default'; // browser default on mobile\n    select.innerHTML = '';\n    var defaultOp = document.createElement('option');\n    defaultOp.textContent = \"Choose Option\";\n    defaultOp.disabled = true;\n    defaultOp.selected = true;\n    select.appendChild(defaultOp);\n    for(var i=0; i<options.length; i++) {\n      var option = document.createElement('option');\n      option.setAttribute('value',options[i]);\n      option.textContent = titles[i] || options[i];\n      select.appendChild(option);\n    }\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.className = 'materialize-textarea';\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    return el;\n  },\n  getFormControl: function(label, input, description, info) {\n    var group = document.createElement('div');\n    var infoSpan = document.createElement(\"i\");\n\n    group.className += ' input-container';\n\n    if (label) {\n      var id = $uuid();\n      input.id = id;\n      label.setAttribute(\"for\", id);\n    }\n\n\n    var nestedInput = input.querySelector('input');\n    if(nestedInput !== null && nestedInput.getAttribute('type') === 'radio') {\n      if (info) {\n        infoSpan.setAttribute(\"class\", \"fa fa-info prefix jutoInfoLabel\");\n        infoSpan.info = info;\n        group.appendChild(infoSpan);\n        group.appendChild(document.createTextNode(\"\\x20\")); // space\n      }\n      group.appendChild(label);\n      group.appendChild(input);\n    }\n    else if(label && input.getAttribute('type') === 'checkbox') {\n      input.className += ' filled-in';\n      group.appendChild(input);\n      group.appendChild(label);\n      if (description) group.appendChild(document.createElement('br'));\n    }\n    else {\n      group.className += ' input-field';\n      if (nestedInput !== null && nestedInput.getAttribute('type') === 'file')\n        group.className = group.className.replace(/\\s?input-field/g,'');\n\n      if (info) {\n        infoSpan.setAttribute(\"class\", \"fa fa-info prefix jutoInfoLabel\");\n        infoSpan.info = info;\n        infoSpan.style.textAlign = \"center\";\n        group.appendChild(infoSpan);\n      }\n      if (input.getAttribute('type') === 'range') {\n        group.className = group.className.replace(/\\s?input-field/g,' range-field');\n        if (label) group.appendChild(label);\n        group.appendChild(input);\n      }\n      else if (input.getAttribute('type') === 'color') {\n        group.className = group.className.replace(/\\s?input-field/g,'');\n        if (label) {\n          group.appendChild(label);\n          group.appendChild(document.createElement('br'));\n        }\n        group.appendChild(input);\n        if (description) group.appendChild(document.createElement('br'));\n      }\n      else {\n        group.appendChild(input);\n        if (label) group.appendChild(label);\n      }\n    }\n\n    if(description) group.appendChild(description);\n\n    return group;\n  },\n  getRadioLabel: function(text, isChecked) {\n    var el = this.getFormInputLabel(text);\n    el.setAttribute(\"class\",\"radioLabel\");\n    return el;\n  },\n  getHeader: function(text) {\n    var el = document.createElement('h4');\n    if(typeof text === \"string\") {\n      el.textContent = text;\n    }\n    else {\n      el.appendChild(text);\n    }\n\n    return el;\n  },\n  getRadioInput: function(name, value, checked) {\n    var radio = this.getFormInputField('radio');\n    radio.setAttribute(\"name\",name);\n    radio.setAttribute(\"value\",value);\n    if (checked) {\n     radio.setAttribute(\"checked\",true);\n    }\n    radio.setAttribute(\"class\",\"radio\");\n    return radio;\n  },\n//getRadioGroupFormControl(this.path, self.enum_values, self.enum_display, this.schema.default)\n  getRadioGroupFormControl: function(name, options, titles, defaultVal) {\n    var holder = document.createElement(\"div\");\n    holder.setAttribute(\"class\",\"radio-holder\");\n    for(var i=0; i<options.length; i++) {\n      var isChecked = (options[i] === defaultVal);\n      var radio = this.getRadioInput(name, options[i], isChecked);\n      var radioLabel = this.getRadioLabel(titles[i] || options[i], isChecked);\n      var uuid = $uuid();\n      radio.setAttribute(\"id\",uuid);\n      radioLabel.setAttribute(\"for\",uuid);\n      var p = document.createElement(\"p\");\n      p.appendChild(radio);\n      p.appendChild(radioLabel);\n      holder.appendChild(p);\n    }\n    return holder;\n  },  \n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.className = 'card-panel';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('span');\n    el.textContent = text;\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('span');\n    el.style.fontSize = '12px';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.className += 'waves-effect waves-light btn';\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.className = 'table table-bordered';\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n\n  addInputError: function(input,text) {\n    if(!input.controlgroup) return;\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('div');\n      input.errmsg.className = 'red-text right-align';\n\n      input.controlgroup.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.innerHTML = '<i class=\"mdi-alert-warning\"></i> ' + text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    var label = input.controlgroup.querySelector('label');\n    if (label) label.className = label.className.replace(/\\s?red-text\\stext-lighten-1/g, '');\n  },\n  getTabHolder: function() {\n    var el = document.createElement('div');\n    el.innerHTML = \"<div class='collection col m2'></div><div class='col m10'></div>\";\n    el.className = 'row';\n    return el;\n  },\n  getTab: function(text) {\n    var el = document.createElement('a');\n    el.className = 'collection-item';\n    el.setAttribute('href','#');\n    el.appendChild(text);\n    return el;\n  },\n  markTabActive: function(tab) {\n    tab.className += ' active';\n  },\n  markTabInactive: function(tab) {\n    tab.className = tab.className.replace(/\\s?active/g,'');\n  },\n  getProgressBar: function() {\n    var min = 0, max = 100, start = 0;\n\n    var container = document.createElement('div');\n    container.className = 'progress';\n\n    var bar = document.createElement('div');\n    bar.className = 'determinate';\n    bar.setAttribute('role', 'progressbar');\n    bar.setAttribute('aria-valuenow', start);\n    bar.setAttribute('aria-valuemin', min);\n    bar.setAttribute('aria-valuenax', max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute('aria-valuenow', progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.className = 'progress';\n    bar.className = 'indeterminate';\n    bar.removeAttribute('aria-valuenow');\n    bar.innerHTML = '';\n  }\n});\n\nJSONEditor.AbstractIconLib = Class.extend({\n  mapping: {\n    collapse: '',\n    expand: '',\n    delete: '',\n    edit: '',\n    add: '',\n    cancel: '',\n    save: '',\n    moveup: '',\n    movedown: ''\n  },\n  icon_prefix: '',\n  getIconClass: function(key) {\n    if(this.mapping[key]) return this.icon_prefix+this.mapping[key];\n    else return null;\n  },\n  getIcon: function(key) {\n    var iconclass = this.getIconClass(key);\n    \n    if(!iconclass) return null;\n    \n    var i = document.createElement('i');\n    i.className = iconclass;\n    return i;\n  }\n});\n\nJSONEditor.defaults.iconlibs.bootstrap2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-up',\n    delete: 'trash',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'ok',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'icon-'\n});\n\nJSONEditor.defaults.iconlibs.bootstrap3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    delete: 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'floppy-remove',\n    save: 'floppy-saved',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'glyphicon glyphicon-'\n});\n\nJSONEditor.defaults.iconlibs.fontawesome3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    delete: 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'icon-'\n});\n\nJSONEditor.defaults.iconlibs.fontawesome4 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-square-o-down',\n    expand: 'caret-square-o-right',\n    delete: 'times',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'fa fa-'\n});\n\nJSONEditor.defaults.iconlibs.foundation2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    delete: 'remove',\n    edit: 'edit',\n    add: 'add-doc',\n    cancel: 'error',\n    save: 'checkmark',\n    moveup: 'up-arrow',\n    movedown: 'down-arrow'\n  },\n  icon_prefix: 'foundicon-'\n});\n\nJSONEditor.defaults.iconlibs.foundation3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    delete: 'x',\n    edit: 'pencil',\n    add: 'page-add',\n    cancel: 'x-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down'\n  },\n  icon_prefix: 'fi-'\n});\n\nJSONEditor.defaults.iconlibs.jqueryui = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'triangle-1-s',\n    expand: 'triangle-1-e',\n    delete: 'trash',\n    edit: 'pencil',\n    add: 'plusthick',\n    cancel: 'closethick',\n    save: 'disk',\n    moveup: 'arrowthick-1-n',\n    movedown: 'arrowthick-1-s'\n  },\n  icon_prefix: 'ui-icon ui-icon-'\n});\n\nJSONEditor.defaults.templates.default = function() {\n  var expandVars = function(vars) {\n    var expanded = {};\n    $each(vars, function(i,el) {\n      if(typeof el === \"object\" && el !== null) {\n        var tmp = {};\n        $each(el, function(j,item) {\n          tmp[i+'.'+j] = item;\n        });\n        $extend(expanded,expandVars(tmp));\n      }\n      else {\n        expanded[i] = el;\n      }\n    });\n    return expanded;\n  };\n  \n  return {\n    compile: function(template) {\n      return function (vars) {\n        var expanded = expandVars(vars);\n        \n        var ret = template+\"\";\n        // Only supports basic {{var}} macro replacement\n        $each(expanded,function(key,value) {\n          ret = ret.replace(new RegExp('{{\\\\s*'+key+'\\\\s*}}','g'),value);\n        });\n        return ret;\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.ejs = function() {\n  if(!window.EJS) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = window.EJS.compile(template);\n\n      return function(context) {\n        context.__now = new Date();\n        context._ = window._;\n        context.moment = window.moment;\n        return compiled(context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.handlebars = function() {\n  return window.Handlebars;\n};\n\nJSONEditor.defaults.templates.hogan = function() {\n  if(!window.Hogan) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = window.Hogan.compile(template);\n      return function(context) {\n        return compiled.render(context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.jexl = function() {\n  if(!window.jexl) return false;\n  window.jexl.addTransform(\"_\", function (inputObj, lodashFuncName) { // , ...args as 3rd param\n    if (window._) {\n      if (_.hasOwnProperty(lodashFuncName)) {\n        var args = Array.prototype.slice.call(arguments,2);\n        return _[lodashFuncName].apply(this, [inputObj].concat(args));\n      } else {\n        throw new Error(\"json-editor jexl template: lodash function name '\" + lodashFuncName + \"' not valid\");\n      }\n    } else {\n      throw new Error(\"json-editor jexl template: Lodash not found\");\n    }\n  });\n\n  // allows 0|moment('new') or \"<DateObj>|moment('format','DD MMM YYYY')\"\n  window.jexl.addTransform(\"moment\", function (inputObj, momentFnName) { // , ...args as 3rd param\n    if (window.moment) {\n      if (\"new\" === momentFnName) {\n        if (typeof inputObj === \"number\") {\n          return window.moment(inputObj);\n        } else if ((typeof inputObj === \"string\" || typeof inputObj === \"object\") && inputObj.length > 0) {\n          return window.moment(inputObj);\n        } else {\n          return window.moment();\n        }\n      } else { // lets assume the input is a valid moment (or something we can pass to moment constructor)\n        var momentInst = window.moment(inputObj);\n        if (momentInst.isValid() &&\n          momentInst[momentFnName] &&\n          typeof momentInst[momentFnName] === \"function\") {\n\n          var args = Array.prototype.slice.call(arguments, 2);\n          return momentInst[momentFnName].apply(momentInst, args);\n        } else {\n          throw new Error(\"json-editor jexl template: moment function name '\" + momentFnName + \"' not valid\");\n        }\n      }\n    } else {\n      throw new Error(\"json-editor jexl template: moment not found\");\n    }\n  });\n\n  // parses HH:mm string as a JS time value (like Date.now()) set to 1/1/1970, with the hours and minutes set (secs and\n  // ms as 00).\n  window.jexl.addTransform(\"timeToEpochHHmm\", function (HHmmString) { // , ...args as 3rd param\n    if (window.moment) {\n      if (typeof window.moment.prototype[\"transform\"] === \"function\") {\n        if (/^[0-2][0-9]:[0-5][0-9]$/.test(HHmmString)) { // if it's a sort-of-valid HH:mm string\n          return moment(0)\n            .transform(HHmmString, \"HH:mm\")\n            .valueOf();\n        } // else return undefined\n      } else {\n        throw new Error(\"json-editor jexl template: parseHHMAsJSDate requires moment-transform plugin\");\n      }\n    } else {\n      throw new Error(\"json-editor jexl template: parseHHMAsJSDate : moment not found\");\n    }\n  });\n\n  return {\n    compile: function(template) {\n      // console.log(`called jexl compile(${JSON.stringify(template)})`);\n      var compiled = window.jexl.compile(template);\n\n      return function(context) {\n        // add '__now' to the context\n        var newContext = Object.assign({\n          __now: new Date()\n        }, context);\n        return compiled.evalSync(newContext);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.markup = function() {\n  if(!window.Mark || !window.Mark.up) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window.Mark.up(template,context);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.mustache = function() {\n  if(!window.Mustache) return false;\n\n  return {\n    compile: function(template) {\n      return function(view) {\n        return window.Mustache.render(template, view);\n      };\n    }\n  };\n};\n\nJSONEditor.defaults.templates.swig = function() {\n  return window.swig;\n};\n\nJSONEditor.defaults.templates.underscore = function() {\n  if(!window._) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window._.template(template, context);\n      };\n    }\n  };\n};\n\n// Set the default theme\nJSONEditor.defaults.theme = 'html';\n\n// Set the default template engine\nJSONEditor.defaults.template = 'default';\n\n// Default options when initializing JSON Editor\nJSONEditor.defaults.options = {};\n\n// String translate function\nJSONEditor.defaults.translate = function(key, variables) {\n  var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language];\n  if(!lang) throw \"Unknown language \"+JSONEditor.defaults.language;\n  \n  var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];\n  \n  if(typeof string === \"undefined\") throw \"Unknown translate string \"+key;\n  \n  if(variables) {\n    for(var i=0; i<variables.length; i++) {\n      string = string.replace(new RegExp('\\\\{\\\\{'+i+'}}','g'),variables[i]);\n    }\n  }\n  \n  return string;\n};\n\n// Translation strings and default languages\nJSONEditor.defaults.default_language = 'en';\nJSONEditor.defaults.language = JSONEditor.defaults.default_language;\nJSONEditor.defaults.languages.en = {\n  /**\n   * When a property is not set\n   */\n  error_notset: \"Property must be set\",\n  /**\n   * When a string must not be empty\n   */\n  error_notempty: \"Value required\",\n  /**\n   * When a value is not one of the enumerated values\n   */\n  error_enum: \"Choose a value\",\n  /**\n   * When a value doesn't validate any schema of a 'anyOf' combination\n   */\n  error_anyOf: \"Must validate against at least one of the provided schemas\",\n  /**\n   * When a value doesn't validate\n   * @variables This key takes one variable: The number of schemas the value does not validate\n   */\n  error_oneOf: 'Must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\n  /**\n   * When a value does not validate a 'not' schema\n   */\n  error_not: \"Must not validate against the provided schema\",\n  /**\n   * When a value does not match any of the provided types\n   */\n  error_type_union: \"One of the provided types\",\n  /**\n   * When a value does not match the given type\n   * @variables This key takes one variable: The type the value should be of\n   */\n  error_type: \"Must be of type {{0}}\",\n  /**\n   *  When the value validates one of the disallowed types\n   */\n  error_disallow_union: \"Must not be one of the provided disallowed types\",\n  /**\n   *  When the value validates a disallowed type\n   * @variables This key takes one variable: The type the value should not be of\n   */\n  error_disallow: \"Must not be of type {{0}}\",\n  /**\n   * When a value is not a multiple of or divisible by a given number\n   * @variables This key takes one variable: The number mentioned above\n   */\n  error_multipleOf: \"A multiple of {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_excl: \"Less than {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (inclusive\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_incl: \"At most {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_excl: \"Greater than {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (inclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_incl: \"At least {{0}}\",\n  /**\n   * When a value have too many characters\n   * @variables This key takes one variable: The maximum character count\n   */\n  error_maxLength: \"At most {{0}} characters long\",\n  /**\n   * When a value does not have enough characters\n   * @variables This key takes one variable: The minimum character count\n   */\n  error_minLength: \"At least {{0}} characters long\",\n  /**\n   * When a value does not match a given pattern\n   */\n  error_pattern: \"Must match the provided pattern\",\n  /**\n   * When an array has additional items whereas it is not supposed to\n   */\n  error_additionalItems: \"No additional items allowed in this array\",\n  /**\n   * When there are to many items in an array\n   * @variables This key takes one variable: The maximum item count\n   */\n  error_maxItems: \"At most {{0}} items\",\n  /**\n   * When there are not enough items in an array\n   * @variables This key takes one variable: The minimum item count\n   */\n  error_minItems: \"At least {{0}} items\",\n  /**\n   * When an array is supposed to have unique items but has duplicates\n   */\n  error_uniqueItems: \"Array must have unique items\",\n  /**\n   * When there are too many properties in an object\n   * @variables This key takes one variable: The maximum property count\n   */\n  error_maxProperties: \"Object must have at most {{0}} properties\",\n  /**\n   * When there are not enough properties in an object\n   * @variables This key takes one variable: The minimum property count\n   */\n  error_minProperties: \"Object must have at least {{0}} properties\",\n  /**\n   * When a required property is not defined\n   * @variables This key takes one variable: The name of the missing property\n   */\n  error_required: \"Object is missing the required property '{{0}}'\",\n  /**\n   * When a property is sometimes required, dependant on the value of another\n   * property (requiredIf).\n   * @variables This key takes one variable: The title of the property that is required.\n   */\n  error_requiredIf: \"{{0}} is required\",\n  /**\n   * When there is an additional property is set whereas there should be none\n   * @variables This key takes one variable: The name of the additional property\n   */\n  error_additional_properties: \"No additional properties allowed, but property {{0}} is set\",\n  /**\n   * When a dependency is not resolved\n   * @variables This key takes one variable: The name of the missing property for the dependency\n   */\n  error_dependency: \"Must have property {{0}}\",\n  /**\n   * Signature timestamp - displayed underneath a signature.\n   * @variables This key takes one variable: the timestamp (as a locale-specific time string).\n   */\n  signature_timestamp: \"Signed on {{0}}\",\n  /**\n   * text for the \"clear signature\" button below a signature.\n   */\n  clear_signature_button: \"Clear signature\"\n};\n\n// Miscellaneous Plugin Settings\nJSONEditor.plugins = {\n  ace: {\n    theme: ''\n  },\n  epiceditor: {\n\n  },\n  sceditor: {\n\n  },\n  select2: {\n    \n  }\n};\n\n// Default per-editor options\nfor(var i in JSONEditor.defaults.editors) {\n  if(!JSONEditor.defaults.editors.hasOwnProperty(i)) continue;\n  JSONEditor.defaults.editors[i].options = JSONEditor.defaults.editors.options || {};\n}\n\n// Set the default resolvers\n// Use \"multiple\" as a fall back for everything\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(typeof schema.type !== \"string\") return \"multiple\";\n});\n// Use the geolocation editor for all geolocation types\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'geolocation' && schema.format === 'geolocation') {\n    return \"geolocation\";\n  }\n});\n// If the type is set and it's a basic type, use the primitive editor\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema is a simple type\n  if(typeof schema.type === \"string\") return schema.type;\n});\n// Use the imageFile editor for all imageFIle types\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'string' && schema.format === 'imageFile') {\n    return \"imageFile\";\n  }\n});\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (schema.type === \"string\" && schema.format === \"signature\") {\n    return \"signature\";\n  }\n});\n\n// Use the select editor for all boolean values\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'boolean') {\n    if (schema.format === 'checkbox') {\n      return \"checkbox\";\n    } else {\n      return \"select\";\n    }\n  }\n});\n// Use the multiple editor for schemas where the `type` is set to \"any\"\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"any\") return \"multiple\";\n});\n// Editor for base64 encoded files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"string\" && schema.media && schema.media.binaryEncoding===\"base64\") {\n    return \"base64\";\n  }\n});\n// Editor for uploading files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"string\" && schema.format === \"url\" && schema.options && schema.options.upload === true) {\n    if(window.FileReader) return \"upload\";\n  }\n});\n// Use the table editor for arrays with the format set to `table`\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // Type `array` with format set to `table`\n  if(schema.type === \"array\" && schema.format ===\"table\") {\n    return \"table\";\n  }\n});\n// Use the `select` editor for dynamic enumSource enums\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.enumSource) return \"select\";\n});\n// Use the `enum` or `select` editors for schemas with enumerated properties\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.enum) {\n    if (schema.type === \"radio\") {\n      return \"radio\";\n    } else if ((schema.type === \"array\") && (schema.format === \"select\") && (schema.multiple === true)) {\n      return \"select\";\n    } else if(schema.type === \"array\" || schema.type === \"object\") {\n      return \"enum\";\n    } \n    else if(schema.type === \"number\" || schema.type === \"integer\" || schema.type === \"string\") {\n      return \"select\";\n    }\n  }\n});\n// Use the 'multiselect' editor for arrays of enumerated strings/numbers/integers\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"array\" && schema.items && !(Array.isArray(schema.items)) && schema.uniqueItems && schema.items.enum && ['string','number','integer'].indexOf(schema.items.type) >= 0) {\n    return 'multiselect';\n  }\n});\n// Use the multiple editor for schemas with `oneOf` set\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If this schema uses `oneOf`\n  if(schema.oneOf) return \"multiple\";\n});\n\n/**\n * This is a small wrapper for using JSON Editor like a typical jQuery plugin.\n */\n(function() {\n  if(window.jQuery || window.Zepto) {\n    var $ = window.jQuery || window.Zepto;\n    $.jsoneditor = JSONEditor.defaults;\n    \n    $.fn.jsoneditor = function(options) {\n      var self = this;\n      var editor = this.data('jsoneditor');\n      if(options === 'value') {\n        if(!editor) throw \"Must initialize jsoneditor before getting/setting the value\";\n        \n        // Set value\n        if(arguments.length > 1) {\n          editor.setValue(arguments[1]);\n        }\n        // Get value\n        else {\n          return editor.getValue();\n        }\n      }\n      else if(options === 'validate') {\n        if(!editor) throw \"Must initialize jsoneditor before validating\";\n        \n        // Validate a specific value\n        if(arguments.length > 1) {\n          return editor.validate(arguments[1]);\n        }\n        // Validate current value\n        else {\n          return editor.validate();\n        }\n      }\n      else if(options === 'destroy') {\n        if(editor) {\n          editor.destroy();\n          this.data('jsoneditor',null);\n        }\n      }\n      else {\n        // Destroy first\n        if(editor) {\n          editor.destroy();\n        }\n        \n        // Create editor\n        editor = new JSONEditor(this.get(0),options);\n        this.data('jsoneditor',editor);\n        \n        // Setup event listeners\n        editor.on('change',function() {\n          self.trigger('change');\n        });\n        editor.on('ready',function() {\n          self.trigger('ready');\n        });\n      }\n      \n      return this;\n    };\n  }\n})();\n\n  window.JSONEditor = JSONEditor;\n})();\n","// const jexl = require(\"jexl\");\nimport _ from \"../node_modules/lodash\";\nimport jexl from \"../node_modules/jexl\";\nimport moment from \"../node_modules/moment\";\nimport momentTransform from '../node_modules/moment-transform';\nimport '../dist/jsoneditor';\n\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\n  // promote imported libs to window scope\n  window.jexl = jexl;\n  window.moment = moment;\n  window._ = _;\n\n  const getDOBFromAge = (ageInYears) => {\n    return moment()\n      .subtract(ageInYears, \"years\")\n      .subtract(Math.round(Math.random(364)), \"days\")\n      .startOf(\"day\")\n      .format(\"YYYY-MM-DD\");\n  };\n\n  // const employeesDoc = {\n  //   employees:\n  //     [{\n  //       first: \"Sterling\",\n  //       last: \"Archer\",\n  //       dob: getDOBFromAge(36),\n  //       age:  36\n  //     },\n  //       {\n  //         first: \"Malory\",\n  //         last: \"Archer\",\n  //         dob: getDOBFromAge(75),\n  //         age: 75\n  //       },\n  //       {\n  //         first: \"Lana\",\n  //         last: \"Kane\",\n  //         dob: getDOBFromAge(33),\n  //         age: 33\n  //       },\n  //       {\n  //         first: \"Cyril\",\n  //         last: \"Figgis\",\n  //         dob: getDOBFromAge(45),\n  //         age: 45\n  //       },\n  //       {\n  //         first: \"Cheryl\",\n  //         last: \"Tunt\",\n  //         dob: getDOBFromAge(28),\n  //         age: 28\n  //       }],\n  //   retireAge: 62\n  // };\n  // this is just to test that jexl and lodash are loaded and working -- should log 43.4\n  // console.log(jexl.evalSync(\"employees|_(\\\"meanBy\\\",\\\"age\\\")\", employeesDoc));\n\n  // console.log(jexl.evalSync(\"inDate|moment('subtract', 1, 'year')|moment('toISOString')\", { inDate: new Date() }));\n\n\n// Initialize the editor with a JSON schema\n  var editor = new JSONEditor(document.getElementById(\"editor_holder\"), {\n    \"schema\" : {\n      \"currentState\": \"New\",\n      \"type\": \"object\",\n      \"title\": \"Timesheet Example\",\n      \"properties\": {\n        \"Date-b3tdGzfashfHoRNfv\": {\n          \"_id\": \"b3tdGzfashfHoRNfv\",\n          \"type\": \"string\",\n          \"title\": \"Timesheet Entry Date\",\n          \"format\": \"date\",\n          \"required\": true,\n          \"propertyOrder\": 73,\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"Y-m-d\",\n              \"enableTime\": false,\n              \"noCalendar\": false,\n              \"mode\": \"single\"\n            }\n          }\n        },\n        \"Time-q96RbJREypkwDoxp3\": {\n          \"_id\": \"q96RbJREypkwDoxp3\",\n          \"type\": \"string\",\n          \"title\": \"Start Time\",\n          \"format\": \"time\",\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": true,\n              \"mode\": \"single\"\n            }\n          },\n          \"required\": true,\n          \"propertyOrder\": 74\n        },\n        \"Time-DjYudWTxQqnu7KjkY\": {\n          \"_id\": \"DjYudWTxQqnu7KjkY\",\n          \"type\": \"string\",\n          \"title\": \"End Time\",\n          \"format\": \"time\",\n          \"options\": {\n            \"flatpickr\": {\n              \"dateFormat\": \"H:i\",\n              \"enableTime\": true,\n              \"noCalendar\": true,\n              \"mode\": \"single\"\n            }\n          },\n          \"required\": true,\n          \"propertyOrder\": 75\n        },\n        \"Checkbox-g6HFGjYDqnbtC6eT5\": {\n          \"_id\": \"g6HFGjYDqnbtC6eT5\",\n          \"type\": \"boolean\",\n          \"title\": \"30min Lunch Break?\",\n          \"format\": \"checkbox\",\n          \"required\": true,\n          \"propertyOrder\": 76\n        },\n        \"Text-NxWuTz4Bg6i4zrC3L\": {\n          \"_id\": \"NxWuTz4Bg6i4zrC3L\",\n          \"type\": \"string\",\n          \"title\": \"Total Hours\",\n          \"description\": \"This is calculated automatically using jexl\",\n          \"readonly\":true,\n          // \"template\": `__now|moment('startOf','day')|moment('format','DD-MM-YYYY HH:mm:ss')`,\n          \"template\": `(\n            (\n              time2|\n                timeToEpochHHmm - \n              time1|\n                timeToEpochHHmm\n            ) / 1000 / 60 / 60 - \n            (lunchbreak?0.5:0)\n          )|\n            _('round',2)|\n            _('defaultTo',0)`, // convert time2 to number, convert time1 to number, subtract them, convert to hours, round to 2 decimals. Default to 0.\n          \"watch\": {\n            \"time2\":\"Time-DjYudWTxQqnu7KjkY\",\n            \"time1\":\"Time-q96RbJREypkwDoxp3\",\n            \"lunchbreak\":\"Checkbox-g6HFGjYDqnbtC6eT5\"\n          },\n          \"required\": false,\n          \"propertyOrder\": 77\n        }\n      }\n    },\n    // schema: {\n    //   type: \"object\",\n    //   title: \"Employees\",\n    //   properties: {\n    //     retireAge: {\n    //       type: \"integer\"\n    //     },\n    //     employees: {\n    //       type: \"array\",\n    //       items: {\n    //         type: \"object\",\n    //         id: \"employee_item\",\n    //         properties: {\n    //           first: { type: \"string\" },\n    //           last: { type: \"string\" },\n    //           dob: { type: \"string\", format: \"date\", options: { flatpickr: {dateFormat: \"Y-m-d\"}} },\n    //           age: {\n    //             type: \"integer\",\n    //             template: \"__now|moment('diff', dob, 'years')\",\n    //             \"description\": \"This is calculated automatically using jexl\",\n    //             watch: {\n    //               \"dob\": \"employee_item.dob\"\n    //             }\n    //           }\n    //         }\n    //       }\n    //     },\n    //     \"averageAge\": {\n    //       \"type\": \"number\",\n    //       \"label\": \"Average Age\",\n    //       \"description\": \"This is calculated automatically using jexl\",\n    //       \"template\": \"employees|_(\\\"meanBy\\\",\\\"age\\\")\",\n    //       \"watch\": {\n    //         \"employees\": \"employees\"\n    //       }\n    //     }\n    //   }\n    // },\n    // startval: employeesDoc,\n    template: 'jexl'\n  });\n\n// Hook up the submit button to log to the console\n  document.getElementById(\"submit\")\n    .addEventListener(\"click\", function () {\n      // Get the value from the editor\n      console.log(editor.getValue());\n    });\n\n});\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}